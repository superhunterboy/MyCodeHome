!function(e,t,a,i){var n={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[\/\n]|[\/W]/g,filtration:/[；|;]+|[\n\r]+|[,|，]+/g,checkNum:/^\d{2}$/,normalTips:["说明：","1、支持常见的各种单式格式，间隔符如： 换行符 回车 逗号 分号等, 号码之间则使用空格隔开","2、上传文件后缀必须是.txt格式,最大支持10万注，并支持拖拽文件到文本框进行上传","3、文件较大时会导致上传时间较长，请耐心等待！","","格式范例1：01 02 03|03 04 05|07 08 11","格式范例2：01 02 03,03 04 05,07 08 11"].join("\n")},r="PK10",o=e.Games,s=e.Games[r],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,i=$.trim(a.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+i+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==i&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,i=a[0],n=new FileReader,r=i.type?i.type:"n/a";"text/plain"==r&&(n.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.updateData())},n.readAsText(i))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),i=a.getRangeAt(0),n=i.createContextualFragment(e);i.insertNode(n)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"",a=$.trim(e.defConfig.normalTips);return t=$.trim(t)==a?"":t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){{var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase()}t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t,a=this,i=a.defConfig,n=[],r=[];return e=$.trim(e),e=e.replace(i.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),r=e.split("|"),$.each(r,function(e){t=$.trim(this),""!=t&&n.push(t.split(" "))}),n},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e.join(""))return!1;return!0},checkRepeat:function(e){var t={};for(var a in e){if(t[e[a]])return!0;t[e[a]]=!0}return!1},minus1:function(e){for(var t=$.trim(e).split(" "),a="",i=0;i<t.length;i++)a+=Number(t[i])-1;return a},checkSingleNum:function(e){var t=this,a=!0;return $.each(e,function(){return t.defConfig.checkNum.test(this)?void 0:(a=!1,!1)}),a},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+|\s+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g,","),a=a.replace(t.defConfig.checkFont,"")+",",a=a.replace(/[,;，；:：|]+/gi,",")},checkBallIsComplete:function(e){var t=this,a=0,i=[];for(t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],i=t.iterator(e);a<i.length;a++)t.checkSingleNum(i[a])?(t.checkResult(i[a],t.tData)?t.tData.push(i[a]):t.checkResult(i[a],t.sameData)&&t.sameData.push(i[a]),t.vData.push(i[a])):t.checkResult(i[a],t.errorData)&&t.errorData.push(i[a]),t.checkResult(i[a],t.aData)&&t.aData.push(i[a]);return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],i=0;do i=e.indexOf(t,i),-1!=i&&(a.push(i),i+=t.length);while(-1!=i);return a},removeOrderError:function(){var e=this,t=[],a=0,i=e.tData.length;for(a=0;i>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,i=e.tData.length;for(a=0;i>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,i=a.substring(a.lastIndexOf("."),a.length),i=i.toLowerCase();return".txt"!=i?(alert("对不起，导入数据格式必须是.txt格式文件，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",i=o.getCurrentGameMessage(),n=[];if(""!=t.join("")){for(var r=0;r<t.length;r++)""!=$.trim(t[r].join(""))&&n.push(t[r].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+n.join("|")+"</textarea>",i.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",i=o.getCurrentGameMessage(),n=[];if(""!=t.join("")){for(var r=0;r<t.length;r++)""!=$.trim(t[r].join(""))&&n.push(t[r].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+n.join(", ")+"</textarea>",i.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,i=a.errorData,n=a.sameData,r="",s="",l=o.getCurrentGameMessage(),c=[],u=[];if(""!=n.join("")){for(var p=0;p<n.length;p++)$.trim(n[p].join(""))&&u.push(n[p].join(" "));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+u.join("|")+"</textarea>"}if(""!=i.join("")){for(var p=0;p<i.length;p++)$.trim(i[p].join(""))&&c.push(i[p].join(" "));r='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+c.join("|")+"</textarea>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+r+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){return this.makePostParameter(e)},makePostParameter:function(e){for(var t=[],a=e.length,i=0;a>i;i++)t=t.concat(e[i].join(" "));return t.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,i=this,n=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*n);a<e.length;a++)if(t==e[a])return arguments.callee.call(i,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,i="undefined"==typeof e?!0:!1,e=e||{},n=[],t=t||0,r=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(n=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return n;if(i)for(var s=0;s<r.length;s++)if(r[s].type==a.defConfig.name){var l=r[s].original.join("").replace(/,/g,"");e[l]=l}return e[n.join("")]?(t++,arguments.callee.call(a,e,t)):n},randomNum:function(){var e=this,t=[],a=null,i=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),n=[],r=[];return e.addRanNumTag(),t=e.checkRandomBets(),r=t,n=e.combination(r),a={type:i,original:r,lotterys:n,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(i),num:n.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">清理错误与重复</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},c=e.Class(l,a);c.defConfig=n,s[t]=c}(bomao,"Danshi",bomao.GameMethod);