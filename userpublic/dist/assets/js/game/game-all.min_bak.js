!function(e,t,a){var n={};n.cacheData={},n.currentGame=null,n.currentGameTypes=null,n.currentGameStatistics=null,n.currentGameOrder=null,n.currentGameTrace=null,n.currentGameSubmit=null,n.currentGameMessage=null,n.getCurrentGame=function(){return n.currentGame},n.setCurrentGame=function(e){n.currentGame=e},n.getCurrentGameTypes=function(){return n.currentGameTypes},n.setCurrentGameTypes=function(e){n.currentGameTypes=e},n.getCurrentGameStatistics=function(){return n.currentGameStatistics},n.setCurrentGameStatistics=function(e){n.currentGameStatistics=e},n.getCurrentGameOrder=function(){return n.currentGameOrder},n.setCurrentGameOrder=function(e){n.currentGameOrder=e},n.getCurrentGameTrace=function(){return n.currentGameTrace},n.setCurrentGameTrace=function(e){n.currentGameTrace=e},n.getCurrentGameSubmit=function(){return n.currentGameSubmit},n.setCurrentGameSubmit=function(e){n.currentGameSubmit=e},n.getCurrentGameMessage=function(){return n.currentGameMessage},n.setCurrentGameMessage=function(e){n.currentGameMessage=e},e[t]=n}(bomao,"Games"),function(e,t,a,n){var r={id:-1,name:"",jsNameSpace:"bomao.Games.SSC.",eventProxyPanel:"body"},i=e.Games,o=function(e){for(var t=$.trim(e).split("&"),a=0,n=t.length,r=[],i={};n>a;a++)r=t[a].split("="),r.length>0&&(i[r[0]]=2==r.length?r[1]:"");return i},s={init:function(e){var t=this;t.setName(e.name),i.setCurrentGame(t),t.setJsNameSpace(e.jsNameSpace),t.loadedHas={},t.currentGameMethod=null,t.addEvent("afterSwitchGameMethod",function(){i.getCurrentGame().getCurrentGameMethod().reSet();var e=i.getCurrentGame().getCurrentGameMethod().getId(),t=i.getCurrentGameStatistics().getMoneyUnit(),a=i.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(e,t),n=i.getCurrentGameStatistics().getMultip();n=n>a?a:n,i.getCurrentGameStatistics().setMultipleDom(n)})},getId:function(){return this.id},setId:function(e){this.id=e},getServerDynamicConfig:function(e,t){var a=this,n=i.getCurrentGame().getGameConfig().getInstance();$.ajax({url:n.getUpdateUrl(),dataType:"JSON",success:function(n){if("loginTimeout"==n.type){var r=i.getCurrentGameMessage();return r.hide(),r.show({mask:!0,confirmIsShow:!0,confirmText:"关 闭",confirmFun:function(){location.href="/"},closeFun:function(){location.href="/"},content:'<div class="pop-waring"><i class="ico-waring"></i><h4 class="pop-text">登录超时，请重新登录平台！</h4></div>'}),!1}1==Number(n.isSuccess)?(a.setDynamicConfig(n.data),$.isFunction(e)&&e.call(a,n.data)):$.isFunction(t)&&t.call(a,n)}})},setDynamicConfig:function(e){i.getCurrentGame().getGameConfig().getInstance().updateConfig(e),this.fireEvent("changeDynamicConfig",e)},eventProxy:function(){var e=this,t=e.defConfig,a=$(t.eventProxyPanel);a.click(function(t){var a,n,r=t.target.getAttribute("data-param");r&&""!=$.trim(r)&&(t.preventDefault(),a=o(r),n=e.getCurrentGameMethod(),n&&n.exeEvent(a,t.target))})},setLoadedHas:function(e,t){this.loadedHas[e]=t},getCacheMethod:function(e){var t=this,a=t.loadedHas,n=i.getCurrentGame().getGameConfig().getInstance().getMethodFullNameById(e).join(".");return a.hasOwnProperty(n)?a[n]:void 0},switchGameMethod:function(e){var t,a=this,e=Number(e),n=a.loadedHas,r=i.getCurrentGame().getGameConfig().getInstance().getMethodFullNameById(e).join(".");a.ccurrentGameMethod&&a.currentGameMethod.getId()==e||(n[r]?(t=n[r],a.fireEvent("beforeSwitchGameMethod",e),a.currentGameMethod&&a.currentGameMethod.hide(),a.currentGameMethod=t,t.setId(e),t.show(),a.fireEvent("afterSwitchGameMethod",e)):(a.fireEvent("beforeSetup",e),a.setup(e,function(){a.fireEvent("beforeSwitchGameMethod",e),a.currentGameMethod&&a.currentGameMethod.hide(),t=a.getCacheMethod(e),t.setId(e),t.show(),a.currentGameMethod=t,a.fireEvent("afterSetup"),a.fireEvent("afterSwitchGameMethod",e)})))},getCurrentGameMethod:function(){return this.currentGameMethod},setup:function(e,t){var a,n=this,r=n.buildPath(e),i=function(){};a=arguments.length>0?arguments[arguments.length-1]:i,$.isFunction(a)||(a=i),n.isSetuped(e)||$.ajax({url:r,cache:!0,dataType:"script",success:function(){n.loadedHas[r]=!0,a.call(n)},error:function(e,t){alert("资源加载失败\n"+r+"\n错误类型："+t)}})},buildPath:function(e){var t=this,a=i.getCurrentGame().getGameConfig().getInstance(),n=a.getJsPath(),r=a.getMethodFullNameById(e).join("."),o=t.getJsNamespace(),s=n+o+r+a.getJsSuffix();return s},isSetuped:function(e){var t=this,a=t.loadedHas,n=t.buildPath(e);return a.hasOwnProperty(n)},setSetuped:function(e,t,a){},setJsNameSpace:function(e){this.jsNameSpace=e},getJsNamespace:function(){return this.jsNameSpace},getGameConfig:function(){},getName:function(){return this.name},setName:function(e){this.name=e},editSubmitData:function(e){var t,a,n=this,r=e.balls;return $.each(r,function(){t=this,a=n.getCacheMethod(t.wayId),a?(a.editSubmitData(t),t.viewBalls=""):(alert("当前玩法文件未加载:"+t.type),e.balls=[])}),e.balls=encrypt(JSON.stringify(r)),e.is_encoded=1,e._token=i.getCurrentGame().getGameConfig().getInstance().getToken(),e}},l=e.Class(s,a);l.defConfig=r,e[t]=l}(bomao,"Game",bomao.Event),function(e,t,a,n){var r={id:-1,name:"",UIContainer:"#J-balls-main-panel",ballsDom:".ball-number",ballCurrentCls:"ball-number-current",methodMassageDom:".prompt .method-tip",methodExampleDom:".prompt .example-tip",randomBetsNum:500},i=e.Games,o={init:function(e){var t=this;t.id=e.id,t.name=e.name,t.UIContainer=$(e.UIContainer),t.container=$("<div></div>").appendTo(t.UIContainer),t.buildUI(),t.hide(),t.balls=[],t.rebuildData(),t.ballsDom=t.getBallsDom(),t.isBallsComplete=!1,t.addEvent("updateData",function(e,t){var a=this,t=a.isBallsComplete?t:{lotterys:[],original:[]};i.getCurrentGameStatistics().updateData(t,a.getName()),a.batchSetBallDom()}),t.addEvent("afterReset",function(){t.exeEvent_cancelCurrentButton()}),t.addEvent("afterSetBallData",function(e,a,n,r){t.exeEvent_cancelCurrentButton(a,n,r)})},getId:function(){return this.id},setId:function(e){this.id=Number(e)},getBallsDom:function(){var e=this,t=e.defConfig,a=e.balls;return a.length<1?[]:e.ballsDom||function(){var n,r=e.container.find(t.ballsDom),i=0,o=[];return $.each(a,function(e){n=this,o[e]=[],$.each(n,function(t){o[e][t]=r[i],i++})}),o}()},updataGamesInfo:function(){var e=this,t=e.getGameMethodName(),a=i.getCurrentGame(),n=t+"lostcurrentFre",r="simulatedata/getBetAward.php?type="+t+"&extent=currentFre&line=5&lenth=30&lotteryid=99101&userid=31";i.cacheData.gameBonus||(i.cacheData.gameBonus={}),i.cacheData.gameTips||(i.cacheData.gameTips={}),i.cacheData.frequency||(i.cacheData.frequency={}),i.cacheData.gameBonus[r]&&a.addDynamicBonus(t,i.cacheData.gameBonus[r]),i.cacheData.gameTips[r]&&e.methodTip(i.cacheData.gameTips[r]),i.cacheData.frequency[n]&&e.getHotCold(t,"currentFre","lost"),i.cacheData.gameBonus[r]&&i.cacheData.frequency[n]&&i.cacheData.gameTips[r]||$.ajax({url:r,dataType:"json",success:function(o){1==Number(o.isSuccess)&&(data=o.data,"undefined"!=typeof data.gameTips&&(i.cacheData.gameTips[r]=data.gameTips,e.methodTip(data.gameTips)),"undefined"!=typeof data.frequency&&(i.cacheData.frequency[n]=data.frequency,e.getHotCold(t,"currentFre","lost")),"undefined"!=typeof data.bonus&&(i.cacheData.gameBonus[r]=data.bonus,a.addDynamicBonus(t,data.bonus)))}})},methodTip:function(e){var t=this,a=t.defConfig;$(a.methodMassageDom).html(e.tips),$(a.methodExampleDom).html(e.example)},formatViewBalls:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t=t.concat(e[n].join(""));return t.join("|")},makePostParameter:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t=t.concat(e[n].join(""));return t.join("|")},arrIndexOf:function(e,t){for(var a=0,n=0;n<t.length;n++)t[n]==e&&(a+=1);return a||-1},rebuildData:function(){},getBallData:function(){return this.balls},setBallData:function(e,t,a){var n=this,r=n.getBallData();n.fireEvent("beforeSetBallData",e,t,a),e>=0&&e<r.length&&t>=0&&(r[e][t]=a),n.fireEvent("afterSetBallData",e,t,a)},setBallAidData:function(e,t,a,n){var r=this,i="ball-aid",o=r.getBallsAidDom(),n=n?i+" "+n:i;e>=0&&e<o.length&&t>=0&&t<o[0].length&&(o[e][t].innerHTML=a,o[e][t].className=n)},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.fireEvent("afterReset")},getName:function(){return this.name},setName:function(e){this.name=e},show:function(){var e=this;e.fireEvent("beforeShow"),e.container.show(),e.fireEvent("afterShow")},hide:function(){var e=this;e.fireEvent("beforeHide"),e.container.hide(),e.fireEvent("afterHide")},exeEvent:function(e,t){var a=this;$.isFunction(a["exeEvent_"+e.action])&&a["exeEvent_"+e.action].call(a,e,t)},exeEvent_batchSetBall:function(e,t){var a=this,n=a.balls,r=Number(e.row),i=Number(e.cell),o=e.bound,s=n[r],l=0,u=isNaN(i)?s.length:0,c=n.length,d="undefined"==typeof e.start?0:Number(e.start);if(halfLen=Math.ceil((u-d)/2+d),dom=$(t),l=d,"all"==o&&dom.parent().hasClass("current")&&(o="none",dom.parent().removeClass("current")),isNaN(i))for(;u>l;l++)n[r][l]=-1;else for(;c>l;l++)n[l][i]=-1;switch(o){case"all":if(isNaN(i))for(l=d;u>l;l++)a.setBallData(r,l,1);else for(l=d;c>l;l++)a.setBallData(l,i,1);break;case"big":for(l=halfLen;u>l;l++)a.setBallData(r,l,1);break;case"small":for(l=d;l<halfLen;l++)a.setBallData(r,l,1);break;case"odd":for(l=d;u>l;l++)(l+1)%2!=1&&a.setBallData(r,l,1);break;case"even":for(l=d;u>l;l++)(l+1)%2==1&&a.setBallData(r,l,1);break;case"none":}dom.hasClass("dice")&&"none"!=o?dom.parent().addClass("current"):dom.addClass("current"),a.updateData()},exeEvent_cancelCurrentButton:function(e,t,a){{var n=this,r=n.container;"undefined"!=typeof e?r.find(".ball-control").eq(e):r.find(".ball-control")}r.find(".current").removeClass("current")},exeEvent_ball:function(e,t){var a=this,r=$(t),o=a.defConfig.ballCurrentCls;if(e.value!=n&&e.row!=n)"a"==r.get(0).nodeName.toLowerCase()?r.hasClass(o)?a.setBallData(Number(e.row),Number(e.value),-1):(a.fireEvent("beforeSelect",e),a.setBallData(Number(e.row),Number(e.value),1)):r.parent().hasClass(o)?a.setBallData(Number(e.row),Number(e.value),-1):(a.fireEvent("beforeSelect",e),a.setBallData(Number(e.row),Number(e.value),1));else try{console.log("GameMethod.exeEvent_ball: lack param")}catch(s){}try{i.getCurrentGame().fireEvent("afterSelectBall",e)}catch(s){}a.updateData()},batchSetBallDom:function(){for(var e=this,t=e.defConfig,a=t.ballCurrentCls,n=e.balls,r=0,i=0,o=n.length,s=0,l=e.getBallsDom(),u="";o>r;r++)for(s=n[r].length,i=0;s>i;i++)1==n[r][i]?(u=l[r][i].className,u=(" "+u+" ").replace(" "+a,""),u+=" "+a,l[r][i].className=u.replace(/\s+/g," ")):(u=l[r][i].className,u=(" "+u+" ").replace(" "+a,""),l[r][i].className=u.replace(/\s+/g," "))},getPositionOptionData:function(){return[]},updateData:function(){var e=this,t=e.getLottery();e.fireEvent("updateData",{lotterys:t,position:e.getPositionOptionData(),original:e.getOriginal()})},editSubmitData:function(e){},getOriginal:function(){for(var e=this,t=e.getBallData(),a=t.length,n=0,r=0,i=0,o=[],s=[];a>r;r++){for(o=[],n=t[r].length,i=0;n>i;i++)t[r][i]>0&&o.push(i);s.push(o)}return s},reSelect:function(e,t){var a,n,r,i,o,s,l=this,u=(l.getName(),e),c=!1;for(t&&t.length>0&&l.reSelectPosition(t),l.reSet(),a=0,n=u.length;n>a;a++)for(r=0,i=u[a].length;i>r;r++)o=a,s=u[a][r],l.setBallData(o,s,1),c=!0;c&&l.updateData()},reSelectPosition:function(e){var t,a=this,n="current",r=a.container.find('.balls-import-positionOption input[type="checkbox"]');r.each(function(a){t=$(this),e[a]>0?(t.parent().addClass(n),t.get(0).checked=!0):(t.parent().removeClass(n),t.get(0).checked=!1)})},getLottery:function(e){for(var t,a=this,n=a.getBallData(),r=0,i=n.length,o=!0,s=0,l=0,u=[],c=1,d=0;i>r;r++){for(u[r]=[],t=n[r],l=t.length,o=!0,d=0,s=0;l>s;s++)t[s]>0&&(o=!1,e||u[r].push(s),d++);if(o)return a.isBallsComplete=!1,[];c*=d}return a.isBallsComplete=!0,e?c:a.isBallsComplete?a.combination(u):[]},removeSame:function(e){{var t,a=0,n=this,r=this.getBallData()[0].length;e.length}for(t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},removeArraySame:function(e){{var t,a=this,n=0,r=a.getBallData()[0].length;data.length}for(t=Math.floor(Math.random()*r);n<e.length;n++)if(t==e[n])return arguments.callee.call(a,e);return t},getRandomBetsNum:function(){return this.defConfig.randomBetsNum},createRandomNum:function(){for(var e=this,t=[],a=e.getBallData().length,n=e.getBallData()[0].length,r=0;a>r;r++)t[r]=[Math.floor(Math.random()*n)],t[r].sort(function(e,t){return e>t?1:-1});return t},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,o=(a.getBallData().length,a.getBallData()[0].length,i.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<o.length;s++)if(o[s].type==a.defConfig.name){var l=o[s].original.join("");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,i.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],o=[];return t=e.checkRandomBets(),o=t,r=e.combination(o),a={type:n,original:o,lotterys:r,moneyUnit:i.getCurrentGameStatistics().getMoneyUnit(),multiple:i.getCurrentGameStatistics().getMultip(),onePrice:i.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=i.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},randomLotterys:function(e){var t=this,a=0;for(i.getCurrentGameOrder().cancelSelectOrder();e>a;a++)i.getCurrentGameOrder().add(t.randomNum())},ballsErrorTip:function(){},countBallsNum:function(){for(var e=this,t=0,a=e.getBallData(),n=a.length-1;n>=0;n--)if("[object Array]"==Object.prototype.toString.call(a[n])&&a[n].length>0)for(var r=a[n].length-1;r>=0;r--)1==a[n][r]&&t++;else 1==a[n]&&t++;return t},countBallsNumInLine:function(e){var t=this,a=0,n=t.getBallData();if("[object Array]"==Object.prototype.toString.call(n[e])&&n[e].length>0)for(var r=n[e].length-1;r>=0;r--)1==n[e][r]&&a++;else 1==n[e]&&a++;return a||-1},LimitMaxBalls:function(e){{var t=this,a=0;t.getBallData(),Number(a)}return a=t.countBallsNum(),a>e?!0:!1},checkBallIsComplete:function(){for(var e,t=this,a=t.getBallData(),n=0,r=a.length,i=!0,o=0,s=0;r>n;n++){for(e=a[n],s=e.length,i=!0,o=0;s>o;o++)e[o]>0&&(i=!1);if(i)return t.isBallsComplete=!1,!1}return t.isBallsComplete=!0},combine:function(e,t,a){var n=[],r=0;if(a=a||[],0==t)return[a];for(;r<=e.length-t;r++)n=n.concat(arguments.callee(e.slice(r+1),t-1,a.slice(0).concat(e[r])));return n},combination:function(e){if(e.length<1)return[];var t,a,n,r=(e[0].length,e.length),i=[],o=[],s=[];for(i[t=r]=1;t--;)i[t]=i[t+1]*e[t].length;for(n=i[0],t=0;n>t;t++){for(s=[],a=0;r>a;a++)s[a]=e[a][~~(t%i[a]/i[a+1])];o[t]=s}return o},miniTrend_create:function(){var e,t=this,a=[];return a.push(t.miniTrend_createHeadHtml()),a.push(t.miniTrend_createRowHtml()),a.push(t.miniTrend_createFootHtml()),e=$(a.join("")),t.miniTrend_getContainer().prepend(e),e},miniTrend_createHeadHtml:function(){var e=this,t=[];return t.push('<table width="100%" class="bet-table-trend" id="J-minitrend-trendtable-'+e.getId()+'">'),t.push("<thead><tr>"),t.push('<th><span class="number">奖期</span></th>'),t.push('<th><span class="balls">开奖</th>'),t.push("</tr></thead>"),t.push("<tbody>"),t.join("")},miniTrend_createRowHtml:function(){var e,t=this,a=t.miniTrend_getBallsData(),n=a.length,r="",i="curr",o=[];return $.each(a,function(t){e=this,r="",r=0==t?"first":r,r=t==n-1?"last":r,o.push('<tr class="'+r+'">'),o.push('<td><span class="number">'+e.number.substr(2)+" 期</span></td>"),o.push('<td><span class="balls">'),$.each(e.balls,function(e){o.push("<i class="+i+">"+this+"</i>")}),o.push("</span></td>"),o.push("</tr>")}),o.join("")},miniTrend_createFootHtml:function(){var e=[];return e.push("</tbody>"),e.push("</table>"),e.join("")},miniTrend_updateTrend:function(){var e=this,t=e.miniTrend_getTrendTable().find("tbody");t.html(e.miniTrend_createRowHtml()),e.miniTrend_getContainer().find(".bet-table-trend").hide(),e.miniTrend_getTrendTable().show()},miniTrend_getTrendTable:function(){var e=this,t=this.getId(),a=$("#J-minitrend-trendtable-"+t);return a.size()>0?a:e.miniTrend_create()},miniTrend_getContainer:function(){return this.miniTrendContainer||(this.miniTrendContainer=$("#J-minitrend-cont"))},miniTrend_getBallsData:function(){var e=i.getCurrentGame().getGameConfig().getInstance();return e.getHistoryBallsList()},miniTrend_updateTrendUrl:function(){}},s=e.Class(o,a);s.defConfig=r,e[t]=s}(bomao,"GameMethod",bomao.Event),function(e,t,a,n){var r,i={lotteryClose:['<div class="bd text-center">','<p class="text-title text-left">非常抱歉，本彩种已休市。<br />请与<#=orderDate#>后再购买</p>','<div class="lottery-numbers text-left">','<div class="tltle"><#=lotteryName#> 第<strong class="color-green"><#=lotteryPeriods#></strong>期开奖号码：</div>','<div class="content">',"<#=lotterys#>",'<a href="#">查看更多&raquo;</a>',"</div>","</div>",'<dl class="lottery-list">',"<dt>您可以购买以下彩种</dt>","<#=lotteryType#>","</dl>","</div>"].join(""),checkLotters:['<div class="bd game-submit-confirm-cont">','<p class="game-submit-confirm-title">','<label class="ui-label">彩种：<#=lotteryName#></label>',"</p>",'<ul class="ui-form">',"<li>",'<div class="textarea">',"<#=lotteryInfo#>","</div>","</li>",'<li class="game-submit-confirm-tip">','<label class="ui-label">付款总金额：<span class="color-red"><#=lotteryamount#></span>元</label>',"</li>","</ul>","</div>"].join(""),nonSaleTime:['<div class="bd text-center">','<p class="text-title text-left">非常抱歉，本彩种未到销售时间。<br />请与<#=orderDate#>后再购买</p>','<dl class="lottery-list">',"<dt>您可以购买以下彩种</dt>","<#=lotteryType#>","</dl>","</div>"].join(""),normal:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),invalidtext:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),betExpired:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),multipleOver:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),pauseBet:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),successTip:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>",'<p class="text-note" style="padding:5px 0;">您可以通过”<a href="<#=link#>" target="_blank">游戏记录</a>“查询您的投注记录！</p>',"</div>"].join(""),checkBalls:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-waring <#=iconClass#>"></i>','<h4 class="pop-text">请至少选择一注投注号码！</h4>',"</div>",'<div class="pop-btn ">','<a href="javascript:void(0);" class="btn closeBtn">关 闭<b class="btn-inner"></b></a>',"</div>","</div>"].join(""),errorTip:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-error"></i>','<h4 class="pop-text"><#=msg#></h4>',"</div>","</div>"].join(""),blockade:['<div class="bd panel-game-msg-blockade" id="J-blockade-panel-main">','<form id="J-form-blockade-detail" action="ssc-blockade-detail.php" target="_blank" method="post"></form>','<div class="game-msg-blockade-text">存在<#=blockadeType#>内容，系统已为您做出 <a href="#" data-action="blockade-detail">最佳处理</a> ，点击<span class="color-red">“确认”</span>完成投注</div>',"<div>",'<div class="game-msg-blockade-line-title">彩种：<#=gameTypeTitle#></div>','<div class="game-msg-blockade-line-title">期号：<#=currentGameNumber#></div>',"</div>",'<div id="J-game-panel-msg-blockade-0">','<div class="game-msg-blockade-cont" id="J-msg-panel-submit-blockade-error0"><#=blockadeData0#></div>',"</div>",'<div class="game-msg-blockade-panel-money">','<div><b>付款总金额：</b><span class="color-red"><b id="J-money-blockade-adjust"><#=amountAdjust#></b></span> 元&nbsp;&nbsp;&nbsp;&nbsp;<span style="display:<#=display#>"><b>减少投入：</b><span class="color-red"><b id="J-money-blockade-change"><#=amountChange#></b></span> 元</span></div>',"<div><b>付款账号：</b><#=username#></div>","</div>","<div>",'<p class="text-note">购买后请您尽量避免撤单，如撤单将收取手续费：￥<span class="handlingCharge">0.00</span>元</p>','<p class="text-note">本次投注，若未涉及到付款金额变化，将不再提示</p>',"</div>","</div>"].join(""),userTypeError:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-error"></i>','<h4 class="pop-text">对不起，仅玩家允许投注</h4>',"</div>","</div>"].join("")},o=null,s=e.Games,l={init:function(t){var a=this;a.win=new e.MiniWindow({cls:"pop w-9"}),a.mask=e.Mask.getInstance(),a.reSet(),a.win.addEvent("afterHide",function(){a.reSet()})},doAction:function(e){var t=this,a="rebuild"+e.type,n="getHtml"+e.type,r=function(){};n=n.replace("-","_"),a=a.replace("-","_"),$.isFunction(t[n])||(n="getHtmlnormal"),t[a]&&$.isFunction(t[a])&&(r=t[a]),e.tpl="undefined"==typeof e.tpl?t[n]():""+e.tpl,delete e.type,r.call(t,e)},formatHtml:function(e,t){var a,n,r=t;for(a in r)r.hasOwnProperty(a)&&(n=RegExp("<#="+a+"#>","g"),e=e.replace(n,r[a]));return e},arrIndexOf:function(e,t){for(var a=0,n=0;n<t.length;n++)t[n]==e&&(a+=1);return a||-1},getHtmlerrorTip:function(){var e=this.defConfig;return e.errorTip},rebuilderrorTip:function(e){var t=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlWaring:function(){var e=this.defConfig;return e.normal},rebuildnormal:function(e){var t=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlnormal:function(){return this.getHtmlWaring()},rebuildlow_balance:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmllow_balance:function(){return this.getHtmlWaring()},rebuildissue_error:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlissue_error:function(){return this.getHtmlWaring()},rebuildbet_failed:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlbet_failed:function(){return this.getHtmlWaring()},rebuildcheckLotters:function(e){var t=this,a=(s.getCurrentGameOrder().getTotal().orders,{});a.mask=!0,a.iconClass="",a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlcheckLotters:function(){var e=this.defConfig;return e.checkLotters},rebuildlotteryClose:function(e){var t=this,a={};lotteryName=e.data.tplData.lotteryName,lotteryPeriods=e.data.tplData.lotteryPeriods,time=e.data.tplData.orderDate,lotterys=e.data.tplData.lotterys,typeArray=e.data.tplData.lotteryType,a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},e.data.tplData.lotteryName=function(){return lotteryName||""},e.data.tplData.lotteryPeriods=function(){return lotteryPeriods||""},e.data.tplData.orderDate=function(){return time.year+"年"+time.month+"月"+time.day+"日 "+time.hour+":"+time.min},e.data.tplData.lotterys=function(){var e="";if($.isArray(lotterys))for(var t=0;t<lotterys.length;t++)e+="<em>"+lotterys[t]+"</em>";return e},e.data.tplData.lotteryType=function(){var e="";if($.isArray(typeArray))for(var t=0;t<typeArray.length;t++)e+='<dd><span style="background:url('+typeArray[t].pic+')" class="pic" title="'+typeArray[t].name+'" alt="'+typeArray[t].name+'"></span><a href="'+typeArray[t].url+'" class="btn">去投注<b class="btn-inner"></b></a></dd>';return e},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmllotteryClose:function(){var e=this.defConfig;return e.lotteryClose},rebuildnonSaleTime:function(e){var t=this,a={};time=e.data.tplData.orderDate,typeArray=e.data.tplData.lotteryType,a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},e.data.tplData.orderDate=function(){return time.year+"年"+time.month+"月"+time.day+"日 "+time.hour+":"+time.min},e.data.tplData.lotteryType=function(){var e="";if($.isArray(typeArray))for(var t=0;t<typeArray.length;t++)e+='<dd><span style="background:url('+typeArray[t].pic+')" class="pic" title="'+typeArray[t].name+'" alt="'+typeArray[t].name+'"></span><a href="'+typeArray[t].url+'" class="btn">去投注<b class="btn-inner"></b></a></dd>';return e},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlnonSaleTime:function(){var e=this.defConfig;return e.nonSaleTime},rebuildno_right:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},rebuildmustChoose:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlmustChoose:function(){return this.getHtmlWaring()},rebuildnetAbnormal:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlnetAbnormal:function(){return this.getHtmlWaring()},rebuildsuccess:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlsuccess:function(){var e=this.defConfig;return e.successTip},rebuildloginTimeout:function(e){var t=this,a={};a.mask=!0,a.closeIsShow=!0,a.closeFun=function(){t.hide(),location.href="/"},a.normalCloseFun=function(){location.href="/"},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlloginTimeout:function(){return this.getHtmlWaring()},rebuildserverError:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlserverError:function(){return this.getHtmlWaring()},rebuildInsufficientbalance:function(e){var t=this,a={};a.mask=!0,a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlInsufficientbalance:function(){return this.getHtmlWaring()},rebuildpauseBet:function(e){var t=this,a={};a.mask=!0,a.confirmText="投 注",a.confirmIsShow=!0,a.confirmFun=function(){for(var t=s.getCurrentGameOrder(),a=0;a<e.data.tplData.balls.length;a++)t.removeData(e.data.tplData.balls[a].id);s.getCurrentGameSubmit().submitData()},a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},e.data.tplData.msg=function(){for(var a=[],n=s.getCurrentGame().getGameConfig().getInstance(),r=0;r<e.data.tplData.balls.length;r++){var i=e.data.tplData.balls[r].type,o=n.getTitleByName(i);-1==t.arrIndexOf(o.join(""),a)&&a.push(o.join(""))}return"您的投注内容中“"+a.join("")+"”已暂停销售，是否完成剩余内容投注？"},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlpauseBet:function(){var e=this.defConfig;return e.pauseBet},rebuildmultipleOver:function(e){var t=this,a={};a.mask=!0,a.iconClass="",a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},e.data.tplData.msg=function(){for(var a=[],n=s.getCurrentGame().getGameConfig().getInstance(),r=0;r<e.data.tplData.balls.length;r++){var i=e.data.tplData.balls[r].type,o=n.getTitleByName(i);-1==t.arrIndexOf(o.join(""),a)&&a.push(o.join(""))}return"您的投注内容中“"+a.join("")+"”超出倍数限制，请调整！"},a.content=t.formatHtml(e.tpl,e.data.tplData),t.show($.extend(a,e))},getHtmlmultipleOver:function(){var e=this.defConfig;return e.multipleOver},rebuildinvalidtext:function(e){var t=this,a={};a.mask=!0,a.confirmText="刷新页面",a.confirmIsShow=!0,a.confirmFun=function(){window.location.reload()},a.content=t.formatHtml(t.getHtmlinvalidtext(),e),t.show($.extend(a,e))},getHtmlinvalidtext:function(){var e=this.defConfig;return e.invalidtext},rebuildbetExpired:function(e){var t=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},e.data.tplData.msg=function(){return"您好，"+e.data.tplData.bitDate.expiredDate+"期 已截止销售，当前期为"+e.data.tplData.bitDate.current+"期 ，请留意！"},a.content=t.formatHtml(t.getHtmlbetExpired(),e.data.tplData),t.show($.extend(a,e))},getHtmlbetExpired:function(){var e=this.defConfig;return e.betExpired},rebuildillegalTools:function(e){var t=this,a={};a.mask=!0,a.confirmText="刷新页面",a.confirmIsShow=!0,a.confirmFun=function(){window.location.reload()},a.content=t.formatHtml(t.getHtmlbetExpired(),e.data.tplData),t.show($.extend(a,e))},getHtmlblockade:function(){return this.defConfig.blockade},rebuildblockade:function(t){var a=this,n={},r=t.data.tplData,i=t.data.orderData,o=t.data.blockadeInfo,l=i.balls,u={},c="",d="",m=s.getCurrentGameOrder().formatMoney,h=28,g=!1,p=['<ul class="game-msg-blockade-balls">'];n.mask=!0,n.closeIsShow=!0,n.closeText="关 闭",n.confirmIsShow=!0,n.confirmText="确 认",n.closeFun=function(){a.hide()},$.each(l,function(e){u[""+this.id]=this,c=this.ball,c.length>h&&(c=c.substr(0,h)+"..."),d=s.getCurrentGame().getGameConfig().getInstance().getTitleByName(this.type).join("_"),p.push('<li data-id="'+this.id+'">['+d+"] "+c+"</li>")}),p.push("</ul>"),r.gameTypeTitle=s.getCurrentGame().getGameConfig().getInstance().getGameTypeCn(),r.blockadeData0=p.join(""),r.amount=m(i.amount),r.username=o.username,r.amountAdjust=m(o.amountAdjust),r.amountChange=m(i.amount-o.amountAdjust),r.display="",1==o.type?r.blockadeType="受限":2==o.type?(r.blockadeType="奖金变动",r.display="none"):r.blockadeType="奖金变动及受限",n.callback=function(){$.ajax({url:s.getCurrentGameSubmit().defConfig.handlingChargeURL+"?amout="+o.amountAdjust,dataType:"json",method:"GET",success:function(e){1==Number(e.isSuccess)&&a.getContentDom().find(".handlingCharge").html(e.data.handingcharge)}})},n.content=a.formatHtml(a.getHtmlbetExpired(),r),n.confirmFun=function(){var e=s.getCurrentGameMessage();return g?!1:void $.ajax({url:s.getCurrentGameSubmit().defConfig.URL,data:i,dataType:"json",method:"POST",beforeSend:function(){g=!0},success:function(t){1==Number(t.isSuccess)?(e.show(t),a.clearData(),a.fireEvent("afterSubmitSuccess")):e.show(t)},complete:function(){g=!1,a.fireEvent("afterSubmit")}})},a.show($.extend(n,t)),e.util.toViewCenter(a.win.dom),$("#J-blockade-panel-main").on("click","[data-action]",function(e){{var t=$(this),a=$.trim(t.attr("data-action"));$.trim(t.parent().attr("data-id"))}switch(e.preventDefault(),a){case"blockade-detail":var n=$("#J-form-blockade-detail"),r="-";n.html(""),$('<input type="hidden" value="'+i.gameType+'" name="gameType" />').appendTo(n),$.each(l,function(){var e=this;e.lockPoint&&(""!=$.trim(e.lockPoint.beforeBlockadeList)&&$.each(e.lockPoint.beforeBlockadeList,function(){var t=this;$('<input type="hidden" value="'+t.beishu+r+t.blockadeDetail+r+t.realBeishu+r+e.type+r+e.ball+'" name="beforeBlockadeList[]" />').appendTo(n)}),""!=$.trim(e.lockPoint.pointsList)&&$.each(e.lockPoint.pointsList,function(){var t=this;$('<input type="hidden" value="'+t.mult+r+t.point+r+t.retValue+r+e.type+r+e.ball+'" name="pointsList[]" />').appendTo(n)}))}),n.submit()}})},getHtmlillegalTools:function(){return this.getHtmlWaring()},rebuildsubFailed:function(e){var t=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){t.hide()},a.content=t.formatHtml(t.getHtmlbetExpired(),e.data.tplData),t.show($.extend(a,e))},getHtmlsubFailed:function(){return this.getHtmlWaring()},getHtmlno_right:function(){return this.defConfig.userTypeError},setTitle:function(e){var t=this,a=t.win;a.setTitle(e)},setContent:function(e,t){var a=this,n=a.win;n.setContent(e,t)},hideClose:function(){var e=this,t=e.win;t.getCloseDom().hide()},hideTitle:function(){var e=this,t=e.win;t.getTitleDom().hide()},show:function(e){var t=this,a=t.win;

if(t.reSet(),"undefined"==typeof e.data&&(e.data={}),e.data.tplData="undefined"==typeof e.data.tplData?{}:e.data.tplData,e){if(e.type)return void t.doAction(e);"undefined"!=typeof e.tpl&&(e.content=t.formatHtml(e.tpl,e.data.tplData)),o&&(clearTimeout(o),o=null),t.setTitle(e.title||"温馨提示"),t.setContent(e.content||""),e.confirmText&&a.setConfirmName(e.confirmText),e.cancelText&&a.setCancelName(e.cancelText),e.closeText&&a.setCloseName(e.closeText),e.normalCloseFun&&(a.doNormalClose=e.normalCloseFun),e.confirmFun&&(a.doConfirm=e.confirmFun),e.cancelFun&&(a.doCancel=e.cancelFun),e.closeFun&&(a.doClose=e.closeFun),e.confirmIsShow&&a.showConfirmButton(),e.cancelIsShow&&a.showCancelButton(),e.closeIsShow&&a.showCloseButton(),e.hideTitle&&t.hideTitle(),e.hideClose&&t.hideClose(),e.mask&&setTimeout(function(){t.mask.show()},100),a.show(),e.callback&&e.callback.call(t),e.time&&(o=setTimeout(function(){t.hide(),clearTimeout(o),o=null},1e3*e.time))}},getContainerDom:function(){var e=this;return e.win.getContainerDom()},getContentDom:function(){var e=this;return e.win.getContentDom()},hide:function(){var e=this,t=e.win;t.hide(),e.reSet()},reSet:function(){var e=this,t=e.win;e.mask.hide(),e.setTitle("提示"),e.setContent(""),t.hideConfirmButton(),t.hideCancelButton(),t.hideCloseButton(),t.doConfirm=function(){},t.doCancel=function(){},t.doClose=function(){},t.doNormalClose=function(){},t.setConfirmName("确 认"),t.setCancelName("取 消"),t.setCloseName("关 闭")},showTip:function(e,t){var a=this;a.mask.show(),a.win.showTip(e,t)},hideTip:function(){var e=this;e.win.hideTip(),e.mask.hide()}},u=e.Class(l,a);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e[t]=u}(bomao,"GameMessage",bomao.Event),function(e,t,a,n){var r,i={panel:"#J-panel-gameTypes"},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameTypes(t),t.container=$(e.panel),t.data=o.getCurrentGame().getGameConfig().getInstance().getMethods(),t.buildDom(),t.initEvent(),o.getCurrentGame().addEvent("afterSwitchGameMethod",function(e,a){t.changePanel(a)})},buildDom:function(){var e,t,a,n=this,r=[],i=[],o=[];$.each(n.data,function(){r=[],e=this,r.push('<li class="gametypes-menu-'+e.name_en+'">'),r.push('<div class="title">'),r.push(e.name_cn),o[0]=e.name_en,r.push("<span></span>"),r.push("</div>"),r.push('<div class="content clearfix">'),r.push('<div class="sj"></div>'),$.each(e.children,function(){t=this,o[1]=t.name_en,r.push("<dl>"),r.push('<dd class="types-node types-node-'+t.name_en+'">'+t.name_cn+"</dd>"),$.each(t.children,function(){a=this,o[2]=a.name_en,r.push('<dd class="types-item" data-id="'+a.id+'">'+a.name_cn+"</dd>")}),r.push("</dl>")}),r.push("</div>"),r.push("</li>"),i.push(r.join(""))}),n.getContainerDom().html(i.join("")),n.buildPanelMenu(),setTimeout(function(){n.fireEvent("endShow")},20)},buildPanelMenu:function(){var e,t,a,n=this,r=[],i=[],o=[],s=n.getPanelDom();$.each(n.data,function(){r=[],e=this,r.push('<li class="gametypes-sort gametypes-menu-'+e.name_en+'">'),r.push('<div class="content clearfix">'),$.each(e.children,function(){t=this,o[1]=t.name_en,r.push("<dl>"),r.push('<dd class="types-node types-node-'+t.name_en+'">'+t.name_cn+"</dd>"),$.each(t.children,function(){a=this,o[2]=a.name_en,r.push('<dd class="types-item" data-id="'+a.id+'">'+a.name_cn+"</dd>")}),r.push("</dl>")}),r.push("</div>"),r.push("</li>"),i.push(r.join(""))}),s.html(i.join(""))},initEvent:function(){var e=this;e.container.on("click",".types-item",function(){var t=$(this),a=t.attr("data-id");a&&e.changeMode(a,t)}),e.getPanelDom().on("click",".types-item",function(){var t=$(this),a=t.attr("data-id");a&&e.changeMode(a,t)}),o.getCurrentGame().addEvent("afterSwitchGameMethod",function(t,a){if(e.getContainerDom().parent().hasClass("play-select-status-b")){var n=e.getPanelDom().find("dd[data-id="+a+"]"),r="types-item-current",i="gametypes-sort-current";e.getPanelDom().find(".types-item").removeClass(r),n.addClass(r),e.getPanelDom().children().removeClass(i),n.parents(".gametypes-sort").addClass(i),o.getCurrentGame().getCurrentGameMethod().container.find(".number-select-link").hide()}}),e.getContainerDom().find("li > .title").on("click",function(){var t=$(this),a=t.parent(),n=a.parent().children(),r=n.index(a.get(0)),i=e.getPanelDom().find(".gametypes-sort").eq(r),o=i.find(".types-item").eq(0),s=o.attr("data-id");e.getContainerDom().parent().hasClass("play-select-status-b")&&e.changeMode(s,o)}),e.initMenuStatusEvent()},initMenuStatusEvent:function(){var e=this;$("#J-menu-status-control").click(function(t){var a=$(this),n="menu-control-current";t.preventDefault(),a.hasClass(n)?(e.fireEvent("beforeSwitchMenuStatus",1),a.removeClass(n),e.getContainerDom().parent().removeClass("play-select-status-b"),e.getPanelDom().find(".gametypes-sort-current").removeClass("gametypes-sort-current"),o.getCurrentGame().getCurrentGameMethod().container.find(".number-select-link").show(),e.fireEvent("afterSwitchMenuStatus",1)):(e.fireEvent("beforeSwitchMenuStatus",0),a.addClass(n),e.getContainerDom().parent().addClass("play-select-status-b"),e.changeMode(o.getCurrentGame().getCurrentGameMethod().getId()),o.getCurrentGame().getCurrentGameMethod().container.find(".number-select-link").hide(),e.fireEvent("afterSwitchMenuStatus",0))})},getContainerDom:function(){return this.container},getPanelDom:function(){return this.panelDom||(this.panelDom=$("#J-gametyes-menu-panel"))},changeMode:function(e,t){{var a=this;a.getContainerDom()}a.fireEvent("beforeChange",e);try{if(e==o.getCurrentGame().getCurrentGameMethod().getGameMethodName())return}catch(n){}o.getCurrentGame().switchGameMethod(e)},changePanel:function(){}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e[t]=l}(bomao,"GameTypes",bomao.Event),function(e,t,a,n){var r,i={mainPanel:"#J-balls-statistics-panel",lotteryNumDom:"#J-balls-statistics-lotteryNum",multipleDom:"#J-balls-statistics-multiple",amountDom:"#J-balls-statistics-amount",moneyUnitDom:"#J-balls-statistics-moneyUnit",moneyUnit:1,moneyUnitData:{.01:"分",.1:"角",1:"元"},multiple:1},o=e.Games,s={init:function(t){var a=this;o.setCurrentGameStatistics(a),a.panel=$(t.mainPanel),a.moneyUnit=t.moneyUnit,a.multiple=t.multiple,a.lotteryData=[],a.multipleDom=new bomao.Select({cls:"select-game-statics-multiple",realDom:t.multipleDom,isInput:!0,expands:{inputEvent:function(){var e=this;this.getInput().keyup(function(t){var n=this.value,r=o.getCurrentGame().getCurrentGameMethod().getId(),i=a.getMoneyUnit(),s=o.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(r,i);this.value=this.value.replace(/[^\d]/g,""),""!=$.trim(this.value)&&(n=Number(this.value),1>n?this.value=1:n>s&&(this.value=s),e.setValue(this.value))}),this.getInput().blur(function(){var t=this.value,n=o.getCurrentGame().getCurrentGameMethod().getId(),r=a.getMoneyUnit(),i=o.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(n,r);this.value=this.value.replace(/[^\d]/g,""),t=Number(this.value),1>t?this.value=1:t>i&&(this.value=i),e.setValue(this.value)})}}}),a.multipleDom.setValue(a.multiple),a.multipleDom.addEvent("change",function(e,t,n){var r,i=Number(t),s=o.getCurrentGame().getCurrentGameMethod().getId(),l=a.getMoneyUnit(),u=o.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(s,l),c=(o.getCurrentGame().getCurrentGameMethod(),o.getCurrentGame().getGameConfig().getInstance().getMethodById(s));1==c.is_enable_extra&&(r=a.getPrizesMultipleBound(),u=Math.min(r.min,r.max)),i>u&&(i=u,this.setValue(i)),a.setMultiple(i),a.updateData({lotterys:o.getCurrentGame().getCurrentGameMethod().getLottery(),original:o.getCurrentGame().getCurrentGameMethod().getOriginal(),position:o.getCurrentGame().getCurrentGameMethod().getPositionOptionData()},o.getCurrentGame().getCurrentGameMethod().getName())}),$("#J-bet-statics-multiple-reduce").click(function(){var e=Number(a.multipleDom.getValue()),t=1>e-1?1:e-1;a.multipleDom.setValue(t)}),$("#J-bet-statics-multiple-add").click(function(){var e=Number(a.multipleDom.getValue());a.multipleDom.setValue(e+1)}),a.moneyUnitDom=new e.Tab({par:"#J-bet-statics-tab-moneyunit",triggers:".item",panels:".bet-statics-moneyunit-cont",eventType:"click"}),a.moneyUnitDom.setValue=function(e){var e=""+$.trim(e),t=this.par.find('[data-value="'+e+'"]'),n=this.triggers.index(t.get(0));this.triggers.removeClass("current"),t.addClass("current"),this.index=n,e=Number(e),a.setMoneyUnit(e)},a.moneyUnitDom.getValue=function(){return Number(this.par.find(".current").attr("data-value"))},a.moneyUnitDom.addEvent("afterSwitch",function(e,t){var n,r=a.getMultip(),i=o.getCurrentGame().getCurrentGameMethod(),s=o.getCurrentGame().getCurrentGameMethod().getId(),l=Number(this.triggers.eq(t).attr("data-value")),u=o.getCurrentGame().getGameConfig().getInstance().getMethodById(s),c=o.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(s,l);if(r=r>c?c:r,1==u.is_enable_extra&&(n=a.getPrizesMultipleBound(),r=Math.min(r,n.min),r=Math.min(r,n.max)),a.setMultipleDom(r),a.setMoneyUnit(l),a.updateData({lotterys:o.getCurrentGame().getCurrentGameMethod().getLottery(),original:o.getCurrentGame().getCurrentGameMethod().getOriginal(),position:o.getCurrentGame().getCurrentGameMethod().getPositionOptionData()},o.getCurrentGame().getCurrentGameMethod().getName()),1!=u.is_enable_extra||0!=i.getName().indexOf("hezhi.wuxing.hezhi")&&0!=i.getName().indexOf("liangmianpan.zhixuan.guanyahezhi")){var d=Number(u.prize)*l;d=bomao.util.formatMoney(d),d=d.split("."),d[1]="<i>"+d[1]+"</i>",d=d.join("."),$("#J-method-prize").html(d)}else a.setMultiplePrizes()}),a.moneyUnitDom.setValue(a.moneyUnit),a.updateData({lotterys:[],position:[],original:[]}),a.initRebate()},getPrizesMultipleBound:function(){var e,t=o.getCurrentGame().getCurrentGameMethod(),a=o.getCurrentGame().getGameConfig().getInstance().getMethodById(t.getId()),n=t.getBallsDom(),r=0,i=n.length,s=0,l=[],u=[],c=Number(o.getCurrentGameStatistics().getMoneyUnitDom().getValue());for(var d in a.extra)a.extra.hasOwnProperty(d)&&u.push(Number(a.extra[d]));u.sort(function(e,t){return e-t}),e=a.extra;var m={"大":"1","小":"0","单":"3","双":"2"};for(r=0;i>r;r++)for(s=0;s<n[r].length;s++)-1!=n[r][s].className.indexOf("ball-number-current")&&l.push(0==t.getName().indexOf("liangmianpan.zhixuan.guanyahezhi")?Number(e[m[$.trim(n[r][s].innerHTML)]]):Number(e[""+Number(n[r][s].innerHTML)]));return l.sort(function(e,t){return e-t}),1==l.length?{min:l[0]/c,max:l[0]/c}:0==l.length?{min:u[0]/c,max:u[u.length-1]/c}:{min:l[0]/c,max:l[l.length-1]/c}},setMultiplePrizes:function(){var e,t,a=o.getCurrentGame().getCurrentGameMethod(),n=o.getCurrentGame().getGameConfig().getInstance().getMethodById(a.getId()),r=a.getBallsDom(),i=0,s=r.length,l=0,u=[],c=[],d=[],m=[],h=Number(o.getCurrentGameStatistics().getMoneyUnitDom().getValue());for(var g in n.extra_prize)n.extra_prize.hasOwnProperty(g)&&d.push(Number(n.extra_prize[g]));d.sort(function(e,t){return e-t}),e=n.extra,t=n.extra_prize;var p={"大":"1","小":"0","单":"3","双":"2"};for(i=0;s>i;i++)for(l=0;l<r[i].length;l++)-1!=r[i][l].className.indexOf("ball-number-current")&&(0==a.getName().indexOf("liangmianpan.zhixuan.guanyahezhi")?(u.push(Number(e[p[$.trim(r[i][l].innerHTML)]])),c.push(Number(t[p[$.trim(r[i][l].innerHTML)]]))):(u.push(Number(e[""+Number(r[i][l].innerHTML)])),c.push(Number(t[""+Number(r[i][l].innerHTML)]))));return c.sort(function(e,t){return e-t}),u.sort(function(e,t){return e-t}),0==c.length?(m.push((d[0]*h).toFixed(4)),m.push((d[d.length-1]*h).toFixed(4)),void $("#J-method-prize").html(m.join(" - "))):void(1==c.length?(m.push(c.length>0?(c[0]*h).toFixed(4):0),$("#J-method-prize").html(m.join(" - "))):(m.push(c.length>0?(c[0]*h).toFixed(4):0),m.push(c.length>0?(c[c.length-1]*h).toFixed(4):0),$("#J-method-prize").html(m.join("-"))))},initRebate:function(){var t,a=this,n=o.getCurrentGame().getGameConfig().getInstance(),r=(Number(n.getConfig("subtract_prize_group")),Number(n.getConfig("bet_min_prize_group"))),i=Number(n.getConfig("user_prize_group")),s=Number(n.getConfig("bet_max_prize_group")),l=(Number(n.getConfig("user_prize_group")),Number(n.getConfig("series_amount"))),u=[],c=10*Math.floor(r/10),d=[],m=[];for(u.push(r);i>c;)c!=r&&u.push(c),c+=10;u.push(i),$.each(u,function(e){s>=this&&m.push(this)}),$.each(m,function(e){t=((i-this)/l*100).toFixed(2),0==e?d.push('<option value="'+this+'">'+this+" - "+t+"%</option>"):e==m.length-1&&d.push('<option selected="selected" value="'+this+'">'+this+" - "+t+"%</option>")}),$("#J-select-rebate").html(d.join("")),a.rebateSelect=new e.Select({realDom:"#J-select-rebate",cls:"w-2"})},getMultipleDom:function(){return this.multipleDom},getMultipleTextDom:function(){return $("#J-balls-statistics-multiple-text")},getMoneyUnitText:function(e){return this.defConfig.moneyUnitData[""+e]},updateData:function(e,t){var a=this,n=(a.defConfig,e.lotterys.length),r=2,i=a.multiple,s=a.moneyUnit;o.getCurrentGame()&&o.getCurrentGame().getCurrentGameMethod()&&(r=o.getCurrentGame().getGameConfig().getInstance().getOnePriceById(o.getCurrentGame().getCurrentGameMethod().getId())),a.setLotteryData(e),a.setLotteryNumDom(e.lotterys.length),a.setAmountDom(a.formatMoney(n*s*i*r)),a.fireEvent("afterUpdate",e.lotterys.length,n*s*i*r)},getResultData:function(){var e,t=this,a=o.getCurrentGame().getGameConfig().getInstance(),n=Number(a.getConfig("subtract_prize_group")),r=o.getCurrentGame().getCurrentGameMethod(),i=t.getLotteryData();return i.lotterys.length<1?{}:(e=o.getCurrentGame().getGameConfig().getInstance().getOnePriceById(r.getId()),{mid:r.getId(),type:r.getName(),original:i.original,position:i.position,lotterys:i.lotterys,prize_group:Number(t.rebateSelect.getValue())+n,moneyUnit:t.moneyUnit,num:i.lotterys.length,multiple:t.multiple,onePrice:e,amount:i.lotterys.length*t.moneyUnit*t.multiple*e,amountText:t.formatMoney(i.lotterys.length*t.moneyUnit*t.multiple*e)})},setMoneyUnit:function(e){var t=this;t.moneyUnit=e,t.fireEvent("setMoneyUnit_after",e)},getMoneyUnit:function(){return this.moneyUnit},getLotteryData:function(){return this.lotteryData},setLotteryData:function(e){var t=this;t.lotteryData=e},formatMoney:function(e){var e=Number(e),t=/(-?\d+)(\d{3})/;for(e=Number.prototype.toFixed?e.toFixed(2):Math.round(100*e)/100,e=""+e;t.test(e);)e=e.replace(t,"$1,$2");return e},getLotteryNumDom:function(){var e=this,t=e.defConfig;return e.lotteryNumDom||(e.lotteryNumDom=$(t.lotteryNumDom))},setLotteryNumDom:function(e){var t=this;t.getLotteryNumDom().html(e)},getMultipleDom:function(){return this.multipleDom},getMultip:function(){var e=this;return e.multiple},setMultipleDom:function(e){var t=this;t.getMultipleDom().setValue(e)},setMultiple:function(e){this.multiple=e},getMoneyUnitDom:function(){return this.moneyUnitDom},setMoneyUnitDom:function(e){var t=this;t.getMoneyUnitDom().setValue(e)},hidesetMoneyUnitDom:function(){this.moneyUnitDom.hide()},getAmountDom:function(){var e=this,t=e.defConfig;return e.amountDom||(e.amountDom=$(t.amountDom))},setAmountDom:function(e){var t=this;t.getAmountDom().html(e)},reSet:function(){var e=this,t=e.defConfig;e.multipleDom.setValue(t.multiple)}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e[t]=l}(bomao,"GameStatistics",bomao.Event),function(e,t,a,n){var r,o={containerEvent:"#J-panel-order-list-cont",containerDom:"#J-balls-order-container",totalLotterysNumDom:"#J-gameOrder-lotterys-num",totalAmountDom:"#J-gameOrder-amount",selectedClass:"game-order-current",rowTemplate:'<li data-param="action=reselect&id=<#=id#>&mid=<#=mid#>" id="gameorder-<#=id#>"><span data-param="action=reselect&id=<#=id#>" class="name" title="<#=typeText#>"><#=typeText#></span><span data-param="action=reselect&id=<#=id#>" class="number" title="<#=lotterysText#>"><#=lotterysText#></span><span data-param="action=reselect&id=<#=id#>" class="bet"><#=num#></span><span data-param="action=reselect&id=<#=id#>" class="multiple"><#=multiple#></span><span data-param="action=reselect&id=<#=id#>" class="price"><#=amountText#></span><a data-param="action=del&id=<#=id#>" href="javascript:void(0);" title="删除" class="delete"></a></li>',lotterysTextLength:40,addOrderDom:"#J-add-order"},s=e.Games,l=1,u=(Object.prototype.toString,function(e){for(var t,a=$.trim(e).split("&"),n=0,r=a.length,i={};r>n;n++)t=a[n].split("="),t.length>0&&(i[t[0]]=2==t.length?t[1]:"");return i}),c={init:function(e){var t=this,e=t.defConfig;t.cacheData={},t.cacheData.detailPostParameter={},t.orderData=[],s.setCurrentGameOrder(t),t.container=$(e.containerDom),t.containerEvent=$(e.containerEvent),t.totalLotterysNum=0,t.totalLotterysNumDom=$(e.totalLotterysNumDom),t.totalAmount=0,t.totalAmountDom=$(e.totalAmountDom),t.currentSelectId=0,t.eventProxy(),t.addEvent("afterAdd",function(){s.getCurrentGameTrace().getRowTableType();1==s.getCurrentGameTrace().getIsTrace()&&s.getCurrentGameTrace().autoDeleteTrace()}),t.addEvent("afterRemoveData",function(){s.getCurrentGameTrace().getRowTableType();1==s.getCurrentGameTrace().getIsTrace()&&s.getCurrentGameTrace().autoDeleteTrace()}),t.addEvent("afterResetData",function(){s.getCurrentGameTrace().getRowTableType();1==s.getCurrentGameTrace().getIsTrace()&&s.getCurrentGameTrace().autoDeleteTrace()}),s.getCurrentGameTypes().addEvent("endChange",function(){t.cancelSelectOrder()})},setTotalLotterysNum:function(e){var t=this,a=t.totalLotterysNum;t.totalLotterysNum=Number(e),t.totalLotterysNumDom.html(e),a!=t.totalLotterysNum&&t.fireEvent("afterChangeLotterysNum",t.totalLotterysNum)},setTotalAmount:function(e){var t=this,a=t.totalAmount;t.totalAmount=Number(e),t.totalAmountDom.html(t.formatMoney(e)),a!=t.totalAmount&&t.fireEvent("afterChangeAmout",t.totalAmount)},addData:function(e){var t=this;t.orderData.unshift(e)},getOrderById:function(e){var t=this,e=Number(e),a=t.orderData,n=0,r=a.length;for(n=0;r>n;n++)if(Number(a[n].id)==e)return a[n]},removeData:function(e){for(var t=this,e=Number(e),a=t.orderData,n=0,r=a.length;r>n;n++)if(a[n].id==e){t.fireEvent("beforeRemoveData",a[n]),t.orderData.splice(n,1),t.updateData(),t.fireEvent("afterRemoveData");break}$("#gameorder-"+e).remove(),t.fireEvent("afterRemoveData")},reSet:function(){var e=this;return e.container.empty(),e.orderData=[],e.updateData(),e.fireEvent("afterResetData"),e},updateData:function(){var e=this,t=e.getTotal();e.setTotalLotterysNum(t.count),e.setTotalAmount(t.amount)},getTotal:function(){for(var e=this,t=e.orderData,a=0,n=t.length,r=0,i=0;n>a;a++)r+=t[a].num,i+=t[a].num*t[a].onePrice*t[a].moneyUnit*t[a].multiple;return{count:r,amount:i,orders:t}},getOrderMaxMultiple:function(){for(var e,t,a,n,r,i,o=this,l=o.getTotal().orders,u=0,c=l.length,d=[],m="";c>u;u++){if(n=l[u].mid,r=l[u].multiple,e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(n),a=s.getCurrentGame().getGameConfig().getInstance().getMethodFullNameById(n),!e||!e.max_multiple)return m=s.getCurrentGame().getGameConfig().getInstance().getMethodCnFullNameById(n).join(""),void alert("["+m+"]\n玩法未配置奖金组中奖金额，投注倍数未能得到限制\n请配置该玩法相关配置");t=e.max_multiple,1==e.is_enable_extra&&(t=o.getOrderPrizesMaxMultiple(e,l[u])),i=Number(t)<0?99999999:Number(t)*(1/l[u].moneyUnit),d.push({gameMethod:a,maxnum:Math.floor(i/r)})}return d.sort(function(e,t){return e.maxnum-t.maxnum}),d.length>0?d[0]:{gameMethod:"",maxnum:1e8}},getOrderPrizesMaxMultiple:function(e,t){var a,n=t.lotterys.join("|").split("|"),r=e.extra,i=[],o=n.length;for(a=0;o>a;a++)r[n[a]]&&i.push(Number(r[n[a]]));return i.sort(function(e,t){return e-t}),i[0]},add:function(e){var t,a=this,n="",r=-1,i=a.defConfig.rowTemplate,o=0,u=s.getCurrentGameTrace().getIsTrace();if(a.fireEvent("beforeAdd",e),e.lotterys&&e.lotterys.length>0){if(a.currentSelectId>0)e.id=a.currentSelectId;else{if(r=a.checkData(e),-1!=r)return void s.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){a.addMultiple(e.multiple,r),this.hide()},data:{tplData:{msg:"您选择的号码在号码篮已存在，将直接进行倍数累加"}}});e.id=l++}if(e.amountText=a.formatMoney(e.num*e.moneyUnit*e.multiple*e.onePrice),u&&("yingli"==s.getCurrentGameTrace().getRowTableType()||"yinglilv"==s.getCurrentGameTrace().getRowTableType()))for(o=0,t=a.orderData.length;t>o;o++)if(a.orderData[o].type!=e.type||a.orderData[o].moneyUnit!=e.moneyUnit)return void alert("盈利追号和盈利率追号不允许混投，\n 请确保玩法类型和元角模式一致");e.postParameter=s.getCurrentGame().getCurrentGameMethod().makePostParameter(e.original,e),e.oldMultiple=e.multiple,n=a.formatRow(i,a.rebuildData(e)),a.currentSelectId>0?a.replaceOrder(e.id,e):a.addData(e),a.currentSelectId>0?($(n).replaceAll($("#gameorder-"+a.currentSelectId)),a.cancelSelectOrder()):$(n).prependTo(a.container),s.getCurrentGame().getCurrentGameMethod().reSet(),s.getCurrentGameStatistics().reSet(),a.updateData(),a.fireEvent("afterAdd",e)}},fastOrder:function(e){var t=this;e.id=l++,e.postParameter=s.getCurrentGame().getCurrentGameMethod().makePostParameter(e.original,e),s.getCurrentGame().getCurrentGameMethod().reSet(),s.getCurrentGameStatistics().reSet(),t.updateData(),e=t.rebuildData(e),s.getCurrentGameSubmit().fastSubmitData(e)},replaceOrder:function(e,t){for(var a=this,n=a.orderData,r=0,i=n.length;i>r;r++)if(n[r].id==e)return void(n[r]=t)},render:function(){for(var e=this,t=e.getTotal().orders,a=0,n=t.length,r=[],i=e.defConfig.rowTemplate;n>a;a++)r[a]=e.formatRow(i,e.rebuildData(t[a]));e.updateData(),e.container.html(r.join(""))},rebuildData:function(e){var t=this,a=(t.defConfig,s.getCurrentGame().getGameConfig().getInstance()),n=a.getMethodCnFullNameById(e.mid).join(","),r=s.getCurrentGame().getCacheMethod(e.mid);return e.typeText=n,e.lotterysText=r.formatViewBalls(e.original).substr(0,200),e.viewBalls=e.lotterysText,e.moneyUnitText="元",e},formatRow:function(e,t){var a,n,r=t;for(a in r)r.hasOwnProperty(a)&&(n=RegExp("<#="+a+"#>","g"),e=e.replace(n,r[a]));return e},originalData:function(e){for(var t=this,a=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)a[r]=a[r]||[],t.arrIndexOf(e[n][r],a[r])||a[r].push(e[n][r]);return a},arrIndexOf:function(e,t){for(var a,n=0;n<t.length;n++)t[n]==e&&(a=!0);return a||!1},checkData:function(e){var t,a,n=this,r=[],i=0;a=e.type,t=e.original;for(var i=0;i<t.length;i++)r.push(t[i].join(""));return moneyUnit=e.moneyUnit,n.searchSameResult(a,r.join(),moneyUnit,e.position)},eventProxy:function(){var e=this,t=e.containerEvent;t.on("click",function(t){var a,n=t.target.getAttribute("data-param");n&&""!=$.trim(n)&&(a=u(n),$.isFunction(e["exeEvent_"+a.action])&&e["exeEvent_"+a.action].call(e,a,t.target))})},exeEvent_del:function(e){var t=this,a=Number(e.id);t.currentSelectId==a&&(s.getCurrentGame().getCurrentGameMethod().reSet(),t.cancelSelectOrder()),t.removeData(a)},exeEvent_detailhide:function(e,t){$(t).parents(".lottery-details-area").eq(0).hide()},exeEvent_detail:function(e,t){var a=this,t=$(t),n=Number(e.id),r=n,i=t.next(),o=i.find(".multiple"),s=i.find(".list"),l=a.getTotal().orders,u="";if(a.cacheData.currentDetailId&&$("#gameorder-"+a.cacheData.currentDetailId+" .lottery-details-area").hide(),a.cacheData.detailPostParameter[r])u=a.cacheData.detailPostParameter[r],a.cacheData.currentDetailId=r;else{for(var c=l.length-1;c>=0;c--)if(l[c].id==n){l=l[c];break}o.text("共 "+l.num+" 注"),u=l.postParameter,a.cacheData.currentDetailId=r,a.cacheData.detailPostParameter[r]=u,i.css({left:i.position().left+i.width()+5})}s.html(u),i.show()},exeEvent_reselect:function(e){var t=this,a=Number(e.id);t.selectOrderById(a)},updateDomStatus:function(){var e=this,t="button-game-edit",a=e.currentSelectId,n=$(e.defConfig.addOrderDom);a>0?n.addClass(t):n.removeClass(t)},selectOrderById:function(e){var t=this,a=t.getOrderById(e),n=a.original,r=a.position,i=(a.type,t.defConfig.selectedClass),o=$("#gameorder-"+e);-1==t.getOrderById(e).type.indexOf("danshi")&&(o.parent().children().removeClass(i),o.addClass(i),s.getCurrentGameTypes().changeMode(a.mid),s.getCurrentGameStatistics().getMultipleDom().setValue(a.multiple),s.getCurrentGameStatistics().getMoneyUnitDom().setValue(a.moneyUnit),s.getCurrentGame().getCurrentGameMethod().reSelect(n,r),t.currentSelectId=e,t.updateDomStatus())},cancelSelectOrder:function(){{var e=this,t=e.currentSelectId;$(e.defConfig.addOrderDom)}t>0&&($("#gameorder-"+t).removeClass(e.defConfig.selectedClass),e.currentSelectId=0,e.updateDomStatus(),s.getCurrentGame().getCurrentGameMethod().reSet())},formatMoney:function(e){var e=Number(e),t=/(-?\d+)(\d{3})/;for(e=Number.prototype.toFixed?e.toFixed(2):Math.round(100*e)/100,e=""+e;t.test(e);)e=e.replace(t,"$1,$2");return e},searchSameResult:function(e,t,a,n){for(var r,i,o=this,s=0,l=[],u=!0,c=o.getTotal().orders;s<c.length;s++){l=[],r=c[s],ordersLotteryText=r.original;for(var d=0;d<ordersLotteryText.length;d++)l.push(ordersLotteryText[d].join(""));if(i=c[s].position,i.length!=n.length?u=!1:$.each(i,function(e){return i[e]!=n[e]?(u=!1,!1):void 0}),u&&r.type==e&&t==l.join()&&r.moneyUnit==a)return s}return-1},addMultiple:function(e,t){var a=this,n=a.getTotal().orders,r=n[t],i=(r.type,r.mid),o=999999;if(1!=s.getCurrentGameTrace().getIsTrace()){if(o=s.getCurrentGame().getGameConfig().getInstance().getLimitByMethodId(i),o=0>o?999999999:o,r.multiple+e>o)return void setTimeout(function(){s.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){n[t].multiple=o,n[t].oldMultiple=n[t].multiple,n[t].amount=n[t].num*n[t].moneyUnit*n[t].multiple*n[t].onePrice,n[t].amountText=a.formatMoney(n[t].num*n[t].moneyUnit*n[t].multiple*n[t].onePrice),a.render(),s.getCurrentGame().getCurrentGameMethod().reSet(),s.getCurrentGame().getCurrentGameMethod().ballsErrorTip(),s.getCurrentGameStatistics().reSet(),this.hide()},data:{tplData:{msg:"该组号码倍数已经超过最大限制("+o+"倍)，将调整为系统支持的最大倍数进行添加"}}})},100);n[t].multiple+=e,n[t].oldMultiple=n[t].multiple,n[t].amount=n[t].num*n[t].moneyUnit*n[t].multiple*n[t].onePrice,n[t].amountText=a.formatMoney(n[t].num*n[t].moneyUnit*n[t].multiple*n[t].onePrice),a.render(),s.getCurrentGame().getCurrentGameMethod().reSet(),s.getCurrentGame().getCurrentGameMethod().ballsErrorTip(),s.getCurrentGameStatistics().reSet(),a.cancelSelectOrder()}},editMultiples:function(e){for(var t=this,a=t.getTotal().orders,n=0,r=a.length;r>n;n++)a[n].multiple=e,a[n].amount=a[n].num*a[n].moneyUnit*a[n].multiple*a[n].onePrice,a[n].amountText=t.formatMoney(a[n].amount);t.render(),t.cancelSelectOrder()},editMultiple:function(e,t){var a=this,n=a.getTotal().orders;n[t].multiple=e,n[t].amount=n[t].num*n[t].moneyUnit*n[t].multiple*n[t].onePrice,n[t].amountText=a.formatMoney(n[i].amount),a.render(),a.cancelSelectOrder()},restoreMultiples:function(){for(var e=this,t=e.getTotal().orders,a=0,n=t.length;n>a;a++)t[a].multiple=t[a].oldMultiple,t[a].amount=t[a].num*t[a].moneyUnit*t[a].multiple*t[a].onePrice,t[a].amountText=e.formatMoney(t[a].amount);e.render(),e.cancelSelectOrder()}},d=e.Class(c,a);d.defConfig=o,d.getInstance=function(e){return r||(r=new d(e))},e[t]=d}(bomao,"GameOrder",bomao.Event),function(e,t,a,n){var r,o={mainPanel:"#J-trace-panel",advancedTypeHas:["fanbei","yingli","yinglilv"],dataRowHeader:'<tr><th style="width:50px;" class="text-center">序号</th><th><input data-action="checkedAll" type="checkbox"  checked="checked"/> 追号期次</th><th>倍数</th><th>金额</th><th>预计开奖时间</th></tr>',dataRowTemplate:'<tr><td class="text-center"><#=No#></td><td><input data-action="checkedRow" class="trace-row-checked" type="checkbox" checked="checked"> <span class="trace-row-number"><#=traceNumber#></span></td><td><input class="trace-row-multiple input" value="<#=multiple#>" type="text" style="width:30px;text-align:center;"></td><td><span class="trace-row-money"><#=money#></span></td><td><span class="trace-row-time"><#=publishTime#></span></td></tr>',dataRowYingliHeader:'<tr><th class="text-center">序号</th><th><input data-action="checkedAll" type="checkbox" checked="checked" /> 追号期次</th><th>倍数</th><th>金额</th><th>奖金</th><th>盈利金额</th><th>盈利率</th></tr>',dataRowLirunlvTemplate:'<tr><td class="text-center"><#=No#></td><td><input data-action="checkedRow" class="trace-row-checked" type="checkbox" checked="checked"> <span class="trace-row-number"><#=traceNumber#></span></td><td><input class="trace-row-multiple" value="<#=multiple#>" type="text" style="width:30px;text-align:center;"></td><td><span class="trace-row-money"><#=money#></span></td><td><span class="trace-row-userGroupMoney"><#=userGroupMoney#></span></td><td><span class="trace-row-winTotalAmount"><#=winTotalAmout#></span></td><td><span class="trace-row-yinglilv"><#=yinglilv#></span>%</td></tr>'},s=e.Games,l=function(e,t,a){var e=""+e,a=a||1e9;return e=e.replace(/[^\d]/g,""),e=""==e?t:Number(e)>a?a:e,Number(e)},u=function(e){return e=e.replace(/[^\d]/g,""),Number(e)},c={init:function(e){var t=this;s.setCurrentGameTrace(t),t.panel=$(e.mainPanel),t.TraceTab=null,t.TraceAdvancedTab=null,t.orderData=null,t.traceType="lirunlv",t.times=0,t.traceStartNumber="",t.currentTraceNumber="",t.isTrace=0,t.savedTraceData=null,t.advancedType=e.advancedTypeHas[0],t.typeTypeType="a",t.initEvent(),t.setCurrentTraceNumber(),s.getCurrentGame().addEvent("changeDynamicConfig",function(){t.buildStartNumberSelectDom(),t.updateTableNumber()})},getIsTrace:function(){return this.isTrace},setIsTrace:function(e){this.isTrace=Number(e)},setAdvancedType:function(e){this.advancedType="[object Number]"==Object.prototype.toString.call(e)?this.getAdvancedTypeBuIndex(e):e},getAdvancedType:function(){return this.advancedType},getAdvancedTypeBuIndex:function(e){var t=this,a=t.defConfig.advancedTypeHas,n=a.length;return n>e?a[e]:""},initEvent:function(){var t=this;t.TraceTab=new e.Tab({par:"#J-trace-panel",triggers:".chase-tab-t",panels:".chase-tab-content",currPanelClass:"chase-tab-content-current",eventType:"click"}),t.TraceTab.addEvent("afterSwitch",function(e,a){var n=["lirunlv","tongbei","fanbei"];a<n.length&&t.setTraceType(n[a]),t.updateStatistics()}),t.TraceAdvancedTab=new e.Tab({par:"#J-trace-advanced-type-panel",triggers:".tab-title li",panels:".tab-content li",eventType:"click"}),t.TraceAdvancedTab.addEvent("afterSwitch",function(e,a){var n=this.getPanel(a).find(".trace-advanced-type-switch");t.setAdvancedType(a),n.each(function(){return this.checked?(t.setTypeTypeType($(this).parent().attr("data-type")),!1):void 0})});var a=new e.Hover({triggers:"#J-trace-iswintimesstop-hover",panels:"#chase-stop-tip-1",currPanelClass:"chase-stop-tip-current",hoverDelayOut:300});$("#chase-stop-tip-1").mouseleave(function(){a.hide()});var n=new e.Hover({triggers:"#J-trace-iswinstop-hover",panels:"#chase-stop-tip-2",currPanelClass:"chase-stop-tip-current",hoverDelayOut:300});$("#chase-stop-tip-2").mouseleave(function(){n.hide()}),$("#J-chase-stop-switch-1").click(function(e){e.preventDefault(),$("#J-trace-iswintimesstop-panel").hide(),$("#J-trace-iswinstop-panel").show(),$("#J-trace-iswintimesstop").get(0).checked=!1,$("#J-trace-iswinstop").get(0).checked=!0,$("#J-trace-iswinstop-money").removeAttr("disabled"),$("#J-trace-iswintimesstop-times").attr("disabled","disabled")}),$("#J-chase-stop-switch-2").click(function(e){e.preventDefault(),$("#J-trace-iswinstop-panel").hide(),$("#J-trace-iswintimesstop-panel").show(),$("#J-trace-iswintimesstop").get(0).checked=!0,$("#J-trace-iswinstop").get(0).checked=!1,$("#J-trace-iswinstop-money").attr("disabled","disabled"),$("#J-trace-iswintimesstop-times").removeAttr("disabled")}),$("#J-trace-iswinstop-money").keyup(function(){this.value=l(this.value,1,999999)}),$("#J-trace-iswintimesstop-times").keyup(function(){this.value=l(this.value,1,999999)}),$("#J-trace-iswintimesstop").click(function(){var e=$("#J-trace-iswintimesstop-times");this.checked?e.attr("disabled",!1).focus():e.attr("disabled","disabled")}),$("#J-trace-iswinstop").click(function(){var e=$("#J-trace-iswinstop-money");this.checked?e.attr("disabled",!1).focus():e.attr("disabled","disabled")}),$("#J-trace-normal-times").keyup(function(){var e,a=s.getCurrentGame().getGameConfig().getInstance().getTraceMaxTimes(),n=""+this.value,r=$("#J-function-select-tab").find(".function-select-title li"),i="current";n=n.replace(/[^\d]/g,""),n=""==n?1:Number(n)>a?a:n,this.value=n,e=Number(n),e>0&&20>=e&&e%5==0&&r.removeClass(i).eq(e/5-1).addClass(i),
t.buildDetail()});var r=new e.Tab({par:"#J-function-select-tab",triggers:".function-select-title li",panels:".function-select-panel li",eventType:"click",index:1});r.addEvent("afterSwitch",function(e,a){var n=this,r=parseInt(n.getTrigger(a).text());$("#J-trace-normal-times").val(r),t.buildDetail()}),t.panel.find(".chase-table").keyup(function(e){var a=$(e.target),n=t.getOrderData().amount;if(a.hasClass("trace-row-multiple")){var r=Number(u(a.val())),i=t.getRowTableType(),o=Number(s.getCurrentGameOrder().getOrderMaxMultiple().maxnum);0==r?(a.val(a.val().replace(/^0/g,"")),t.updateStatistics()):r>o?a.val(o):(a.parent().parent().find(".trace-row-money").html(t.formatMoney(n*r)),a.val(r),("trace_advanced_yingli_a"==i||"trace_advanced_yingli_b"==i||"trace_advanced_yinglilv_a"==i||"trace_advanced_yinglilv_b"==i)&&t.rebuildYinglilvRows(),t.updateStatistics())}}).on("blur",".trace-row-multiple",function(e){var a=$(e.target);a.val(l(a.val(),1,s.getCurrentGameOrder().getOrderMaxMultiple().maxnum)),t.updateStatistics()}),setTimeout(function(){t.buildStartNumberSelectDom()},10),$("#J-trace-advanced-times").keyup(function(){this.value=l(this.value,10,Number($("#J-trace-number-max").text()))}),$("#J-trace-advance-multiple").keyup(function(e){var t=$(e.target),a=Number(u(t.val())),n=Number(s.getCurrentGameOrder().getOrderMaxMultiple().maxnum);t.val(0==a?t.val().replace(/^0/g,""):a>n?n:a)}).blur(function(){this.value=l(this.value,1,s.getCurrentGameOrder().getOrderMaxMultiple().maxnum)}),t.panel.find(".trace-advanced-type-switch").click(function(){var e,a=$(this),n=a.parent(),r=n.parent().children();r.each(function(i){e=r.get(i),n.get(0)!=e?$(e).find('input[type="text"]').attr("disabled","disabled"):($(e).find('input[type="text"]').attr("disabled",!1).eq(0).focus(),t.setTypeTypeType(n.attr("data-type"))),this.value=a.parent().hasClass("trace-input-multiple")?l(this.value,1,s.getCurrentGameOrder().getOrderMaxMultiple().maxnum):l(this.value,1,99999999)})}),$("#J-trace-advanced-type-panel").on("keyup","input[type=text]",function(e){var t=$(e.target);this.value=t.hasClass("trace-input-multiple")?l(this.value,1,s.getCurrentGameOrder().getOrderMaxMultiple().maxnum):l(this.value,1,99999999)}),$("#J-trace-panel .trace-button-detail").click(function(){s.getCurrentGameOrder().editMultiples(1),t.confirmSetting()}),t.panel.find(".chase-table").click(function(e){var a,n=$(e.target),r=$.trim(n.attr("data-action")),i=!0,o=t.getTraceType();if(r&&""!=r)switch(r){case"checkedAll":i=n.get(0).checked?!0:!1,a=t.getRowTableType(o),t.getRowTable(o).find(".trace-row-checked").each(function(){this.checked=i}),"lirunlv"==a&&t.rebuildYinglilvRows(),t.updateStatistics();break;case"checkedRow":n.size()>0&&(a=t.getRowTableType(),("trace_advanced_yingli_a"==a||"trace_advanced_yingli_b"==a||"trace_advanced_yinglilv_a"==a||"trace_advanced_yinglilv_b"==a)&&t.rebuildYinglilvRows(),t.updateStatistics())}}),$("#J-button-trace-clear").click(function(){t.autoDeleteTrace()}),$("#J-trace-lirunlv-times").keyup(function(){this.value=t.getTimes(t.getTraceType())}),$("#J-trace-tongbei-times").keyup(function(){this.value=t.getTimes(t.getTraceType())}),$("#J-trace-fanbei-times").keyup(function(){this.value=t.getTimes(t.getTraceType())}),$("#J-trace-tongbei-multiple").keyup(function(){var e=Number(this.value),t=s.getCurrentGameOrder().getOrderMaxMultiple().maxnum;e=isNaN(e)?1:Math.min(e,t),this.value=e}),$("#J-trace-fanbei-multiple").keyup(function(){var e=Number(this.value),t=s.getCurrentGameOrder().getOrderMaxMultiple().maxnum;e=isNaN(e)?1:Math.min(e,t),this.value=e})},buildStartNumberSelectDom:function(){var t,a=this,n=s.getCurrentGame().getGameConfig().getInstance(),r=n.getGameNumbers(),i=r.length,o=0,l=[],u=n.getCurrentGameNumber(),c="(当前期)",d=c,m="";for(a.traceStartNumberSelect&&(t=a.traceStartNumberSelect.getValue());i>o;o++)d=u==r[o].number?c:"",m=a.traceStartNumberSelect&&r[o].number==t?' selected="selected" ':"",l.push('<option value="'+r[o].number+'" '+m+" >"+r[o].number+d+"</option>");$("#J-traceStartNumber").html(l.join("")),$("#J-trace-number-max").text(i),a.traceStartNumberSelect&&a.traceStartNumberSelect.dom.remove(),a.traceStartNumberSelect=new e.Select({realDom:"#J-traceStartNumber",cls:"chase-trace-startNumber-select"}),a.traceStartNumberSelect.addEvent("change",function(e,t,n){a.setTraceStartNumber(t)})},updateTableNumber:function(){var e,t,a,n,r,i,o,l,u=this,c=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers(),d=c.length,m=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),h="",g="",p='<span class="icon-period-current"></span>';d>0&&(e=u.getNormalRowTable().find("tr"),t=u.getAdvancedRowTable().find("tr"),o=u.getStartNumberIndexByNumber(a),e.each(function(e){return 0==e?!0:(n=$(this),r=n.find(".trace-row-number"),i=n.find(".trace-row-time"),multipleDom=n.find(".trace-row-multiple"),a=r.text().replace(/[^\d]/g,""),l=n.find(".text-center"),n.find(".trace-row-multiple").removeAttr("disabled"),void(d>o+1&&(h=c[o+1].number==m?p:"",r.html(c[o+1].number+h),multipleDom.text("1"),i.text(c[o+1].time),l.html("").html(e),g=r.text().substr(0,8),o++)))}),o=u.getStartNumberIndexByNumber(a),t.each(function(e){return 0==e?!0:(n=$(this),r=n.find(".trace-row-number"),i=n.find(".trace-row-time"),multipleDom=n.find(".trace-row-multiple"),a=r.text().replace(/[^\d]/g,""),l=n.find(".text-center"),n.find(".trace-row-multiple").removeAttr("disabled"),void(d>o+1&&(h=c[o+1].number==m?p:"",r.html(c[o+1].number+h),multipleDom.text("1"),i.text(c[o+1].time),l.html("").html(e),g=r.text().substr(0,8),o++)))}))},rebuildYinglilvRows:function(){var e=this,t=e.getRowTable().find("tr"),a=e.getOrderData(),n=e.getWinMoney(),r=null,i=null,o=null,s=1,l=null,u=0,c=null,d=null,m=null,h=-1;costAmount=0,t.each(function(t){t>0&&(r=$(this),i=r.find(".trace-row-checked"),i.size()>0&&i.get(0).checked&&(o=r.find(".trace-row-multiple"),s=Number(o.val()),l=r.find(".trace-row-money"),u=Number(l.text().replace(",","")),c=r.find(".trace-row-userGroupMoney"),d=r.find(".trace-row-winTotalAmount"),m=r.find(".trace-row-yinglilv"),costAmount+=a.amount*s,l.text(e.formatMoney(a.amount*s)),c.text(e.formatMoney(n*s)),d.text(e.formatMoney(n*s-costAmount)),h=(n*s-costAmount)/costAmount*100,m.text(Number(h).toFixed(2))))})},setTypeTypeType:function(e){this.typeTypeType=e},getTypeTypeType:function(){return this.typeTypeType},getIsWinStop:function(){var e=$("#J-trace-iswintimesstop"),t=$("#J-trace-iswinstop");return e.get(0).checked?1:t.get(0).checked?2:0},getTraceWinStopValue:function(){var e=this,t=e.getIsWinStop();return 1==t?Number($("#J-trace-iswintimesstop-times").val()):2==t?Number($("#J-trace-iswinstop-money").val()):-1},updateStatistics:function(){var e=this,t=e.getResultData();$("#J-trace-statistics-times").html(t.times),$("#J-trace-statistics-lotterys-num").html(t.lotterysNum),$("#J-trace-statistics-amount").html(e.formatMoney(t.amount)),e.applyTraceData()},getSavedTraceData:function(){return this.savedTraceData},setSavedTraceData:function(e){this.savedTraceData=e},getResultData:function(){var e,t,a,n,r,i=this,o=i.getOrderData(),l=i.getRowTable(i.getTraceType()).find("tr"),u=0,c=0,d=0,m=[],h={times:0,lotterysNum:0,amount:0,orderData:o,traceData:[],traceType:i.getTraceType()},g="",p=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();return l.each(function(s){e=$(this),t=e.find(".trace-row-checked"),tracenumber=e.find(".trace-row-number"),traceNo=e.find(".text-center"),0!=s&&traceNo.html("").html(s),t.size()>0&&t.get(0).checked?(a=t.parent(),r=i.getStartNumberIndexByNumber(a.find(".trace-row-number").text()),r=-1==r?0:r,n=p[r].issueCode,e.find(".trace-row-multiple").removeAttr("disabled"),"0"==e.find(".trace-row-multiple").val()&&(e.find(".trace-row-multiple").val("1"),e.find(".trace-row-money").text(i.formatMoney(1*o.amount))),m.push({traceNumber:a.find(".trace-row-number").text(),issueCode:n,multiple:Number(a.parent().find(".trace-row-multiple").val())}),u++,d+=Number(e.find(".trace-row-money").text().replace(/,/g,""))):(e.find(".trace-row-money").text("0"),e.find(".trace-row-multiple").val("0"),e.find(".trace-row-multiple").attr("disabled","disabled").css("border","1px solid #CECECE")),g=tracenumber.text().substr(0,8)}),o&&(c=u*o.count,h={times:u,lotterysNum:c,amount:d,orderData:o,traceData:m,traceType:i.getTraceType()}),h},updateOrder:function(e){var t=this,a=s.getCurrentGameOrder().getTotal(),n=t.getRowTableType(),r=s.getCurrentGameOrder().getOrderMaxMultiple(),i=r.maxnum,o=Number(t.normalSelectMultiple.getValue()),l=Number($("#J-trace-advance-multiple").val());t.setOrderData(a),o>i&&t.normalSelectMultiple.setValue(i),l>i&&$("#J-trace-advance-multiple").val(i),e||"trace_advanced_fanbei_a"!=n&&"trace_advanced_fanbei_b"!=n&&"trace_advanced_yingli_a"!=n&&"trace_advanced_yingli_b"!=n&&"trace_advanced_yinglilv_a"!=n&&"trace_advanced_yinglilv_b"!=n||s.getCurrentGameMessage().show({type:"normal",closeFun:function(){this.hide()},data:{tplData:{msg:"您的方案已被修改，如果需要根据最新方案进行追号，请点击生成追号计划按钮"}}}),t.getAdvancedRowTable().html(""),t.updateDetail(a.amount),t.updateStatistics()},updateDetail:function(e){var t,a=this,n=a.getTable().find("tr"),r=null,i=a.getRowTableType();"trace_advanced_yingli_a"==i||"trace_advanced_yingli_b"==i||"trace_advanced_yinglilv_a"==i||"trace_advanced_yinglilv_b"==i?a.rebuildYinglilvRows():(t=a.getAdvancedRowTable().attr("data-type"),("trace_advanced_fanbei_a"==t||"trace_advanced_fanbei_b"==t)&&(n=a.getAdvancedTable().find("tr"),n.each(function(){r=$(this),rowMoney=r.find(".trace-row-money"),rowMultiple=Number(r.find(".trace-row-multiple").val()),rowMoney.text(a.formatMoney(rowMultiple*e))}))),n=a.getNormalTable().find("tr"),n.each(function(){r=$(this),rowMoney=r.find(".trace-row-money"),rowMultiple=Number(r.find(".trace-row-multiple").val()),rowMoney.text(a.formatMoney(rowMultiple*e))})},getWinMoney:function(){for(var e=this,t=e.getOrderData().orders,a=0,n=t.length,r=0;n>a;a++)r+=e.getPlayGroupMoneyByGameMethodName(t[a].mid)*t[a].moneyUnit;return r},confirmSetting:function(){var e=this;e.setOrderData(s.getCurrentGameOrder().getTotal()),e.buildDetail()},isSameGameMethod:function(){var e=this,t=e.getOrderData().orders,a="",n=-1;for(i=0,len=t.length;i<len;i++){if(""!=a){if(a!=t[i].type)return!1}else a=t[i].type;if(-1!=n){if(n!=t[i].moneyUnit)return!1}else n=t[i].moneyUnit}return!0},getSameGameMethodName:function(){var e=this,t=e.getOrderData().orders;return t.length>0?t[0].type:void 0},getSameGameMoneyUnti:function(){var e=this,t=e.getOrderData().orders;return t.length>0?t[0].moneyUnit:void 0},setOrderData:function(e){this.orderData=e},getOrderData:function(){return null==this.orderData?{count:0,amount:0,orders:[]}:this.orderData},getStartNumberIndexByNumber:function(e){for(var t=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers(),a=t.length,n=0;a>n;n++)if(t[n].number==e)return n;return-1},getStartNumberByIndex:function(e){var t=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();return t.length>e?t[e]:{}},buildDetail:function(){var e=this,t=e.getTraceType(),a=s.getCurrentGameMessage();return e.setOrderData(s.getCurrentGameOrder().getTotal()),orderAmount=e.getOrderData().amount,orderAmount<=0?void a.show({type:"mustChoose",msg:"请至少选择一注投注号码！",data:{tplData:{msg:"请至少选择一注投注号码！"}}}):($.isFunction(e["trace_"+t])&&e["trace_"+t].call(e),void e.updateStatistics())},trace_lirunlv:function(){var e,t=this,a=t.getTraceType(),n=t.defConfig.dataRowTemplate,r=[],i=t.getTimes(a),o=i,l=s.getCurrentGameOrder().getOrderMaxMultiple(),u=t.getMultiple(),c=[],d=Number($("#J-trace-lirunlv-num").val())/100,m=t.getSameGameMoneyUnti(),h=0,g=0,n=t.defConfig.dataRowLirunlvTemplate,p=t.getOrderData().orders,f=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),v='<span class="icon-period-current"></span>',b="",y=t.traceStartNumberSelect.getValue(),C=0,T=!1,x=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();if(!t.isSameGameMethod())return void s.getCurrentGameMessage().show({type:"mustChoose",msg:"",data:{tplData:{msg:"利润率追号不支持混投<br />请确保您的投注都为同一玩法类型<br />且元角模式一致。"}}});if($.each(p,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);h+=Number(e.prize),g+=this.num*Number(e.price)}),h*=m,g*=m,r.push(t.defConfig.dataRowYingliHeader),e=t.getStartNumberIndexByNumber(y),o=i,c=t.getMultipleByYinglilv(d,h,g,o,u,l.maxnum),c.length<1)return void alert("您设置的参数无法达到盈利，请重新设置");for($.each(c,function(){return this.oldMultiple>l.maxnum?(T=!0,alert("生成方案中的倍数超过了系统最大允许设置的倍数，将自动调整为系统最大可设置倍数"),!1):void 0}),C=0;C<c.length;C++)b=x[C+e].number,b==f&&(b+=v),rowData={No:C+1,traceNumber:b,multiple:c[C].multiple,money:t.formatMoney(g*c[C].multiple),userGroupMoney:t.formatMoney(h*c[C].multiple),winTotalAmout:t.formatMoney(c[C].winAmountAll),yinglilv:Number(c[C].winAmountAll/c[C].amountAll*100).toFixed(2)},r.push(t.formatRow(n,rowData));t.getRowTable(a).html(r.join("")),t.getRowTable(a).attr("data-type","lirunlv")},trace_tongbei:function(){{var e,t,a,n=this,r=n.getTraceType(),i=n.defConfig,o=i.dataRowTemplate,l=[],r=n.getTraceType(),u=n.getTimes(r),c=Number($("#J-trace-tongbei-multiple").val()),d=s.getCurrentGameOrder().getOrderMaxMultiple().maxnum,m=0,h=0,g=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),p='<span class="icon-period-current"></span>',f="",v=n.traceStartNumberSelect.getValue();s.getCurrentGame().getGameConfig().getInstance().getGameNumbers().length}for(n.setOrderData(s.getCurrentGameOrder().getTotal()),m=n.getOrderData().amount,l.push(i.dataRowHeader),e=n.getStartNumberIndexByNumber(v),h=e,u+=h,c=c>d?d:c;u>h;h++)t=n.getStartNumberByIndex(h),f=t.number,f==g&&(f+=p),t.number&&(a={No:h+1,traceNumber:f,multiple:c,money:n.formatMoney(m*c),publishTime:t.time},l.push(n.formatRow(o,a)));n.getRowTable(r).html(l.join("")),n.getRowTable(r).attr("data-type","tongbei")},trace_fanbei:function(){var e,t=this,a=t.getTraceType(),n=t.defConfig.dataRowTemplate,r=[],i=t.getTimes(a),o=t.getOrderData().orders,l=t.getSameGameMoneyUnti(),u=s.getCurrentGameOrder().getOrderMaxMultiple(),c=u.maxnum,d=Number($("#J-trace-fanbei-jump").val()),m=d,h=Number($("#J-trace-fanbei-multiple").val()),g=h,p=Number($("#J-trace-fanbei-num").val()),f=0,v=0,b=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),y='<span class="icon-period-current"></span>',C="",T=t.traceStartNumberSelect.getValue(),x=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers(),D=1;for($.each(o,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);f+=this.num*e.price}),f*=l,e=t.getStartNumberIndexByNumber(T),r.push(t.defConfig.dataRowHeader),v+=e,i+=e;i>v;v++)1>m&&(m=d,g*=p),g>c&&(g=c),C=x[v].number,C==b&&(C+=y),rowData={No:D,traceNumber:C,multiple:g,money:t.formatMoney(f*g),publishTime:x[v].time},m-=1,D++,r.push(t.formatRow(n,rowData));t.getRowTable(a).html(r.join("")),t.getRowTable(a).attr("data-type","fanbei")},trace_normal:function(){{var e,t,a,n=this,r=n.defConfig,i=r.dataRowTemplate,o=[],l=(n.getTraceType(),n.getTimes()),u=n.getMultiple(),c=(s.getCurrentGameOrder().getOrderMaxMultiple().maxnum,0),d=0,m=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),h='<span class="icon-period-current"></span>',g="",p=n.traceStartNumberSelect.getValue();s.getCurrentGame().getGameConfig().getInstance().getGameNumbers().length}for(n.setOrderData(s.getCurrentGameOrder().getTotal()),c=n.getOrderData().amount,o.push(r.dataRowHeader),e=n.getStartNumberIndexByNumber(p),d=e,l+=d;l>d;d++)t=n.getStartNumberByIndex(d),g=t.number,g==m&&(g+=h),t.number&&(a={No:d+1,traceNumber:g,multiple:u,money:n.formatMoney(c*u),publishTime:t.time},o.push(n.formatRow(i,a)));n.getRowTable().html(o.join("")),n.getRowTable().attr("data-type","trace_normal")},trace_advanced:function(){var e=this,t=e.getTraceType(),a=e.getAdvancedType(),n=e.getTypeTypeType(),r="trace_"+t+"_"+a+"_"+n;return e.isSameGameMethod()||"yingli"!=a&&"yinglilv"!=a?($.isFunction(e[r])&&e[r](),void e.getRowTable().attr("data-type",r)):void s.getCurrentGameMessage().show({type:"mustChoose",msg:"",data:{tplData:{msg:"盈利金额追号不支持混投<br />请确保您的投注都为同一玩法类型<br />且元角模式一致。"}}})},trace_advanced_fanbei_a:function(){var e,t=this,a=t.defConfig.dataRowTemplate,n=[],r=t.getTimes(),i=t.getOrderData().orders,o=t.getSameGameMoneyUnti(),l=s.getCurrentGameOrder().getOrderMaxMultiple(),u=l.maxnum,c=Number($("#J-trace-advanced-fanbei-a-jiange").val()),d=c,m=(t.getMultiple(),1),h=Number($("#J-trace-advanced-fanbei-a-multiple").val()),g=0,p=0,f=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),v='<span class="icon-period-current"></span>',b="",y=t.traceStartNumberSelect.getValue(),C=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers(),T=1;for($.each(i,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);g+=this.num*e.price}),g*=o,e=t.getStartNumberIndexByNumber(y),n.push(t.defConfig.dataRowHeader),p+=e,r+=e;r>p;p++)1>d&&(d=c,m*=h),m>u&&(m=u),b=C[p].number,b==f&&(b+=v),rowData={No:T,traceNumber:b,multiple:m,money:t.formatMoney(g*m),publishTime:C[p].time},d-=1,T++,n.push(t.formatRow(a,rowData));t.getRowTable().html(n.join(""))},trace_advanced_fanbei_b:function(){var e,t,a,n=this,r=n.defConfig.dataRowTemplate,i=[],o=n.getTimes(),l=n.getOrderData().orders,u=n.getSameGameMoneyUnti(),c=s.getCurrentGameOrder().getOrderMaxMultiple().maxnum,d=(Number($("#J-trace-advanced-fanbei-a-jiange").val()),n.getMultiple(),1),m=(Number($("#J-trace-advanced-fanbei-a-multiple").val()),0),h=0,g=Number($("#J-trace-advanced-fanbei-b-num").val()),p=Number($("#J-trace-advance-multiple").val()),f=Number($("#J-trace-advanced-fanbei-b-multiple").val()),v=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),b='<span class="icon-period-current"></span>',y="",C=n.traceStartNumberSelect.getValue(),T=(s.getCurrentGame().getGameConfig().getInstance().getGameNumbers().length,""),x="";for($.each(l,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);m+=this.num*e.price}),m*=u,i.push(n.defConfig.dataRowHeader),e=n.getStartNumberIndexByNumber(C),h=e,o+=h,t=n.getStartNumberByIndex(h);o>h&&(d=g+e>h?p>c?c:p:f>c?c:f,t=n.getStartNumberByIndex(h),t.number);h++)y=t.number,y==v&&(y+=b),x=h+1,a={No:x,traceNumber:y,multiple:d,money:n.formatMoney(m*d),publishTime:t.time},T=y.substr(0,8),i.push(n.formatRow(r,a));n.getRowTable().html(i.join(""))},trace_advanced_yingli_a:function(e){var t,a,n,r=this,i=r.defConfig.dataRowTemplate,o=[],l=r.getTimes(),u=s.getCurrentGameOrder().getOrderMaxMultiple(),c=e||u.maxnum,d=s.getCurrentGame().getGameConfig().getInstance().getMethodFullName(u.gameMethod).join("-"),m=r.getMultiple(),h=0,g=(r.getSameGameMethodName(),Number($("#J-trace-advanced-yingli-a-money").val())),p=(r.getSameGameMoneyUnti(),r.getWinMoney()),m=1,i=r.defConfig.dataRowYingliTemplate,f=r.getOrderData().orders,v=0,b=0,y=0,C=0,T=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),x='<span class="icon-period-current"></span>',D="",w=r.traceStartNumberSelect.getValue(),G=(s.getCurrentGame().getGameConfig().getInstance().getGameNumbers().length,""),S="";for(o.push(r.defConfig.dataRowYingliHeader),t=r.getStartNumberIndexByNumber(w),h=t,l+=h,a=r.getStartNumberByIndex(h);l>h;h++){if(v=0,y=0,m=1,$.each(f,function(e){var t=this,a=t.num,n=t.onePrice,r=t.multiple,i=a*r*n,o=p*r;y+=o,v+=i}),m=r.getMultipleByMoney(p,g,v,b),0>m)return void alert("盈利金额追号无法到达您预期设定的目标值，请修改您的设置");if(m>c){if(s.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){r.trace_advanced_yingli_a(c),r.updateStatistics(),this.hide()},data:{tplData:{msg:"盈利金额追号中的<b>["+d+"]</b>的倍数超过了最大倍数限制，系统将自动调整为最大可设置倍数"}}}),!e)return;m=e}if(v*=m,b+=v,y=p*m-b,C=y/b,a=r.getStartNumberByIndex(h),!a.number)break;D=a.number,D==T&&(D+=x),S=h+1,n={No:S,traceNumber:D,multiple:m,money:r.formatMoney(v),userGroupMoney:r.formatMoney(p*m),winTotalAmout:r.formatMoney(y),yinglilv:Number(100*C).toFixed(2)},G=D.substr(0,8),o.push(r.formatRow(i,n))}r.getRowTable().html(o.join(""))},trace_advanced_yingli_b:function(e){var t,a,n,r=this,i=r.defConfig.dataRowTemplate,o=[],l=r.getTimes(),u=s.getCurrentGameOrder().getOrderMaxMultiple(),c=e||u.maxnum,d=s.getCurrentGame().getGameConfig().getInstance().getMethodFullName(u.gameMethod).join("-"),m=r.getMultiple(),h=0,g=(r.getSameGameMethodName(),Number($("#J-trace-advanced-yingli-b-num").val())),p=Number($("#J-trace-advanced-yingli-b-money1").val()),f=Number($("#J-trace-advanced-yingli-b-money2").val()),v=(r.getSameGameMoneyUnti(),r.getWinMoney()),m=1,i=r.defConfig.dataRowYingliTemplate,b=r.getOrderData().orders,y=0,C=0,T=0,x=0,D=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),w='<span class="icon-period-current"></span>',G="",S=r.traceStartNumberSelect.getValue(),N=(s.getCurrentGame().getGameConfig().getInstance().getGameNumbers().length,""),_="";for(o.push(r.defConfig.dataRowYingliHeader),t=r.getStartNumberIndexByNumber(S),h=t,l+=h,a=r.getStartNumberByIndex(h);l>h;h++){if(h+1>g+t&&(p=f),y=0,T=0,m=1,$.each(b,function(e){var t=this,a=t.num,n=t.onePrice,r=t.multiple,i=a*r*n,o=v*r;T+=o,y+=i}),m=r.getMultipleByMoney(v,p,y,C),0>m)return void s.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){this.hide()},data:{tplData:{msg:"盈利金额追号无法到达您预期设定的目标值，请修改您的设置"}}});if(m>c){if(s.getCurrentGameMessage().show({type:"normal",closeText:"确定",closeFun:function(){r.trace_advanced_yingli_b(c),r.updateStatistics(),this.hide()},data:{tplData:{msg:"盈利金额追号中的<b>["+d+"]</b>的倍数超过了最大倍数限制，系统将自动调整为最大可设置倍数"}}}),!e)return;m=e}if(y*=m,C+=y,T=v*m-C,x=T/C,a=r.getStartNumberByIndex(h),!a.number)break;G=a.number,G==D&&(G+=w),n={No:_,traceNumber:G,multiple:m,money:r.formatMoney(y),userGroupMoney:r.formatMoney(v*m),winTotalAmout:r.formatMoney(T),yinglilv:Number(100*x).toFixed(2)},N=G.substr(0,8),o.push(r.formatRow(i,n))}r.getRowTable().html(o.join(""))},trace_advanced_yinglilv_a:function(){var e,t=this,a=t.defConfig.dataRowTemplate,n=[],r=t.getTimes(),i=s.getCurrentGameOrder().getOrderMaxMultiple(),o=t.getMultiple(),l=[],u=Number($("#J-trace-advanced-yinglilv-a").val())/100,c=t.getSameGameMoneyUnti(),d=0,m=0,a=t.defConfig.dataRowYingliTemplate,h=t.getOrderData().orders,g=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),p='<span class="icon-period-current"></span>',f="",v=t.traceStartNumberSelect.getValue(),b=0,y=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();if($.each(h,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);d+=e.prize,m+=this.num*e.price}),d*=c,m*=c,n.push(t.defConfig.dataRowYingliHeader),e=t.getStartNumberIndexByNumber(v),l=t.getMultipleByYinglilv(u,d,m,r,o,i.maxnum),l.length<1)return void alert("您设置的参数无法达到盈利，请重新设置");for($.each(l,function(e){return this.oldMultiple>i.maxnum?(alert("生成方案中的倍数超过了系统最大允许设置的倍数，将自动调整为系统最大可设置倍数"),!1):void 0});b<l.length;b++)f=y[b+e].number,f==g&&(f+=p),rowData={No:b+1,traceNumber:f,multiple:l[b].multiple,money:t.formatMoney(m*l[b].multiple),userGroupMoney:t.formatMoney(d*l[b].multiple),winTotalAmout:t.formatMoney(l[b].winAmountAll),yinglilv:Number(l[b].winAmountAll/l[b].amountAll*100).toFixed(2)},n.push(t.formatRow(a,rowData));t.getRowTable().html(n.join(""))},trace_advanced_yinglilv_b:function(e){var t,a=this,n=a.defConfig.dataRowTemplate,r=[],i=a.getTimes(),o=i,l=s.getCurrentGameOrder().getOrderMaxMultiple(),u=a.getMultiple(),c=[],d=Number($("#J-trace-advanced-yingli-b-yinglilv1").val())/100,m=Number($("#J-trace-advanced-yingli-b-yinglilv2").val())/100,h=0,g=Number($("#J-trace-advanced-yinglilv-b-num").val()),p=a.getSameGameMoneyUnti(),f=0,v=0,n=a.defConfig.dataRowYingliTemplate,b=a.getOrderData().orders,y=s.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber(),C='<span class="icon-period-current"></span>',T="",x=a.traceStartNumberSelect.getValue(),D=0,w=!1,G=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();if($.each(b,function(){var e=s.getCurrentGame().getGameConfig().getInstance().getMethodById(this.mid);f+=e.prize,v+=this.num*e.price}),f*=p,v*=p,r.push(a.defConfig.dataRowYingliHeader),t=a.getStartNumberIndexByNumber(x),o=g>=i?i:g,c=a.getMultipleByYinglilv(d,f,v,o,u,l.maxnum),c.length<1)return void alert("您设置的参数无法达到盈利，请重新设置");for($.each(c,function(){return this.oldMultiple>l.maxnum?(w=!0,alert("生成方案中的倍数超过了系统最大允许设置的倍数，将自动调整为系统最大可设置倍数"),!1):void 0});D<c.length;D++)T=G[D+t].number,T==y&&(T+=C),rowData={No:D+1,traceNumber:T,multiple:c[D].multiple,money:a.formatMoney(v*c[D].multiple),userGroupMoney:a.formatMoney(f*c[D].multiple),winTotalAmout:a.formatMoney(c[D].winAmountAll),yinglilv:Number(c[D].winAmountAll/c[D].amountAll*100).toFixed(2)},r.push(a.formatRow(n,rowData));if(i>g)for($.each(c,function(){u+=this.multiple}),o=i-g,c=a.getMultipleByYinglilv(m,f,v,o,u,l.maxnum),$.each(c,function(){return!w&&this.oldMultiple>l.maxnum?(alert("生成方案中的倍数超过了系统最大允许设置的倍数，将自动调整为系统最大倍数"),!1):void 0}),h=D,D=0;D<c.length;D++)T=G[D+h+t].number,T==y&&(T+=C),rowData={No:D+1,traceNumber:T,multiple:c[D].multiple,money:a.formatMoney(v*c[D].multiple),userGroupMoney:a.formatMoney(f*c[D].multiple),winTotalAmout:a.formatMoney(c[D].winAmountAll),yinglilv:Number(c[D].winAmountAll/c[D].amountAll*100).toFixed(2)},r.push(a.formatRow(n,rowData));a.getRowTable().html(r.join(""))},getMultipleByYinglilv:function(e,t,a,n,r,i){for(var o,s=r*a,l=0,u=0,c=[];n>u&&(o=Math.ceil(s*(1+e)/(t-a*(1+e))),!(1>o));u++)l=o,o=o>i?i:o,0==u?s=o*a:s+=o*a,c.push({multiple:o,amountAll:s,winAmountAll:t*o-s,oldMultiple:l});return c},getMultipleByMoney:function(e,t,a,n){for(var r=1,i=1e5;i>r;r++)if(e*r-n-a*r>t)return r;return-1},getPlayGroupMoneyByGameMethodName:function(e){return Number(s.getCurrentGame().getGameConfig().getInstance().getMethodById(e).prize)},formatRow:function(e,t){var a,n,r=t;for(a in r)r.hasOwnProperty(a)&&(n=RegExp("<#="+a+"#>","g"),e=e.replace(n,r[a]));return e},formatMoney:function(e){var e=Number(e),t=/(-?\d+)(\d{3})/;for(e=Number.prototype.toFixed?e.toFixed(2):Math.round(100*e)/100,e=""+e;t.test(e);)e=e.replace(t,"$1,$2");return e},getAdvancedTable:function(){var e=this;return e._advancedTable||(e._advancedTable=$("#J-trace-table-advanced"))},getAdvancedRowTable:function(){var e=this;return e._advancedTableContainer||(e._advancedTableContainer=$("#J-trace-table-advanced-body"))},getNormalTable:function(){var e=this;return e._table||(e._table=$("#J-trace-table"))},getNormalRowTable:function(){var e=this;return e._tableContainer||(e._tableContainer=$("#J-trace-table-body"))},getTable:function(){var e=this;return e.isAdvanced()?e._advancedTable||(e._advancedTable=$("#J-trace-table-advanced")):e._table||(e._table=$("#J-trace-table"))},getRowTable:function(e){return $("#J-trace-table-"+e+"-body")},setCurrentTraceNumber:function(e){var t=this;t.currentTraceNumber=e},getCurrentTraceNumber:function(){return me.currentTraceNumber},setTraceStartNumber:function(e){var t=this;t.traceStartNumber=e},getTraceStartNumber:function(){return me.traceStartNumber},getMultiple:function(){var e=this;return e.isAdvanced()?e.getAdvancedMultiple():e.getNormalMultiple()},getNormalMultiple:function(){return Number(this.normalSelectMultiple.getValue())},getAdvancedMultiple:function(){return Number($("#J-trace-advance-multiple").val())},setIsWinStop:function(e){this.isWinStop=!!e},getTimes:function(e){var t=$("#J-trace-"+e+"-times").val().replace(/[^\d]/g,""),a=s.getCurrentGame().getGameConfig().getInstance().getGameNumbers();return num=Number(t),num=num==isNaN(num)?1:num,num=num<=0?1:num,num=num>a.length?a.length:num,num},getAdvancedTimes:function(){return Number($("#J-trace-advanced-times").val())},isAdvanced:function(){var e=this;return"lirunlv"==e.traceType||"fanbei"==e.traceType},setTraceType:function(e){var t=this;t.traceType=e},getTraceType:function(){return this.traceType},getRowTableType:function(e){var t=this;return t.getRowTable(e).attr("data-type")},emptyRowTable:function(){var e=this;$("#J-trace-table-body").html(""),$("#J-trace-table-advanced-body").html(""),e.updateStatistics()},show:function(){var e=this,t=s.getCurrentGameOrder().getTotal().amount,a=s.getCurrentGameMessage();return 0>=t?void a.show({type:"mustChoose",msg:"请至少选择一注投注号码！",data:{tplData:{msg:"请至少选择一注投注号码！"}}}):(s.getCurrentGameOrder().editMultiples(1),void e.showPanel())},hide:function(){},showPanel:function(){var t=this;e.Mask.getInstance().show(),t.panel.show()},hidePanel:function(){var t=this;e.Mask.getInstance().hide(),t.panel.hide()},applyTraceData:function(){var e=this,t=Number($.trim($("#J-trace-statistics-times").text())),a=Number($.trim($("#J-trace-statistics-lotterys-num").text())),n=Number($.trim($("#J-trace-statistics-amount").text().replace(/[^\d|\.]/g,"")));t>0?(e.setIsTrace(1),s.getCurrentGameOrder().setTotalLotterysNum(a),s.getCurrentGameOrder().setTotalAmount(n),$("#J-trace-num-text").text(t)):(s.getCurrentGameOrder().restoreMultiples(),e.setIsTrace(0))},deleteTrace:function(){var e=this;s.getCurrentGameOrder().restoreMultiples(),e.setIsTrace(0),e.getTbodys().html(""),e.updateStatistics()},getTbodys:function(){var e=this;return e.panel.find("tbody[data-type]")},autoDeleteTrace:function(){var e=this;e.deleteTrace()},reSetTab:function(){var e=this,t=e.TraceTab,a=e.TraceAdvancedTab;t.triggers.removeClass(t.defConfig.currClass),t.triggers.eq(0).addClass(t.defConfig.currClass),t.panels.removeClass(t.defConfig.currPanelClass),t.panels.eq(0).addClass(t.defConfig.currPanelClass),t.index=0,a.triggers.removeClass(a.defConfig.currClass),a.triggers.eq(0).addClass(a.defConfig.currClass),a.panels.removeClass(a.defConfig.currPanelClass),a.panels.eq(0).addClass(a.defConfig.currPanelClass),a.index=0,$("#J-trace-normal-times").val(10),$("#J-function-select-tab .function-select-title li").removeClass("current").eq(1).addClass("current"),e.normalSelectMultiple.setValue(1),$("#J-trace-advanced-times").val(10),$("#J-trace-advance-multiple").val(1),$("#J-trace-advanced-fanbei-a-jiange").val(2),$("#J-trace-advanced-fanbei-a-multiple").val(2),$("#J-trace-advanced-fanbei-b-num").val(5),$("#J-trace-advanced-fanbei-b-multiple").val(3),$("#J-trace-advanced-yingli-a-money").val(100),$("#J-trace-advanced-yingli-b-num").val(2),$("#J-trace-advanced-yingli-b-money1").val(100),$("#J-trace-advanced-yingli-b-money2").val(50),$("#J-trace-advanced-yinglilv-a").val(10),$("#J-trace-advanced-yinglilv-b-num").val(5),$("#J-trace-advanced-yingli-b-yinglilv1").val(30),$("#J-trace-advanced-yingli-b-yinglilv2").val(10),e.setTraceType("lirunlv"),e.advancedType=e.defConfig.advancedTypeHas[0],e.typeTypeType="a",$("#J-trace-advanced-type-panel").find('input[type="radio"]').each(function(e){if((e+1)%2!=0){var t,a=$(this),n=a.parent(),r=n.parent().children();this.checked=!0,r.each(function(e){t=r.get(e),n.get(0)!=t?$(t).find('input[type="text"]').attr("disabled","disabled"):$(t).find('input[type="text"]').attr("disabled",!1)})}})}},d=e.Class(c,a);d.defConfig=o,d.getInstance=function(e){return r||(r=new d(e))},e[t]=d}(bomao,"GameTrace",bomao.Event),function(e,t,a,n){var r,i={},o=e.Games,s={init:function(e){{var t=this;t.defConfig}t.postLock=null,o.setCurrentGameSubmit(t)},getSubmitData:function(){var e={},t=o.getCurrentGameOrder().orderData,a=0,n=t.length,r=o.getCurrentGameTrace().getResultData(),i=0,s=r.traceData.length;for(e.gameId=o.getCurrentGame().getGameConfig().getInstance().getGameId(),e.isTrace=o.getCurrentGameTrace().getIsTrace(),e.traceWinStop=o.getCurrentGameTrace().getIsWinStop(),e.traceStopValue=o.getCurrentGameTrace().getTraceWinStopValue(),e.balls=[];n>a;a++)e.balls.push({jsId:t[a].id,wayId:t[a].mid,ball:t[a].postParameter.split(",").join("|"),position:t[a].position,viewBalls:t[a].viewBalls,num:t[a].num,type:t[a].type,onePrice:t[a].onePrice,prize_group:t[a].prize_group,moneyunit:t[a].moneyUnit,multiple:t[a].multiple});if(e.orders={},e.isTrace<1)e.orders[o.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber()]=1,e.amount=o.getCurrentGameOrder().getTotal().amount;else{for(;s>i;i++)e.orders[r.traceData[i].traceNumber]=r.traceData[i].multiple;

e.amount=r.amount}return e},doPostLock:function(){var e=this;e.postLock=!0},cancelPostLock:function(){var e=this;e.postLock=!1},clearData:function(){var e=o.getCurrentGameOrder();e.reSet(),e.cancelSelectOrder(),o.getCurrentGame().getCurrentGameMethod().reSet()},fastSubmitData:function(e){var t,a=this,n=[],r=0,i=0,s={};for(n.push(e),t=n.length,s.gameId=o.getCurrentGame().getGameConfig().getInstance().getGameId(),s.isTrace=0,s.traceWinStop=1,s.traceStopValue=1,s.balls=[];t>i;i++)s.balls.push({jsId:n[i].id,wayId:n[i].mid,ball:n[i].postParameter.split(",").join("|"),position:n[i].position,viewBalls:n[i].viewBalls,num:n[i].num,type:n[i].type,onePrice:n[i].onePrice,prize_group:n[i].prize_group,moneyunit:n[i].moneyUnit,multiple:n[i].multiple}),r+=n[i].num*n[i].onePrice*n[i].moneyUnit*n[i].multiple;s.orders={},s.orders[o.getCurrentGame().getGameConfig().getInstance().getCurrentGameNumber()]=1,s.amount=r,a.submitData(!0,s)},submitData:function(e,t){var a,n=this,r=e?t:n.getSubmitData(),i=o.getCurrentGameMessage();if(!n.postLock){if(r.balls.length<=0)return i.show({type:"mustChoose",msg:"请至少选择一注投注号码！",data:{tplData:{msg:"请至少选择一注投注号码！"}}}),void n.cancelPostLock();r.amount=Number(r.amount).toFixed(2),a=o.getCurrentGame().editSubmitData(r),$.ajax({url:o.getCurrentGame().getGameConfig().getInstance().getSubmitUrl(),data:a,dataType:"json",method:"POST",beforeSend:function(){n.doPostLock(),n.fireEvent("beforeSend",i),i.showTip("提交中..."),o.getCurrentGameTrace().deleteTrace()},success:function(e){1==Number(e.isSuccess)?(i.show(e),n.clearData(),n.fireEvent("afterSubmitSuccess",a)):i.show(e),n.cancelPostLock()},complete:function(e){n.fireEvent("afterSubmit",i),i.hideTip()},error:function(e){n.cancelPostLock()}})}}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e[t]=l}(bomao,"GameSubmit",bomao.Event),function(e,t,a,n){var r,i={dom:"",iframe:"",url:""},o=(e.Games,{init:function(e){var t=this,e=t.defConfig;t.dom=$(e.dom),t.iframe=$(e.iframe),t.url=e.url},show:function(){var e=this;e.refresh(),e.showMask(),e.dom.show()},hide:function(){var e=this;e.dom.hide(),e.hideMask()},showMask:function(){var t=this,a=e.Mask?e.Mask.getInstance():null;a&&(t.mask=a,a.show())},hideMask:function(){var e=this;e.mask&&e.mask.hide(),e.dom.hide()},refresh:function(){var e=this;e.iframe.attr("src",e.url+"?_="+Math.random())}}),s=e.Class(o,a);s.defConfig=i,s.getInstance=function(e){return r||(r=new s(e))},e[t]=s}(bomao,"GameRecords",bomao.Event),function(e,t,a,n){var r={updateConfigTime:1e3},i={init:function(e){var t=this;t._currentNumber=null,t.timer_update=null,t._currNumber=null,t._areas={}},getCurrNumber:function(){return this._currNumber},setCurrNumber:function(e){this._currNumber=e},getCurrentNumber:function(){return this._currentNumber},setCurrentNumber:function(e){this._currentNumber=e},updateConfig:function(){var e=this;clearTimeout(e.timer_update),$.ajax({url:e.getConfig("loaddataUrl"),dataType:"JSON",success:function(t){if(1==Number(t.isSuccess)){var a=$.extend(e._serverCfg,t.data,!0);e.setConfig(a),e.fireEvent("updateConfig_after",e.getConfig())}else console&&console.log&&console.log("后台数据错误:"+e.getConfig("loaddataUrl"))},error:function(e,t){},complete:function(){clearTimeout(e.timer_update),e.timer_update=setTimeout(function(){e.updateConfig()},e.defConfig.updateConfigTime)}})},getConfig:function(e){var t=this;return e?t._serverCfg[e]:t._serverCfg},setConfig:function(e){this._serverCfg=e},getRealTimeGameInfo:function(){var e=this;$.ajax({url:e.getConfig("loaddataUrl"),dataType:"JSON",success:function(t){if(1==Number(t.isSuccess)){var a=$.extend(e._serverCfg,t.data,!0);e.setConfig(a),e.fireEvent("getRealTimeGameInfo_after",t.data)}else console&&console.log&&console.log("后台数据错误:"+e.getConfig("loaddataUrl")),e.getRealTimeGameInfo()},error:function(t,a){e.getRealTimeGameInfo()},complete:function(){}})},getGameMethods:function(){var e,t,a,n=this,r={},i={},o=n.getConfig("gameMethods");return $.each(o,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],r[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),r[""+t.id]=t,t.children&&$.each(t.children,function(){a=this,a.fullname_en=t.fullname_en.concat(a.name_en),a.fullname_cn=t.fullname_cn.concat(a.name_cn),i[""+a.id]=a})})}),i},getArea:function(e){return this._areas[e]},getAreas:function(){return this._areas},getDeskTopDom:function(){return this._deskTop||(this._deskTop=$("#J-desktop"))},initDeskTop:function(e){var t,a=this,n=[];$.each(e,function(){t=this,t.empty?(n.push('<div style="width:'+t.width+"px;height:"+t.height+"px;left:"+t.left+"px;top:"+t.top+'px;" class="area area-empty area-empty-'+t.empty+'">'),t.helpPos&&n.push('<div style="left:'+t.helpPos[0]+"px;top:"+t.helpPos[1]+'px;" helpText="'+t.helpHtml+'" class="help">?</div>'),t.oddsPos&&("yima"==t.empty?(n.push('<div style="left:40px;top:10px;" class="odds"><span class="cn-charactor">单骰</span>1:1</div>'),n.push('<div style="left:40px;top:30px" class="odds"><span class="cn-charactor">双骰</span>1:2</div>'),n.push('<div style="left:40px;top:50px;" class="odds"><span class="cn-charactor">全骰</span>1:3</div>')):n.push('<div style="left:'+t.oddsPos[0]+"px;top:"+t.oddsPos[1]+'px;" class="odds">1:'+t.prize_odds+"</div>")),n.push("</div>")):(n.push('<div data-action="addchip" data-name="'+t.name_en+'" style="width:'+t.width+"px;height:"+t.height+"px;left:"+t.left+"px;top:"+t.top+'px;" class="area area-'+t.name_en+'">'),n.push('<div class="appearance-time"></div>'),t.helpPos&&n.push('<div style="left:'+t.helpPos[0]+"px;top:"+t.helpPos[1]+'px;" helpText="'+t.helpHtml+'" class="help">?</div>'),t.oddsPos&&n.push('<div style="left:'+t.oddsPos[0]+"px;top:"+t.oddsPos[1]+'px;" class="odds">1:'+t.prize_odds+"</div>"),n.push("</div>"),a.addArea(t))}),$(n.join("")).appendTo(a.getDeskTopDom())},addArea:function(t){var a=this,n=new e.TableGame.Area(t),r=new e.TableGame.Chips;r.addEvent("delLastChip_after",function(e,t){n.fireEvent("cancelLastChip",t)}),n.chips=r,a._areas[t.name_en]=n},update:function(){var e=this;e.fireEvent("update_after")},getResult:function(){var e,t,a=this,n=0,r=0;return $.each(a.getAreas(),function(){e=this,t=e.getResult(),n+=t.chipsnum,r+=t.money}),{chipsnum:n,money:r}},getAllChips:function(){var e,t=this,a=t.getAreas(),n=[];for(e in a)a.hasOwnProperty(e)&&$.each(a[e].getChipsCase(),function(){n.push(this)});return n},cancelAll:function(){var e=this,t=0;e.fireEvent("cancelAll_before"),$.each(e.getAreas(),function(){area=this,t+=area.getResult().money,area.clearAll()}),e.update(),e.fireEvent("cancelAll_after",t)},playerGet:function(){var e=this,t=0;$.each(e.getAreas(),function(){area=this,t+=area.getResult().money,area.getChipsCase().length>0&&e.fireEvent("playerGet_after",area.getChipsCase()),area.clearAll()}),e.update()},editSubmitData:function(e){var t=e.balls;return e.balls=encrypt(JSON.stringify(t)),e.is_encoded=1,e},getSubmitData:function(){var e,t,a=this,n=a.getAreas(),r=0,i=(n.length,0),o=1,s="",l="",u=1,c="",d=1;prize_group=0,result={},methods=a.getGameMethods(),method={},result.gameId=a.getConfig("gameId"),result.isTrace=0,result.traceWinStop=0,result.traceStopValue=0,result.balls=[],$.each(n,function(){if(e=this,t=e.getChipsCase(),r=0,t.length>0){switch($.each(t,function(){r+=this.getMoney()}),d=10*r*10/2,s=e.getName().split("-")[0],digit=e.getName().split("-")[1],s){case"yima":method=methods[238],u=method.id,l=method.name_en,c=digit,prize_group=1800;break;case"erma":method=methods[240],u=method.id,l=method.name_en,c=digit,prize_group=1800;break;case"baozi":"n"==digit?(method=methods[244],u=method.id,l=method.name_en,c=0,prize_group=1800):(method=methods[239],u=method.id,l=method.name_en,c=digit,prize_group=1800);break;case"duizi":method=methods[241],u=method.id,l=method.name_en,c=digit,prize_group=1800;break;case"hezhi":method=methods[242],u=method.id,l=method.name_en,c=digit,prize_group=1800;break;case"big":method=methods[243],u=method.id,l=method.name_en,c=1,prize_group=1800;break;case"small":method=methods[243],u=method.id,l=method.name_en,c=0,prize_group=1800;break;case"even":method=methods[243],u=method.id,l=method.name_en,c=2,prize_group=1800;break;case"odd":method=methods[243],u=method.id,l=method.name_en,c=3,prize_group=1800}result.balls.push({wayId:u,type:l,ball:c,num:o,onePrice:2,moneyunit:.01,multiple:d,prize_group:prize_group}),i+=10*r*10}}),result.orders={},result.orders[a.getCurrNumber()]=1,result.amount=i,result._token=a.getConfig("_token");var m={balls:result.balls,isFinish:!0,issue:a.getCurrNumber()},h=$.extend({},m);return a.setLastBetInfo(h),result},setLastBetInfo:function(e){var t=this;t.lastBetInfo=e},getLastBetInfo:function(){var e=this;return e.lastBetInfo},submit:function(){var e=this,t=e.getSubmitData(),a=e.getConfig("submitUrl");$.ajax({url:a,dataType:"JSON",method:"POST",data:e.editSubmitData(t),beforeSend:function(){e.fireEvent("submit_before",t)},success:function(t){1==Number(t.isSuccess)?e.fireEvent("success_after",t):alert(t.Msg)}})}},o=e.Class(i,a);o.defConfig=r,e[t]=o}(bomao,"TableGame",bomao.Event),function(e,t,a){var n={},r={init:function(e){}},i=e.Class(r,t);i.defConfig=n,t.Dice=i}(bomao,bomao.TableGame),function(e,t,a,n){var r={},i={init:function(e){var t=this;t.chips=null,t.id=e.id,t.name=e.name_en,t.odds=e.prize_odds},getName:function(){return this.name},getChips:function(){return this.chips},getLastChip:function(){return this.chips.getLastChip()},getChipsCase:function(){var e=this,t=[];return a.each(e.getChips().getChips(),function(){t.push(this)}),t},addChip:function(e){var t=this;t.chips.addChip(e),t.fireEvent("addchip_after",e,t.getChipsNum)},compensateChip:function(e){var t=this;t.chips.addChip(e),t.fireEvent("compensateChip_after",e)},getChipsNum:function(){return this.chips.getResult().chipsnum},getResult:function(){return this.chips.getResult()},cancelChip:function(){return this.chips.delLastChip()},clearAll:function(){return this.chips.delAllChips()},getOdds:function(){return this.odds}},o=e.Class(i,t);o.defConfig=r,e.TableGame.Area=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={},i=1,o={init:function(e){var t=this;t.id=i++,t.money=e.money,t.marginTop=e.marginTop,t.isAvaliable=!0},getId:function(){return this.id},getMoney:function(){return this.money},getMarginTop:function(){return this.marginTop},setStatus:function(e){var t=this;t.isAvaliable=e,t.fireEvent("setStatus_after",e)},getStatus:function(){return this.isAvaliable}},s=e.Class(o,t);s.defConfig=r,e.TableGame.Chip=s}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={},i={init:function(e){var t=this;t._chips=[]},addChip:function(e){var t=this;t._chips.push(e)},getChips:function(){return this._chips},getLastChip:function(){return this._chips[this._chips.length-1]},delLastChip:function(){var e=this,t=e._chips.pop();return e.fireEvent("delLastChip_after",t),t},delAllChips:function(){var e=this,t=e._chips;return e._chips=[],e.fireEvent("delAllChips",t),t},getResult:function(){var e=this,t=e._chips.length,a=0,n=0;for(n=0;t>n;n++)a+=e._chips[n].getMoney();return{chipsnum:t,money:a}}},o=e.Class(i,t);o.defConfig=r,e.TableGame.Chips=o}(bomao,bomao.Event,jQuery),function(e,t,a){var n={},r={init:function(e){var t=this;t.selected=null,t.chips={}},addChip:function(e){var t=this;t.chips[""+e.getMoney()]=e},getChip:function(e){return this.chips[""+e]},getChips:function(){return this.chips},select:function(e){var t=this,a=t.getChips()[e];a&&a!=t.selected&&(t.selected=a,t.fireEvent("change_after",a))},getSelectedChip:function(){return this.selected},getMinChip:function(){var e=this;return e.getChip(e.getMoneyList()[0])},getMoneyList:function(){var e,t=this,a=t.getChips(),n=[];for(e in a)a.hasOwnProperty(e)&&(money=a[e].getMoney(),n.push(money));return n.sort(function(e,t){return e-t>0}),n},moneyToChips:function(e){var t,a=this,n=a.getMoneyList(),r=0,i=[];for(e=parseInt(e),n.sort(function(e,t){return 0>e-t}),t=n.length,r-0;t>r&&(0==Math.floor(e/n[r])||(i.push({money:n[r],num:Math.floor(e/n[r])}),e%=n[r],0!=e));r++);return i},setChipsStatus:function(e){var t,a=this,n=a.getChips();for(t in n)n.hasOwnProperty(t)&&n[t].setStatus(e<n[t].getMoney()?!1:!0)}},i=e.Class(r,t);i.defConfig=n,e.TableGame.ChipsGroup=i}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={warpHtml:'<div class="game-contextmenu"></div>',rowSelection:".item",tpl_text:'<div class="item txt-item" data-action="<#=action#>"><#=title#></div>',tpl_icon:'<div class="item icon-text-item"  data-action="<#=action#>"><img src="<#=src#>"><#=name#></div>'},i={init:function(e){var t=this;t.data=null,t.dom=a(t.defConfig.warpHtml),t.dom.appendTo(document.body),t.initEvent()},initEvent:function(){var e=this;e.dom.on("click",e.defConfig.rowSelection,function(t){var n=a(this),r=n.attr("data-action");e.fireEvent("click",r,n)}),a(document).on("mousedown",function(t){a.contains(e.dom.get(0),t.target)||e.hide()})},setData:function(e){this.data=e},getData:function(){return this.data},addItem:function(t){var n=this,r=n.defConfig,i=t.tpl?t.tpl:r["tpl_"+(t.type?t.type:"text")];i=e.util.template(i,t),a(i).appendTo(n.dom)},show:function(e,t,n){var r=this,i=a(window),e=e+i.scrollLeft(),t=t+i.scrollTop();r.fireEvent("show_before"),r.dom.css("undefined"==typeof n?{left:e,top:t}:{left:e,top:t,zIndex:n}),r.effectShow(function(){r.fireEvent("show_after")})},hide:function(){var e=this;e.fireEvent("hide_before"),e.effectHide(function(){e.fireEvent("hide_after")})},effectShow:function(e){var t=this;t.dom.show(),e&&e.call(t)},effectHide:function(e){var t=this;t.dom.hide(),e&&e.call(t)}},o=e.Class(i,t);o.defConfig=r,e.TableGame.ContextMenu=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={records_container:".body-bet-records",tpl_record:'<tr><td><#=number#></td><td><#=bought_at#></td><td><#=method#></td><td><#=balls#></td><td><#=prizeballs#></td><td><#=money#></td><td><#=prize#></td><td><#=status#></td><td><a href="/projects/view/<#=id#>" style="text-decoration:underline">详情</a></td></tr>',tpl_empty:'<tr><td colspan="9" height="122px">您最近7天暂时没有投注记录！</td></tr>',view_more:'<tr><td colspan="9"><a class="btn-more-records" href="/projects" target="_blank">更多游戏记录...</a></td></tr>'},i={init:function(e){var t=this;t.records_container=e.records_container?e.records_container:t.defConfig.records_container,t.tpl_record=e.tpl_record?e.tpl_record:t.defConfig.tpl_record,t.tpl_empty=e.tpl_empty?e.tpl_empty:t.defConfig.tpl_empty,t.view_more=e.view_more?e.view_more:t.defConfig.view_more},updateBet:function(t){var n=this;a(n.records_container).empty(),t.length>0?(a.each(t,function(t){if(!(t>5)){var r=this;null==r.prize&&(r.prize="0.000000"),r.is_overprize&&(r.prize=r.prize+"奖金超限"),record_template=e.util.template(n.tpl_record,r),a(n.records_container).append(record_template)}}),a(n.records_container).append(n.view_more)):a(n.records_container).append(n.tpl_empty)}};Main=e.Class(i,t),Main.defConfig=r,e.TableGame.BetHistory=Main}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={records_container:".his-list",tpl_record:'<li> <span class = "num num-<#=num0#>"></span><span class = "num num-<#=num1#>"></span><span class = "num num-<#=num2#>"></span><span class = "text" ><#=bs#></span><span class = "text"> <#=oe#> </span> <span class = "text"> <#=sum#> </span> <span class = "text text-number"><#=short_issue#></span> </li>',last_record_container:".balls",tpl_last_record:'<i class="dice dice-<#=num0#>"></i><i class="dice dice-<#=num1#>"></i><i class="dice dice-<#=num2#>"></i>'},i={init:function(e){var t=this;t.records_container=e.records_container?e.records_container:t.defConfig.records_container,t.tpl_record=e.tpl_record?e.tpl_record:t.defConfig.tpl_record,t.last_record_container=e.last_record_container?e.last_record_container:t.defConfig.last_record_container,t.tpl_last_record=e.tpl_last_record?e.tpl_last_record:t.defConfig.tpl_last_record,e.records.length>0&&t.addHistoryRecords(e.records)},addRecord:function(e){var t=this;e.nums.sort(function(e,t){return e-t}),t.addLastRecord(e),t.addHistoryRecord(e,!0)},addLastRecord:function(t){var n=this,r=t.issue,i=t.nums,o=n.sum(i),s=n.judgeOE(i),l=n.judgeBS(i),t={sum:o,oe:s,bs:l,issue:r},u=0,c=i.length;for(u;c>u;u++)t["num"+u]=i[u];last_record_template=e.util.template(n.tpl_last_record,t),a(n.last_record_container).empty().append(last_record_template),n.fireEvent("addLastRecord_after",t)},addHistoryRecord:function(t,n){var r=this,i=t.issue,o=t.nums,s=r.sum(o),l=r.judgeOE(o),u=r.judgeBS(o),c=r.getShortIssue(i),t={sum:s,oe:l,bs:u,short_issue:c},d=0,m=o.length;for(d;m>d;d++)t["num"+d]=o[d];a(r.records_container+" > li:first").removeClass("active"),record_template=e.util.template(r.tpl_record,t),tmp=a(record_template),a(r.records_container).prepend(tmp),a(r.records_container+" > li:first").addClass("active"),n&&r.fireEvent("addHistoryRecord_after",t)},addHistoryRecords:function(e){var t=this,a=0,n=e.length;for(a;n>a;a++)t.addHistoryRecord(e[a]);t.addLastRecord(e[n-1])},sum:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n},judgeBS:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n>10?"大":"小"},judgeOE:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n%2==1?"单":"双"},getShortIssue:function(e){return e.substr(e.length-4)}};Main=e.Class(i,t),Main.defConfig=r,e.TableGame.History=Main}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={dom:"#J-tagle-game-cup"},i={init:function(e){var t=this;t.status=4,t.dom=a(e.dom),t.dom.appendTo(a(e.context)),t.dices=t.dom.find(".dices"),t.timer=null,t.diceItems=t.dom.find(".dice"),t.diceItemsObjs=[],t.diceItems.each(function(){t.diceItemsObjs.push(a(this))})},getRandom:e.util.getRandom,wait:function(e){var t=this;t.status=1,t.dom.animate({width:267,left:491,top:80}),t.dices.animate({width:180,height:120,top:50}),t.diceItems.animate({width:58}),a.each(t.diceItems,function(e){a(t.diceItems[e]).animate({left:59*e,top:25})}),setTimeout(function(){a.isFunction(e)&&e.call(t)},400)},play:function(){var e=this,t=e.diceItemsObjs;e.status=2,clearInterval(e.timer),e.timer=setInterval(function(){a.each(t,function(){this.css({left:e.getRandom(0,115),top:e.getRandom(0,45)}),this.removeClass().addClass("dice dice-"+e.getRandom(1,6)),this.find("img").attr("src","/assets/images/game/table/dice/cup-dice-"+e.getRandom(1,6)+".png")}),e.dom.css({top:e.getRandom(80,90)})},80)},stop:function(e,t){{var n=this;n.getAllPositionX()}n.status=3,clearInterval(n.timer),a.each(n.diceItemsObjs,function(t){this.css({left:59*t,top:25}),this.removeClass().addClass("dice dice-"+e[t]),this.find("img").attr("src","/assets/images/game/table/dice/cup-dice-"+e[t]+".png")}),a.isFunction(t)&&t.call(n)},hide:function(e){var t=this;t.status=4,t.dom.animate({width:73,left:584,top:-7}),t.dices.animate({width:42,height:28,top:16}),t.diceItems.animate({width:15,left:5,top:5}),a.each(t.diceItems,function(e){a(t.diceItems[e]).animate({left:15*e,top:5})}),a.isFunction(e)&&e.call(t)},getAllPositionX:function(){var e=180,t=40,a=0,n=e,r=0,i=Math.floor((n-a)/t),o=[],s=[];for(r=0;i>r;r++)o.push(r*t);return o.sort(function(){return Math.random()>.5?-1:1}),s=o.slice(0,3)}},o=e.Class(i,t);o.defConfig=r,e.TableGame.Cup=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={},i={init:function(e){var t=this;t.balance=0},initUserBalance:function(e){var t=this;t.balance=e,t.fireEvent("setUserBalance_after",t.balance)},setUserBalance:function(e){var t=this;t.balance+=e,t.fireEvent("setUserBalance_after",t.balance)},getUserBalance:function(){return this.balance}},o=e.Class(i,t);o.defConfig=r,e.TableGame.UserBalance=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={normalLonghuSequentialContainer:".normal-sequential-longhu",normalLonghuTurnoverContainer:".normal-turnover-longhu"},i={init:function(e){var t=this;if(t.isPaneFull=0,t.LonghuSequentialPaneIndex=1,t.LongdanshuangSequentialPaneIndex=1,t.HudanshuangSequentialPaneIndex=1,t.LonghongheiSequentialPaneIndex=1,t.HuhongheiSequentialPaneIndex=1,t.LonghuTurnoverPaneIndex=1,t.LongdanshuangTurnoverPaneIndex=1,t.HudanshuangTurnoverPaneIndex=1,t.LonghongheiTurnoverPaneIndex=1,t.HuhongheiTurnoverPaneIndex=1,t.normalLonghuSequentialContainer=".normal-sequential-longhu",t.normalLonghuTurnoverContainer=".normal-turnover-longhu",t.sequentialContainerRows=6,t.currentSequentialContainerRow=0,t.sequentialContainerColumns=28,t.currentSequentialContainerColumn=0,t.currentLongdanshuangSequentialContainerColumn=0,t.currentLongdanshuangSequentialContainerRow=0,t.LongdanshuangSequentialContainerColumn=28,t.LongdanshuangSequentialContainerRow=6,t.currentHudanshuangSequentialContainerColumn=0,t.currentHudanshuangSequentialContainerRow=0,t.HudanshuangSequentialContainerColumn=28,t.HudanshuangSequentialContainerRow=6,t.currentLonghongheiSequentialContainerColumn=0,t.currentLonghongheiSequentialContainerRow=0,t.LonghongheiSequentialContainerColumn=28,t.LonghongheiSequentialContainerRow=6,t.currentHuhongheiSequentialContainerColumn=0,t.currentHuhongheiSequentialContainerRow=0,t.HuhongheiSequentialContainerColumn=28,t.HuhongheiSequentialContainerRow=6,t.LonghuTurnoverContainerRows=6,t.currentLonghuTurnoverContainerRows=0,t.LonghuTurnoverContainerColumns=15,t.currentLonghuTurnoverContainerColumns=0,t.LongdanshuangTurnoverContainerRows=6,t.currentLongdanshuangTurnoverContainerRows=0,t.LongdanshuangTurnoverContainerColumns=15,t.currentLongdanshuangTurnoverContainerColumns=0,t.LonghuTurnoverContainerRows=6,t.currentLonghuTurnoverContainerRows=0,t.LonghuTurnoverContainerColumns=15,t.currentLonghuTurnoverContainerColumns=0,t.LonghongheiTurnoverContainerRows=6,t.currentLonghongheiTurnoverContainerRows=0,t.LonghongheiTurnoverContainerColumns=15,t.currentLonghongheiTurnoverContainerColumns=0,t.HuhongheiTurnoverContainerRows=6,t.currentHuhongheiTurnoverContainerRows=0,t.HuhongheiTurnoverContainerColumns=15,t.currentHuhongheiTurnoverContainerColumns=0,t.initSequentialContainer(".normal-sequential-longhu","sequential-trands-pane-longhu",t.LonghuSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-longdanshuang","sequential-trands-pane-longdanshuang",t.LongdanshuangSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-hudanshuang","sequential-trands-pane-hudanshuang",t.HudanshuangSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-longhonghei","sequential-trands-pane-longhonghei",t.LonghongheiSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-huhonghei","sequential-trands-pane-huhonghei",t.HuhongheiSequentialPaneIndex,6,28),t.records=e.records,t.puker=e.puker,t.currRecord=null,t.lastRecord=null,t.records.length>0)for(var n=0;n<t.records.length;n++){var r=t.records[n].code.split(" "),i=r[0],o=r[1],s=t.getWinnerPuker(i,o);longItem=t.getLongPuker(i),huItem=t.getHuPuker(o),1==t.isPaneFull&&(a(".sequentail-trands-pane").hide(),a(".turnover-trands-pane").hide(),t.LonghuSequentialPaneIndex++,t.LongdanshuangSequentialPaneIndex++,t.HudanshuangSequentialPaneIndex++,t.LonghongheiSequentialPaneIndex++,t.HuhongheiSequentialPaneIndex++,t.initSequentialContainer(".normal-sequential-longhu","sequential-trands-pane-longhu",t.LonghuSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-longdanshuang","sequential-trands-pane-longdanshuang",t.LongdanshuangSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-hudanshuang","sequential-trands-pane-hudanshuang",t.HudanshuangSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-longhonghei","sequential-trands-pane-longhonghei",t.LonghongheiSequentialPaneIndex,6,28),t.initSequentialContainer(".normal-sequential-huhonghei","sequential-trands-pane-huhonghei",t.HuhongheiSequentialPaneIndex,6,28),t.currentLongdanshuangSequentialContainerColumn=0,t.currentLongdanshuangSequentialContainerRow=0,t.currentLongdanshuangSequentialContainerColumn=0,t.currentLongdanshuangSequentialContainerRow=0,t.currentHudanshuangSequentialContainerColumn=0,t.currentHudanshuangSequentialContainerRow=0,t.currentLonghongheiSequentialContainerColumn=0,t.currentLonghongheiSequentialContainerRow=0,t.currentHuhongheiSequentialContainerColumn=0,t.currentHuhongheiSequentialContainerRow=0,t.currentLonghuTurnoverContainerRows=0,t.currentLonghuTurnoverContainerColumns=0,t.currentLongdanshuangTurnoverContainerRows=0,t.currentLongdanshuangTurnoverContainerColumns=0,t.currentLonghuTurnoverContainerRows=0,t.currentLonghuTurnoverContainerColumns=0,t.currentLonghongheiTurnoverContainerRows=0,t.currentLonghongheiTurnoverContainerColumns=0,t.currentHuhongheiTurnoverContainerRows=0,t.currentHuhongheiTurnoverContainerColumns=0,t.isPaneFull=0),t.addLonghuSequentialItem(".normal-sequential-longhu",".sequential-trands-pane-longhu",t.LonghuSequentialPaneIndex,s),t.addLongdanshuangSequentialItem(".normal-sequential-longdanshuang",".sequential-trands-pane-longdanshuang",t.LongdanshuangSequentialPaneIndex,longItem),t.addHudanshuangSequentialItem(".normal-sequential-hudanshuang",".sequential-trands-pane-hudanshuang",t.HudanshuangSequentialPaneIndex,huItem),t.addLonghongheiSequentialItem(".normal-sequential-longhonghei",".sequential-trands-pane-longhonghei",t.LonghongheiSequentialPaneIndex,longItem),t.addHuhongheiSequentialItem(".normal-sequential-huhonghei",".sequential-trands-pane-huhonghei",t.HuhongheiSequentialPaneIndex,huItem)}},initSequentialContainer:function(e,t,n,r,i){for(var o="<div class='sequentail-trands-pane "+t+"' index='"+n+"'>",s=0;i>s;s++){for(var l="<div class='column'>",u=0;r>u;u++)l+="<div class='item'></div>";l+="</div>",o+=l}o+="</div>",a(e).append(o)},initNomalTurnoverContainer:function(e,t,n,r,i){for(var o="<div class='turnover-trands-pane "+t+"' index='"+n+"'>",s=0;i>s;s++){for(var l="<div class='column'>",u=0;r>u;u++)l+="<div class='item'></div>";l+="</div>",o+=l}o+="</div>",a(e).append(o)},initProTurnoverContainer:function(){},initProDaluContainer:function(){},initProXiaoluContainer:function(){},initProYueyouluContainer:function(){},addLonghuSequentialItem:function(e,t,n,r){var i=this,o=i.currentSequentialContainerColumn+1,s=i.currentSequentialContainerRow+1,l=Object.keys(r)[0]+"-item";a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>"),i.currentSequentialContainerRow>=i.sequentialContainerRows-1?(i.currentSequentialContainerRow=0,i.currentSequentialContainerColumn>=i.sequentialContainerColumns-1?(i.currentSequentialContainerColumn=0,i.isPaneFull=1):i.currentSequentialContainerColumn++):i.currentSequentialContainerRow++},addLongdanshuangSequentialItem:function(e,t,n,r){var i=this,o=i.currentLongdanshuangSequentialContainerColumn+1,s=i.currentLongdanshuangSequentialContainerRow+1,l="";"long"==Object.keys(r)[0]&&(l=r["long"].danshuang+"-item",a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>"),i.currentLongdanshuangSequentialContainerRow>=i.LongdanshuangSequentialContainerRow-1?(i.currentLongdanshuangSequentialContainerRow=0,i.currentLongdanshuangSequentialContainerColumn>=i.LongdanshuangSequentialContainerColumn-1?(i.currentLongdanshuangSequentialContainerColumn=0,i.isPaneFull=1):i.currentLongdanshuangSequentialContainerColumn++):i.currentLongdanshuangSequentialContainerRow++)},addHudanshuangSequentialItem:function(e,t,n,r){var i=this,o=i.currentHudanshuangSequentialContainerColumn+1,s=i.currentHudanshuangSequentialContainerRow+1,l="";"hu"==Object.keys(r)[0]&&(l=r.hu.danshuang+"-item",a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>"),i.currentHudanshuangSequentialContainerRow>=i.HudanshuangSequentialContainerRow-1?(i.currentHudanshuangSequentialContainerRow=0,i.currentHudanshuangSequentialContainerColumn>=i.HudanshuangSequentialContainerColumn-1?(i.currentHudanshuangSequentialContainerColumn=0,i.isPaneFull=1):i.currentHudanshuangSequentialContainerColumn++):i.currentHudanshuangSequentialContainerRow++)},addLonghongheiSequentialItem:function(e,t,n,r){var i=this,o=i.currentLonghongheiSequentialContainerColumn+1,s=i.currentLonghongheiSequentialContainerRow+1,l="";"long"==Object.keys(r)[0]&&(l=r["long"].honghei+"-item",a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>"),i.currentLonghongheiSequentialContainerRow>=i.LonghongheiSequentialContainerRow-1?(i.currentLonghongheiSequentialContainerRow=0,i.currentLonghongheiSequentialContainerColumn>=i.LonghongheiSequentialContainerColumn-1?(i.currentLonghongheiSequentialContainerColumn=0,i.isPaneFull=1):i.currentLonghongheiSequentialContainerColumn++):i.currentLonghongheiSequentialContainerRow++)},addHuhongheiSequentialItem:function(e,t,n,r){var i=this,o=i.currentHuhongheiSequentialContainerColumn+1,s=i.currentHuhongheiSequentialContainerRow+1,l="";"hu"==Object.keys(r)[0]&&(l=r.hu.honghei+"-item",a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>"),i.currentHuhongheiSequentialContainerRow>=i.HuhongheiSequentialContainerRow-1?(i.currentHuhongheiSequentialContainerRow=0,i.currentHuhongheiSequentialContainerColumn>=i.HuhongheiSequentialContainerColumn-1?(i.currentHuhongheiSequentialContainerColumn=0,i.isPaneFull=1):i.currentHuhongheiSequentialContainerColumn++):i.currentHuhongheiSequentialContainerRow++)},addLonghuTurnoverItem:function(e,t,n,r){var i=this,o=i.currentLonghuTurnoverContainerColumn+1,s=i.currentLonghuTurnoverContainerRows+1,l=(rowindex+1,"");if(lastRecord&&"null"!==lastRecord&&"undefined"!==lastRecord){var u=Object.keys(lastRecord)[0],c=Object.keys(r)[0];if(u==c){var d=a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").html();""==d&&i.currentSequentialContainerRow<i.sequentialContainerRows-1?a(e).find(t).last().find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append():""!=d&&i.currentSequentialContainerRow>=i.sequentialContainerRows-1}}else{var c=Object.keys(r)[0];lastRecord=r}a(e).find(".column:nth-child("+o+")").find(".item:nth-child("+s+")").append("<div class='"+l+"'></div>")},getWinnerPuker:function(e,t){Number(e)<10&&(e="0"+Number(e)),Number(t)<10&&(t="0"+Number(t));var a=this,n=a.puker[e],r=a.puker[t];return n.data>r.data?{"long":n}:n.data<r.data?{hu:r}:{he:{}}},getLongPuker:function(e){Number(e)<10&&(e="0"+Number(e));var t=this,a=t.puker[e];return{"long":a}},getHuPuker:function(e){Number(e)<10&&(e="0"+Number(e));var t=this,a=t.puker[e];return{hu:a}},addRecord:function(e){var t=this;e.nums.sort(function(e,t){return e-t}),t.addLastRecord(e),t.addHistoryRecord(e,!0)},addLastRecord:function(t){var n=this,r=t.issue,i=t.nums,o=n.sum(i),s=n.judgeOE(i),l=n.judgeBS(i),t={sum:o,oe:s,bs:l,issue:r},u=0,c=i.length;for(u;c>u;u++)t["num"+u]=i[u];last_record_template=e.util.template(n.tpl_last_record,t),a(n.last_record_container).empty().append(last_record_template),n.fireEvent("addLastRecord_after",t)},addHistoryRecord:function(t,n){var r=this,i=t.issue,o=t.nums,s=r.sum(o),l=r.judgeOE(o),u=r.judgeBS(o),c=r.getShortIssue(i),t={sum:s,oe:l,bs:u,short_issue:c},d=0,m=o.length;for(d;m>d;d++)t["num"+d]=o[d];a(r.records_container+" > li:first").removeClass("active"),record_template=e.util.template(r.tpl_record,t),tmp=a(record_template),a(r.records_container).prepend(tmp),a(r.records_container+" > li:first").addClass("active"),n&&r.fireEvent("addHistoryRecord_after",t)},addHistoryRecords:function(e){var t=this,a=0,n=e.length;for(a;n>a;a++)t.addHistoryRecord(e[a]);t.addLastRecord(e[n-1])},sum:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n},judgeBS:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n>10?"大":"小"},judgeOE:function(e){var t=0,a=e.length,n=0;for(t;a>t;t++)n+=parseInt(e[t]);return n%2==1?"单":"双"},getShortIssue:function(e){return e.substr(e.length-4)}};Main=e.Class(i,t),Main.defConfig=r,e.TableGame.LhdHistory=Main}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={},i={init:function(e){
var t=this;t._value=e.value,t._attrs=e.attrs,t._cls=e.cls,t._par=a("undefined"!=typeof e.par?e.par:document.body),t._dom=a('<div class="'+t.getCls()+'"></div>'),t._dom.appendTo(t.getPar())},getPar:function(){return this._par},getDom:function(){return this._dom},getValue:function(){return this._value},getCls:function(){return this._cls},getAttr:function(e){var t=this;return t._attrs[e]},setPos:function(e,t){var a=this,n=a.getDom();n.css({left:e,top:t})},addClass:function(e){var t=this,a=t.getDom();a.addClass(e)},removeClass:function(){var e=this,t=e.getDom();t.removeClass(cls)},moveTo:function(e,t){},showCard:function(){var e=this;e.getDom().removeClass("poker-red poker-blue")},coverCard:function(e){var t=this;t.getDom().addClass(e)},destroy:function(){var e=this;e.dom.remove()}},o=e.Class(i,t);o.defConfig=r,e.TableGame.Poker=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={pkcls:"poker"},i=e.TableGame.Poker,o={init:function(e){var t=this;t._attrCfg={},t._container=a(e.container?e.container:document.body)},getContainer:function(){return this._container},getPoker:function(e,t){var a=this,e=Number(e);return new i({cls:a.defConfig.pkcls+" poker-"+e+(t||" poker-red"),value:e,par:a.getContainer(),attrs:a.getPokerAttr(e)})},setAttrConfig:function(e){var t=this;t._attrCfg=e},getAttrConfig:function(){return this._attrCfg},getPokerAttr:function(e){var t=this,a=t.getAttrConfig();return e=Number(e)<10?"0"+e:""+Number(e),a[e]}},s=e.Class(o,t);s.defConfig=r,e.TableGame.PokerManager=s}(bomao,bomao.Event,jQuery),function(e,t,a){var n={},r={init:function(e){var t=this;t._areas={},t._methods={}},getDeskTopDom:function(){return this._deskTop||(this._deskTop=$("#J-desktop"))},addArea:function(t){var a=this,n=new e.TableGame.Area(t),r=new e.TableGame.Chips;r.addEvent("delLastChip_after",function(e,t){n.fireEvent("cancelLastChip",t)}),n.chips=r,a._areas[t.name_en]=n},initDeskTop:function(e){var t,a=this,n=[];$.each(e,function(e){t=this,n.push(6>e?'<div data-action="addchip" data-name="'+t.name_en+'" style="width:'+t.width+"px;height:"+t.height+"px;left:"+t.left+"px;top:"+t.top+"px;background-position:"+t.bgPosition[0]+"px "+t.bgPosition[1]+'px" class="area area-'+t.name_en+'">':'<div data-action="addchip" data-name="'+t.name_en+'" style="width:'+t.width+"px;height:"+t.height+"px;right:"+t.right+"px;top:"+t.top+"px;background-position:"+t.bgPosition[0]+"px "+t.bgPosition[1]+'px" class="area area-'+t.name_en+'">'),t.oddsPos&&n.push('<div style="left:'+t.oddsPos[0]+"px;top:"+t.oddsPos[1]+'px;" class="odds">1:'+t.prize_odds+"</div>"),n.push("</div>"),a.addArea(t)}),$(n.join("")).appendTo(a.getDeskTopDom())},editSubmitData:function(e){var t=e.balls;return e.balls=encrypt(JSON.stringify(t)),e.is_encoded=1,e},getSubmitData:function(){var e=this,t=e.getAreas(),a=(t.length,0),n=1,r="",i="",i=0,o=1,s=0,l={},u=(e.getGameMethods(),{});e._methods=e.getGameMethods(),l.gameId=e.getConfig("gameId"),l.isTrace=0,l.traceWinStop=0,l.traceStopValue=0,l.balls=[],$.each(t,function(){var t=this,c=t.getChipsCase(),d=0,m=0;c.length>0&&($.each(c,function(){d+=this.getMoney()}),o=10*d*10/2,u=e.getWayIdAndBall(t),m=u.wayId,i=u.ball,l.balls.push({wayId:m,type:r,ball:i,num:n,onePrice:2,moneyunit:.01,multiple:o,prize_group:s}),a+=10*d*10)}),l.orders={},l.orders[e.getCurrNumber()]=1,l.amount=a,l._token=e.getConfig("_token");var c={balls:l.balls,isFinish:!0,issue:e.getCurrNumber()},d=$.extend({},c);return e.setLastBetInfo(d),l},submit:function(){var e=this,t=e.getSubmitData(),a=e.getConfig("submitUrl");$.ajax({url:a,dataType:"JSON",method:"POST",data:e.editSubmitData(t),beforeSend:function(){e.fireEvent("submit_before",t)},success:function(t){1==Number(t.isSuccess)?e.fireEvent("success_after",t):alert(t.Msg)}})},getGameMethods:function(){var e,t,a,n=this,r={},i={},o=n.getConfig("gameMethods");return $.each(o,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],r[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),r[""+t.id]=t,t.children&&$.each(t.children,function(){a=this,a.fullname_en=t.fullname_en.concat(a.name_en),a.fullname_cn=t.fullname_cn.concat(a.name_cn),i[""+a.id]=a})})}),i},getWayIdAndBall:function(e){var t=this,a=e.getName(),n=0,r=0;switch(a){case"long-dan":methodName="longhudan",r=3;break;case"long-shuang":methodName="longhushuang",r=5;break;case"long":methodName="longhudaxiao",r=0;break;case"long-hong":methodName="longhuhonghei",r=7;break;case"long-hei":methodName="longhuhonghei",r=9;break;case"hu-dan":methodName="longhudan",r=4;break;case"hu-shuang":methodName="longhushuang",r=6;break;case"hu":methodName="longhudaxiao",r=1;break;case"hu-hong":methodName="longhuhonghei",r=8;break;case"hu-hei":methodName="longhuhonghei",r=10;break;case"he":methodName="longhuhe",r=2}return $.each(t._methods,function(){var e=this;e.name_en==methodName&&(n=e.id)}),{wayId:n,ball:r}}},i=e.Class(r,t);i.defConfig=n,t.Lhd=i}(bomao,bomao.TableGame),function(e,t,a,n){var r,i={name:"ssc",jsNamespace:""},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o.SSC.Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"SSC",bomao.Game),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[/\n]|[/W]/g,filtration:/[^\d]/g,checkNum:/^[0-9]*$/,normalTips:["说明：","1、支持常见的各种单式格式，间隔符如： 换行符 回车 逗号 分号等","2、上传文件后缀必须是.txt格式,最大支持10万注，并支持拖拽文件到文本框进行上传","3、文件较大时会导致上传时间较长，请耐心等待！","","格式范例：12345 23456 88767 33021 98897 "].join("\n")},i="SSC",o=e.Games,s=e.Games[i],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,n=$.trim(a.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+n+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==n&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"",a=$.trim(e.defConfig.normalTips);return t=$.trim(t)==a?"":t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){{var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase()}t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t=this,a=t.defConfig,n=[];return e=e.replace(a.filtration," "),e=e.replace(/\s+/g," "),e=$.trim(e),n=e.split(" ")},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e)return!1;return!0},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+/gi," "),a=a.replace(/[\s]|[,]+|[;]+|[，]+|[；]+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g," "),a=a.replace(t.defConfig.checkFont,"")+" "},checkSingleNum:function(e){var t=this;return e.length==t.balls.length},checkBallIsComplete:function(e){var t,a,n=this,r=0,i={},o=[];for(n.aData=[],n.vData=[],n.sameData=[],n.errorData=[],n.tData=[],o=n.iterator(e),t=o.length,r=0;t>r;r++)a=o[r].split(""),n.checkSingleNum(a)?i[a]?n.sameData.push(a):(n.tData.push(a),i[a]=!0):n.errorData.push(a);return n.tData.length>0?(n.isBallsComplete=!0,n.tData):(n.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),-1!=n&&(a.push(n),n+=t.length);while(-1!=n);return a},removeOrderError:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join("");t=$.trim(t.join(" ")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join("");t=$.trim(t.join(" ")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",s="",l=o.getCurrentGameMessage(),u=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(""));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+c.join(", ")+"</textarea>"}if(""!=n.join("")){for(var d=0;d<n.length;d++)$.trim(n[d].join(""))&&u.push(n[d].join(""));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+u.join(", ")+"</textarea>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t[n]=e[n].join("");return t.join("|")},makePostParameter:function(e,t){for(var a=[],e=t.lotterys,n=e.length,r=0;n>r;r++)a[r]=e[r].join("");return a.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<i.length;s++)if(i[s].type==a.defConfig.name){var l=i[s].original.join("").replace(/,/g,"");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),a={type:n,original:i,lotterys:r,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">清理错误与重复</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},u=e.Class(l,a);u.defConfig=r,s[t]=u}(bomao,"Danshi",bomao.GameMethod),function(e,t,a,n){var r,i={},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameMessage(t)}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games.SSC[t]=l}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r,i={name:t,jsNameSpace:"bomao.Games.L115."},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o[t].Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"L115",bomao.Game),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[/\n]|[/W]/g,filtration:/[；|;]+|[\n\r]+|[,|，]+/g,checkNum:/^\d{2}$/,normalTips:["说明：","1、支持常见的各种单式格式，间隔符如： 换行符 回车 逗号 分号等, 号码之间则使用空格隔开","2、上传文件后缀必须是.txt格式,最大支持10万注，并支持拖拽文件到文本框进行上传","3、文件较大时会导致上传时间较长，请耐心等待！","","格式范例：01 02 03|03 04 05|07 08 11"].join("\n")},i="L115",o=e.Games,s=e.Games[i],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,n=$.trim(a.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+n+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==n&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"",a=$.trim(e.defConfig.normalTips);return t=$.trim(t)==a?"":t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){{var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase()}t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t,a=this,n=a.defConfig,r=[],i=[];return e=$.trim(e),e=e.replace(n.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),i=e.split("|"),$.each(i,function(e){t=$.trim(this),""!=t&&r.push(t.split(" "))}),r},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e.join(""))return!1;return!0},checkSingleNum:function(e){var t=this,a=!0;return $.each(e,function(){return t.defConfig.checkNum.test(this)?void 0:(a=!1,!1)}),a},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+|\s+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g,","),a=a.replace(t.defConfig.checkFont,"")+",",a=a.replace(/[,;，；:：|]+/gi,",")},checkBallIsComplete:function(e){var t=this,a=0,n=[];for(t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],n=t.iterator(e);a<n.length;a++)t.checkSingleNum(n[a])?(t.checkResult(n[a],t.tData)?t.tData.push(n[a]):t.checkResult(n[a],t.sameData)&&t.sameData.push(n[a]),t.vData.push(n[a])):t.checkResult(n[a],t.errorData)&&t.errorData.push(n[a]),t.checkResult(n[a],t.aData)&&t.aData.push(n[a]);return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),-1!=n&&(a.push(n),n+=t.length);while(-1!=n);return a},removeOrderError:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)""!=$.trim(t[i].join(""))&&r.push(t[i].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join("|")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)""!=$.trim(t[i].join(""))&&r.push(t[i].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",s="",l=o.getCurrentGameMessage(),u=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(" "));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+c.join("|")+"</textarea>"}if(""!=n.join("")){for(var d=0;d<n.length;d++)$.trim(n[d].join(""))&&u.push(n[d].join(" "));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+u.join("|")+"</textarea>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){return this.makePostParameter(e)},makePostParameter:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t=t.concat(e[n].join(" "));return t.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<i.length;s++)if(i[s].type==a.defConfig.name){var l=i[s].original.join("").replace(/,/g,"");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),a={type:n,original:i,lotterys:r,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">清理错误与重复</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},u=e.Class(l,a);u.defConfig=r,s[t]=u}(bomao,"Danshi",bomao.GameMethod),function(e,t,a,n){var r,i={},o="L115",s=e.Games,l={init:function(e){var t=this;s.setCurrentGameMessage(t)}},u=e.Class(l,a);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e.Games[o][t]=u}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r,i={name:"3d",jsNamespace:""},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o.D3.Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"D3",bomao.Game),function(e,t,a,n){var r,i={},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameMessage(t)}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games.D3[t]=l}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r,i={name:"p35",jsNamespace:""},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o.P35.Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"P35",bomao.Game),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[/\n]|[/W]/g,filtration:/[^\d]/g,checkNum:/^[0-9]*$/,normalTips:["说明：","1、支持常见的各种单式格式，间隔符如： 换行符 回车 逗号 分号等","2、上传文件后缀必须是.txt格式,最大支持10万注，并支持拖拽文件到文本框进行上传","3、文件较大时会导致上传时间较长，请耐心等待！","","格式范例：12345 23456 88767 33021 98897 "].join("\n")},i="P35",o=e.Games,s=e.Games[i],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,n=$.trim(a.normalTips);

e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+n+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==n&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"",a=$.trim(e.defConfig.normalTips);return t=$.trim(t)==a?"":t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){{var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase()}t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t=this,a=t.defConfig,n=[];return e=e.replace(a.filtration," "),e=e.replace(/\s+/g," "),e=$.trim(e),n=e.split(" ")},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e)return!1;return!0},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+/gi," "),a=a.replace(/[\s]|[,]+|[;]+|[，]+|[；]+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g," "),a=a.replace(t.defConfig.checkFont,"")+" "},checkSingleNum:function(e){var t=this;return e.length==t.balls.length},checkBallIsComplete:function(e){var t,a,n=this,r=0,i={},o=[];for(n.aData=[],n.vData=[],n.sameData=[],n.errorData=[],n.tData=[],o=n.iterator(e),t=o.length,r=0;t>r;r++)a=o[r].split(""),n.checkSingleNum(a)?i[a]?n.sameData.push(a):(n.tData.push(a),i[a]=!0):n.errorData.push(a);return n.tData.length>0?(n.isBallsComplete=!0,n.tData):(n.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),-1!=n&&(a.push(n),n+=t.length);while(-1!=n);return a},removeOrderError:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join("");t=$.trim(t.join(" ")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join("");t=$.trim(t.join(" ")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",s="",l=o.getCurrentGameMessage(),u=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(""));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+c.join(", ")+"</textarea>"}if(""!=n.join("")){for(var d=0;d<n.length;d++)$.trim(n[d].join(""))&&u.push(n[d].join(""));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+u.join(", ")+"</textarea>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t[n]=e[n].join("");return t.join("|")},makePostParameter:function(e,t){for(var a=[],e=t.lotterys,n=e.length,r=0;n>r;r++)a[r]=e[r].join("");return a.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<i.length;s++)if(i[s].type==a.defConfig.name){var l=i[s].original.join("").replace(/,/g,"");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),a={type:n,original:i,lotterys:r,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">清理错误与重复</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},u=e.Class(l,a);u.defConfig=r,s[t]=u}(bomao,"Danshi",bomao.GameMethod),function(e,t,a,n){var r,i={},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameMessage(t)}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games.P35[t]=l}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r,i={name:"k3",jsNamespace:""},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o.K3.Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"K3",bomao.Game),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[/\n]|[/W]/g,filtration:/[\s]|[,]|[;]|[<br>]|[，]|[；]/i,checkNum:/^[0-9]*$/,normalTips:'<p style="color:#999;font-size:12px;line-height:170%;">'+["说明：","1、每一注号码之间的间隔符支持 回车  空格[ ]    逗号[,]   分号[;]","2、文件格式必须是.txt格式,大小不超过200KB","3、文件较大时会导致上传时间较长，请耐心等待！","4、将文件拖入文本框即可快速实现文件上传功能","5、导入文本内容后将覆盖文本框中现有的内容。"].join("<br>")+"</p>"},i="K3",o=e.Games,s=e.Games[i],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.firstfocus=!0,t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initFrame:function(){var t=this;t.win=t.container.find(t.defConfig.editorobj)[0].contentWindow,t.doc=t.win.document,t._bulidEditDom();var a=e.Tip.getInstance();t.container.find(".balls-example-danshi-tip").click(function(e){e.preventDefault();var n=$(this);a.setText(t.getExampleText()),a.show(n.outerWidth()+10,0,this)}).mouseout(function(){a.hide()})},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this;e.replaceText(e.getNormalTips.call(e)),e.firstfocus=!0},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=$(e.doc.body);window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.firstfocus=!1,e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this;return e.doc?$(e.doc.body).html():""},getText:function(){var e=this;return e.doc?$(e.doc.body).text():""},replaceText:function(e){var t=this;t.doc&&e&&$(t.doc.body).html(e)},bindPress:function(){var e=this,t=e.container.find(e.defConfig.uploadButton),a=window.navigator.userAgent.toLowerCase();$(e.doc).bind("input",function(){e.updateData()}),a.indexOf("msie")>0&&($(e.doc.body).bind("keyup",function(){e.updateData()}),$(e.doc.body).bind("blur",function(){e.updateData()})),$(e.doc).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc).bind("blur",function(){var t=e.getText();""==$.trim(t)&&e.showNormalTips()}),$(e.doc.body).bind("focus",function(){e.firstfocus&&(e.replaceText(" "),e.firstfocus=!1)}),$(e.doc.body).bind("blur",function(){var t=e.getText();""==$.trim(t)&&e.showNormalTips()}),t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){for(var t=this,a=t.defConfig,n=[],r=0,i=0;i<e.length;i++)a.filtration.test(e.charAt(i))&&(n.push(e.substr(r,i-r)),r=i+1);return n},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e)return!1;return!0},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+/gi," "),a=a.replace(/[\s]|[,]+|[;]+|[，]+|[；]+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g," "),a=a.replace(t.defConfig.checkFont,"")+" "},checkSingleNum:function(e){var t=this;return t.defConfig.checkNum.test(e)&&e.length==t.balls.length},checkBallIsComplete:function(e){var t=this,a=0,n=[];for(t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],n=t.iterator(t.filterLotters(e))||[];a<n.length;a++)t.checkSingleNum(n[a])?(t.checkResult(n[a],t.tData)?t.tData.push(n[a].split("")):t.checkResult(n[a],t.sameData)&&t.sameData.push(n[a].split("")),t.vData.push(n[a].split(""))):t.checkResult(n[a],t.errorData)&&t.errorData.push(n[a].split("")),t.checkResult(n[a],t.aData)&&t.aData.push(n[a].split(""));return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),-1!=n&&(a.push(n),n+=t.length);while(-1!=n);return a},removeOrderError:function(){var e=this,t=e.vData.length>0?"":" ";if(!e.firstfocus){for(var a=0;a<e.vData.length;a++)t+=e.vData[a].join("")+"&nbsp;";if(e.errorDataTips(),""==$.trim(t))return void e.showNormalTips();e.replaceText(t),e.checkBallIsComplete(t)}},removeOrderSame:function(){var e=this,t=e.aData.length>0?"":" ";if(!e.firstfocus){for(var a=0;a<e.aData.length;a++)t+=e.aData[a].join("")+"&nbsp;";e.sameDataTips(),e.replaceText(t),e.checkBallIsComplete(t)}},removeOrderAll:function(){var e=this;e.firstfocus||(e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips())},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件哦，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.firstfocus=!1,t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+r.join(", ")+"</p>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)$.trim(t[i].join(""))&&r.push(t[i].join(""));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+r.join(", ")+"</p>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",s="",l=o.getCurrentGameMessage(),u=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(""));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><p class="pop-text" style="display:block">'+c.join(", ")+"</p>"}if(""!=n.join("")){for(var d=0;d<n.length;d++)$.trim(n[d].join(""))&&u.push(n[d].join(""));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><p class="pop-text" style="display:block">'+u.join(", ")+"</p>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t=t.concat(e[n].join(""));return t.join("|")},makePostParameter:function(e,t){for(var a=[],e=t.lotterys,n=0;n<e.length;n++)a=a.concat(e[n].join(""));return a.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<i.length;s++)if(i[s].type==a.defConfig.name){var l=i[s].original.join("").replace(/,/g,"");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),a={type:n,original:i,lotterys:r,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" class="balls-import-form" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">删除错误项</a>'),a.push('<a class="btn remove-same" href="javascript:void(0);">删除重复项</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},u=e.Class(l,a);u.defConfig=r,s[t]=u}(bomao,"Danshi",bomao.GameMethod),function(e,t,a,n){var r,i={},o=e.Games,s={init:function(e){var t=this;o.setCurrentGameMessage(t)}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games.K3[t]=l}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r,i={name:t,jsNameSpace:"bomao.Games.PK10."},o=e.Games,s={init:function(){var e=this;e.eventProxy()},getGameConfig:function(){return o[t].Config}},l=e.Class(s,a);l.defConfig=i,l.getInstance=function(e){return r||(r=new l(e))},e.Games[t]=l}(bomao,"PK10",bomao.Game),function(e,t,a,n){var r={name:"wuxing.zhixuan.danshi",editorobj:".content-text-balls",uploadButton:"#file",exampleText:"12345 33456 87898 <br />12345 33456 87898 <br />12345 33456 87898 ",tips:"五星直选单式玩法提示",exampleTip:"这是单式弹出层提示",checkFont:/[\u4E00-\u9FA5]|[/\n]|[/W]/g,filtration:/[；|;]+|[\n\r]+|[,|，]+/g,checkNum:/^\d{2}$/,normalTips:["说明：","1、支持常见的各种单式格式，间隔符如： 换行符 回车 逗号 分号等, 号码之间则使用空格隔开","2、上传文件后缀必须是.txt格式,最大支持10万注，并支持拖拽文件到文本框进行上传","3、文件较大时会导致上传时间较长，请耐心等待！","","格式范例：01 02 03|03 04 05|07 08 11"].join("\n")},i="PK10",o=e.Games,s=e.Games[i],l={init:function(e){var t=this;t.ieRange="",t.vData=[],t.aData=[],t.tData=[],t.errorData=[],t.sameData=[],t.ranNumTag=!1,t.isFirstAdd=!0,o.getCurrentGameOrder().addEvent("beforeAdd",function(e,a){t.tData;a.type==t.defConfig.name&&(t.isFirstAdd?t.ranNumTag||(a.lotterys=[],t.isFirstAdd=null,t.updateData(),o.getCurrentGameOrder().add(o.getCurrentGameStatistics().getResultData())):((""!=t.errorData.join("")||""!=t.sameData.join(""))&&t.ballsErrorTip(),t.isFirstAdd=!0))})},initTextarea:function(){var e=this,t="content-textarea-balls-def",a=e.defConfig,n=$.trim(a.normalTips);e.importTextarea=$('<textarea class="content-textarea-balls '+t+'">'+n+"</textarea>"),e.container.find(".panel-select").html("").append(e.importTextarea),e.importTextarea.focus(function(){var a=$.trim(this.value);a==n&&(this.value="",e.importTextarea.removeClass(t))}).blur(function(){var t=$.trim(this.value);""==t&&(e.removeOrderAll(),e.showNormalTips())}).keyup(function(){e.updateData()})},initFrame:function(){var e=this;e.initTextarea(),e.bindPressTextarea(),e.dragUpload()},getExampleText:function(){return this.defConfig.exampleText},rebuildData:function(){var e=this;e.balls=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},buildUI:function(){var e=this;e.container.html(e.getHTML())},reSelect:function(){},batchSetBallDom:function(){},getNormalTips:function(){return this.defConfig.normalTips},showNormalTips:function(){var e=this,t="content-textarea-balls-def";e.importTextarea&&e.importTextarea.addClass(t),e.replaceText(e.getNormalTips.call(e))},_bulidEditDom:function(){var e=this,t="";e.doc.designMode="On",e.doc.contentEditable=!0,e.doc.open(),t='<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',t+="<style>*{margin:0;padding:0;font-size:14px;}</style>",t+="</head>",e.doc.writeln("<html>"+t+'<body style="word-break: break-all">'+e.getNormalTips()+"</body></html>"),e.doc.close(),e.bindPress(),document.all&&(e.doc.onkeypress=function(){return e._ieEnter()}),e.dragUpload()},dragUpload:function(){var e=this,t=e.importTextarea;window.FileReader&&(t.bind("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.get(0).addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var a=t.dataTransfer.files,n=a[0],r=new FileReader,i=n.type?n.type:"n/a";"text/plain"==i&&(r.onload=function(t){var a=t.target.result;""!=$.trim(a)&&(e.replaceText(a),e.updateData())},r.readAsText(n))},!1))},_ieEnter:function(){var e=this,t=e.win.event;return 13==t.keyCode?(this._saveRange(),this._insert("<br/>"),!1):void 0},_insert:function(e){var t=this;if(t.ieRange)t.ieRange.pasteHTML(e),t.ieRange.select(),t.ieRange=!1;else if(t.win.focus(),document.all)t.doc.body.innerHTML+=e;else{var a=win.getSelection(),n=a.getRangeAt(0),r=n.createContextualFragment(e);n.insertNode(r)}},_saveRange:function(){if(document.all&&!me.ieRange){var e=me.doc.selection;if(me.ieRange=e.createRange(),"Control"!=e.type){var t=me.ieRange.parentElement();("INPUT"==t.tagName||t==document.body)&&(me.ieRange=!1)}}},getHtml:function(){var e=this,t=e.importTextarea?e.importTextarea.val():"",a=$.trim(e.defConfig.normalTips);return t=$.trim(t)==a?"":t},replaceText:function(e){var t=this;t.importTextarea&&t.importTextarea.val(e)},bindPressTextarea:function(){{var e=this,t=e.container.find(e.defConfig.uploadButton);window.navigator.userAgent.toLowerCase()}t.bind("change",function(){var t=$(this).parent();e.checkFile(this,t)})},iterator:function(e){var t,a=this,n=a.defConfig,r=[],i=[];return e=$.trim(e),e=e.replace(n.filtration,"|"),e=e.replace(/\s+/g," "),e=$.trim(e),i=e.split("|"),$.each(i,function(e){t=$.trim(this),""!=t&&r.push(t.split(" "))}),r},checkResult:function(e,t){for(var a=t.length-1;a>=0;a--)if(t[a].join("")==e.join(""))return!1;return!0},checkSingleNum:function(e){var t=this,a=!0;return $.each(e,function(){return t.defConfig.checkNum.test(this)?void 0:(a=!1,!1)}),a},filterLotters:function(e){var t=this,a="";return a=e.replace(/<br>+|&nbsp;+|\s+/gi," "),a=a.replace(/<(?:"[^"]*"|'[^']*'|[^>'"]*)+>/g,","),a=a.replace(t.defConfig.checkFont,"")+",",a=a.replace(/[,;，；:：|]+/gi,",")},checkBallIsComplete:function(e){var t=this,a=0,n=[];for(t.aData=[],t.vData=[],t.sameData=[],t.errorData=[],t.tData=[],n=t.iterator(e);a<n.length;a++)t.checkSingleNum(n[a])?(t.checkResult(n[a],t.tData)?t.tData.push(n[a]):t.checkResult(n[a],t.sameData)&&t.sameData.push(n[a]),t.vData.push(n[a])):t.checkResult(n[a],t.errorData)&&t.errorData.push(n[a]),t.checkResult(n[a],t.aData)&&t.aData.push(n[a]);return t.tData.length>0?(t.isBallsComplete=!0,t.isFirstAdd?t.vData:t.tData):(t.isBallsComplete=!1,[])},countInstances:function(e,t){var a=[],n=0;do n=e.indexOf(t,n),-1!=n&&(a.push(n),n+=t.length);while(-1!=n);return a},removeOrderError:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.errorDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderSame:function(){var e=this,t=[],a=0,n=e.tData.length;for(a=0;n>a;a++)t[a]=e.tData[a].join(" ");t=$.trim(t.join("|")),e.sameDataTips(),e.replaceText(t),e.errorData=[],e.sameData=[],""==t&&e.showNormalTips()},removeOrderAll:function(){var e=this;e.replaceText(" "),e.sameData=[],e.aData=[],e.tData=[],e.vData=[],o.getCurrentGameStatistics().reSet(),e.showNormalTips()},checkFile:function(e,t){var a=e.value,n=a.substring(a.lastIndexOf("."),a.length),n=n.toLowerCase();return".txt"!=n?(alert("对不起，导入数据格式必须是.txt格式文件，请您调整格式后重新上传，谢谢 ！"),!1):void t[0].submit()},getFile:function(e){var t=this,a=t.container.find(":reset");e&&(t.replaceText(e),t.updateData(),a.click())},errorTip:function(e,t){var a=this;alert(a.errorData.join())},sameDataTips:function(){var e=this,t=e.sameData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)""!=$.trim(t[i].join(""))&&r.push(t[i].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join("|")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})}},errorDataTips:function(){var e=this,t=e.errorData,a="",n=o.getCurrentGameMessage(),r=[];if(""!=t.join("")){for(var i=0;i<t.length;i++)""!=$.trim(t[i].join(""))&&r.push(t[i].join(" "));a='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+r.join(", ")+"</textarea>",n.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+a+"</div>","</div>","</div>"].join(""),
closeIsShow:!0,closeFun:function(){this.hide()}})}},ballsErrorTip:function(e,t){var a=this,n=a.errorData,r=a.sameData,i="",s="",l=o.getCurrentGameMessage(),u=[],c=[];if(""!=r.join("")){for(var d=0;d<r.length;d++)$.trim(r[d].join(""))&&c.push(r[d].join(" "));s='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码重复，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+c.join("|")+"</textarea>"}if(""!=n.join("")){for(var d=0;d<n.length;d++)$.trim(n[d].join(""))&&u.push(n[d].join(" "));i='<h4 class="pop-text" style="display:block;font-weight:bold">以下号码错误，已进行自动过滤</h4><textarea class="" style="display:block;height:100px;width:400px;padding:5px;">'+u.join("|")+"</textarea>"}l.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">'+s+i+"</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}})},reSet:function(){var e=this;e.isBallsComplete=!1,e.rebuildData(),e.updateData(),e.ranNumTag||e.showNormalTips(),e.removeRanNumTag()},formatViewBalls:function(e){return this.makePostParameter(e)},makePostParameter:function(e){for(var t=[],a=e.length,n=0;a>n;n++)t=t.concat(e[n].join(" "));return t.join("|")},getLottery:function(){var e=this,t=e.getHtml();return""==t?[]:e.checkBallIsComplete(t)},removeSameNum:function(e){var t,a=0,n=this,r=this.getBallData()[0].length;for(len=e.length,t=Math.floor(Math.random()*r);a<e.length;a++)if(t==e[a])return arguments.callee.call(n,e);return t},emptySameData:function(){this.sameData=[]},emptyErrorData:function(){this.errorData=[]},addRanNumTag:function(){var e=this;e.ranNumTag=!0,e.emptySameData(),e.emptyErrorData()},getTdata:function(){return this.tData},getOriginal:function(){return this.getTdata()},removeRanNumTag:function(){this.ranNumTag=!1},checkRandomBets:function(e,t){var a=this,n="undefined"==typeof e?!0:!1,e=e||{},r=[],t=t||0,i=(a.getBallData().length,a.getBallData()[0].length,o.getCurrentGameOrder().getTotal().orders);if(r=a.createRandomNum(),Number(t)>Number(a.getRandomBetsNum()))return r;if(n)for(var s=0;s<i.length;s++)if(i[s].type==a.defConfig.name){var l=i[s].original.join("").replace(/,/g,"");e[l]=l}return e[r.join("")]?(t++,arguments.callee.call(a,e,t)):r},randomNum:function(){var e=this,t=[],a=null,n=(e.getBallData(),e.defConfig.name,o.getCurrentGame().getCurrentGameMethod().getGameMethodName()),r=[],i=[];return e.addRanNumTag(),t=e.checkRandomBets(),i=t,r=e.combination(i),a={type:n,original:i,lotterys:r,moneyUnit:o.getCurrentGameStatistics().getMoneyUnit(),multiple:o.getCurrentGameStatistics().getMultip(),onePrice:o.getCurrentGame().getGameConfig().getInstance().getOnePrice(n),num:r.length},a.amountText=o.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},getHTML:function(){var e=o.getCurrentGame().getGameConfig().getInstance().getUploadPath(),t=o.getCurrentGame().getGameConfig().getInstance().getToken(),a=[];return a.push('<div class="balls-import clearfix">'),a.push('<form id="form1" name="form1" enctype="multipart/form-data" method="post" action="'+e+'" target="check_file_frame" style="position:relative;padding-bottom:10px;">'),a.push('<input name="betNumber" type="file" id="file" size="40" hidefocus="true" value="导入" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;position:absolute;top:0px; left:0px; width:115px; height:30px;z-index:1;background:#000;cursor: pointer;" />'),a.push('<input name="_token" type="hidden" value="'+t+'" />'),a.push('<input type="button" class="btn balls-import-input" style="cursor: pointer;" value="导入注单" onclick=document.getElementById("form1").file.click()>&nbsp;&nbsp;&nbsp;&nbsp;<a style="display:none;" class="balls-example-danshi-tip" href="#">查看标准格式样本</a>'),a.push('<input type="reset" style="outline:none;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);filter:alpha(opacity=0);opacity: 0;width:0px; height:0px;z-index:1;background:#000" />'),a.push('<iframe src="'+e+'" name="check_file_frame" style="display:none;"></iframe>'),a.push("</form>"),a.push('<div class="panel-select" ><iframe style="width:100%;height:100%;border:0 none;background-color:#F9F9F9;" class="content-text-balls"></iframe></div>'),a.push('<div class="panel-btn">'),a.push('<a class="btn remove-error" href="javascript:void(0);">清理错误与重复</a>'),a.push('<a class="btn remove-all" href="javascript:void(0);">清空文本框</a>'),a.push("</div>"),a.push("</div>"),a.join("")}},u=e.Class(l,a);u.defConfig=r,s[t]=u}(bomao,"Danshi",bomao.GameMethod),function(e,t,a,n){var r,i={},o="PK10",s=e.Games,l={init:function(e){var t=this;s.setCurrentGameMessage(t)}},u=e.Class(l,a);u.defConfig=i,u.getInstance=function(e){return r||(r=new u(e))},e.Games[o][t]=u}(bomao,"Message",bomao.GameMessage),function(e,t,a,n){var r={},i={init:function(e){var t=this;t._option={},t._orders=[],t._tabType=0,t._selects={},t._isapplydanguan=!1,t._matchTypeValue=""},getMatchTypeValue:function(){return this._matchTypeValue},setMatchTypeValue:function(e){this._matchTypeValue=e},getIsApplyDanguan:function(){return this._isapplydanguan},setIsApplyDanguan:function(e){this._isapplydanguan=e},getSelects:function(){return this._selects},setSelects:function(e){var t=this,a=0,n=e.length;for(t._selects={},a=0;n>a;a++)t._selects[e[a]]=1;t.update()},getTabType:function(){return this._tabType},setTabType:function(e){var t=this;t._tabType=e,t.setSelects([]),t.fireEvent("after_setTabType",e)},setMethodMixMaxCfg:function(e){var t=this;t._MethodMixMaxCfg=e},getMethodMixMaxCfg:function(e){var t=this;return e?t._MethodMixMaxCfg.key:t._MethodMixMaxCfg},initOption:function(e){var t,a,n,r=this,i=e,o=[],s=0,l=i.length,u={"2_1":1,"3_1":1,"4_1":1,"5_1":1,"6_1":1,"7_1":1,"8_1":1};for(s=0;l>s;s++){if(t=i[s],n={},n.x=Number(t[0].split("_")[0]),n.y=Number(t[0].split("_")[1]),n.code=t[0],n.name=t[1],n.numcfg={},u[t[0]])n.numcfg[t[0]]=u[t[0]];else for(a in t[2])t[2].hasOwnProperty(a)&&(n.numcfg[a]=t[2][a]);o[s]=n}r._option=o},getOption:function(){return this._option},getTypeOption:function(e,t){var a=this,n=a.getOption(),r=0,i=n.length,o=[],s=a.getMinGroupY(),l=a.getDanNum();if(t)for(r=0;i>r;r++)n[r].x<=e&&n[r].y>=s&&n[r].x>l&&o.push(n[r]);else for(r=0;i>r;r++)1==n[r].y&&n[r].x<=e&&n[r].x>l&&o.push(n[r]);return o=a.filterForDanguan(o),o=a.filterForMethodMaxCfg(o)},filterForMethodMaxCfg:function(e){var t,a=this,n=a.getOrders(),r=0,i=n.length,o=0,s=a.getMethodMixMaxCfg(),l=[],u=0,c=[];for(r=0;i>r;r++)for(o=0,t=n[r].bets.length;t>o;o++)l.push(s[n[r].bets[o].type]);for(l.length>0&&(l.sort(),u=l[0]),r=0,i=e.length;i>r;r++)e[r].x<=u&&c.push(e[r]);return c},filterForDanguan:function(e){var t,a=this,n=a.getOrders(),r=!0,i="single"==a.getMatchTypeValue()?!0:!1,o=[],s=0,l=n.length,u=0;for(s=0;l>s;s++)for(u=0,t=n[s].bets.length;t>u;u++)if(!n[s].bets[u].issingle){r=!1;break}if(i&&r||1==a.getOrdersLen()&&r){for(s=0,l=e.length;l>s;s++)1==e[s].x&&o.push(e[s]);a.setIsApplyDanguan(!0)}else{for(s=0,l=e.length;l>s;s++)e[s].x>1&&o.push(e[s]);a.setIsApplyDanguan(!1)}return!i&&a.getOrdersLen()>1&&a.setIsApplyDanguan(!1),o},getMinGroupY:function(){var e=this,t=e.getOption(),a=0,n=t.length,r=[];for(a=0;n>a;a++)t[a].y>1&&r.push(t[a].x);return r.sort(),r[0]},getOrders:function(){return this._orders},setOrders:function(e){this._orders=e},getOrdersLen:function(){var e=this,t=e._orders,a=0,n=t.length,r={},i=0;for(a=0;n>a;a++)r[t[a].matchid]||(i+=1,r[t[a].matchid]=!0);return i},checkOrderMatchLen:function(e,t){var a=this,n=a._orders,r=0,i=n.length,o={},s=0,t=t||15;for(r=0;i>r;r++)o[n[r].matchid]||(s+=1,o[n[r].matchid]=!0);return o[e]?!0:t>s},formatOrderParams:function(e){return e.index=Number(e.index),e.odds=Number(e.odds),e.handicap=Number(e.handicap),e.issingle=""==e.issingle?!1:!0,delete e.action,e},addOrder:function(e){var t,a,n,r,i=this,o=e.matchid,s=i.getOrders(),l=0,u=0,c=i.getOrdersByMatchid(o);if(e=i.formatOrderParams(e),c.length<1)r={matchid:o,bets:[e],dan:0},s.push(r),s.sort(function(e,t){return Number(e.matchid)-Number(t.matchid)});else{for(t=0;t<c.length;t++)for(r=c[t],l=0,n=r.bets.length;n>l;l++)if(a=r.bets[l],a.type==e.type&&a.value==e.value)return void i.delBet(o,a.type,a.value);for(t=0;t<c.length;t++){if(r.bets[0].type!=e.type){for(u=0;u<r.bets.length;u++)r.bets[u].issplit=1;e.issplit=1,r={matchid:o,bets:[e],dan:0},s.push(r),s.sort(function(e,t){return Number(e.matchid)-Number(t.matchid)});break}r.bets.push(e),r.bets.sort(function(e,t){return Number(e.index)-Number(t.index)});break}}i.fireEvent("after_addOrder"),i.update()},copyRebuildOrders:function(e){var t,a,n,r,i,o=0,s=0,l=e.length,u=[],c={};for(o=0;l>o;o++){for(t=e[o],a=e[o].bets,i=[],s=0;s<a.length;s++)n={action:a[s].action,index:a[s].index,issplit:a[s].issplit,matchid:a[s].matchid,name:a[s].name,odds:a[s].odds,team1:a[s].team1,team2:a[s].team2,time:a[s].time,type:a[s].type,value:a[s].value},i.push(n);c[e[o].matchid]?(r=c[e[o].matchid],r.bets=r.bets.concat(i),r.bets.sort(function(e,t){return Number(e.index)-Number(t.index)})):(r={matchid:t.matchid,dan:t.dan,bets:i},r.bets.sort(function(e,t){return Number(e.index)-Number(t.index)}),c[e[o].matchid]=r,u.push(r))}return u},copyMergeBets:function(e,t){},setDan:function(e,t){var a=this,n=a.getOrdersByMatchid(e),r=0,i=n.length;for(r=0;i>r;r++)n[r].dan=t;a.update()},getDanNum:function(){var e=this,t=e.getOrders(),a=0,n=t.length,r=0,i={};for(a=0;n>a;a++)1!=t[a].dan||i[t[a].matchid]||(r+=1,i[t[a].matchid]=!0);return r},getOrdersByMatchid:function(e){var t=this,a=t.getOrders(),n=0,r=a.length,i=[];for(n=0;r>n;n++)a[n].matchid==e&&i.push(a[n]);return i},delOrder:function(e){var t=this,a=t.getOrders(),n=0,r=a.length,i=[];for(n=0;r>n;n++)a[n].matchid!=e&&i.push(a[n]);t.setOrders(i),t.fireEvent("after_delOrder",e),t.update()},delAll:function(){var e=this;e.setOrders([]),e.fireEvent("after_delAll"),e.update()},getMultiple:function(){return 1},delBet:function(e,t,a){var n,r,i,o,s=this,l=s.getOrders(),u=s.getOrdersByMatchid(e),c=0;for(c=0;c<u.length;c++)for(n=u[c].bets,i=0;i<n.length;i++)if(n[i].type==t&&n[i].value==a){o=n.splice(i,1);break}for(c=0,r=l.length;r>c;c++)if(l[c].matchid==e&&0==l[c].bets.length){l.splice(c,1);break}s.fireEvent("after_delBet",e,t,a),s.update()},update:function(){var e=this;e.fireEvent("after_update"),e.updateStatics()},updateStatics:function(){var e=this;e.fireEvent("after_update_statics")},setMaxPrize:function(e){this._maxPrize=e},getMaxPrize:function(){return this._maxPrize},countMaxPrize:function(e){var t,a,n,r,i=this,o=[];return 0==e?(i.setMaxPrize(0),void i.fireEvent("after_countMaxPrize",i.getMaxPrize())):(t=i.rebuildOrders(),a=i.getMaxPrize_handicapWin(t),n=i.getMaxPrize_handicapLose(t),r=i.getMaxPrize_handicapTie(t),o=[],o.push(a.min),o.push(a.max),o.push(n.min),o.push(n.max),o.push(r.min),o.push(r.max),o.sort(),e=2*o[o.length-1],i.setMaxPrize(e),void i.fireEvent("after_countMaxPrize",i.getMaxPrize()))},getMaxPrize_handicapWin:function(e){var t,a,n,r=this,i=0,o=0,s=0,l={},u=[];for(n in e)e.hasOwnProperty(n)&&(i=r.getHandicapFromOrder(e[n]),0>i?(o=Math.abs(i)+1,s=0,l={3:!0}):(o=0,s=0,l={3:!0,1:!0}),u.push(r.getMaxPrizeByResult(l,o,s,e[n])));var c=1,d=1;for(t=0,a=u.length;a>t;t++)c*=u[t].min,d*=u[t].max;return{min:c,max:d}},getMaxPrize_handicapTie:function(e){var t,a=this,n=0,r=0,i=0,o={};for(t in e)if(e.hasOwnProperty(t))return n=a.getHandicapFromOrder(e[t]),0>n?(r=Math.abs(n),i=0,o={3:!0}):(r=0,i=Math.abs(n),o={0:!0}),a.getMaxPrizeByResult(o,r,i,e[t])},getMaxPrize_handicapLose:function(e){var t,a=this,n=0,r=0,i=0,o={};for(t in e)if(e.hasOwnProperty(t))return n=a.getHandicapFromOrder(e[t]),0>n?(r=Math.abs(n)+1,i=0,o={1:!0,0:!0}):(r=0,i=Math.abs(n)+1,o={0:!0}),a.getMaxPrizeByResult(o,r,i,e[t])},getMaxPrizeByResult:function(e,t,a,n){var r,i,o,s=this,l=t+a,u={},c={min:1,max:1};for(r in n)if(n.hasOwnProperty(r))switch(u[r]=[],r){case"win":for(i=0,o=n[r].bets.length;o>i;i++)e[n[r].bets[i].value]&&u[r].push(n[r].bets[i].odds);break;case"handicapWin":for(i=0,o=n[r].bets.length;o>i;i++)e[s.getOrderSpf_handicapWin(n[r].bets[i].value)]&&u[r].push(n[r].bets[i].odds);break;case"haFu":for(i=0,o=n[r].bets.length;o>i;i++)e[s.getOrderSpf_haFu(n[r].bets[i].value)]&&u[r].push(n[r].bets[i].odds);break;case"correctScore":for(i=0,o=n[r].bets.length;o>i;i++)e[s.getOrderSpf_correctScore(n[r].bets[i].value)]&&n[r].bets[i].num>=l&&u[r].push(n[r].bets[i].odds);break;case"totalGoals":for(i=0,o=n[r].bets.length;o>i;i++)n[r].bets[i].num>=l&&u[r].push(n[r].bets[i].odds)}for(r in u)u.hasOwnProperty(r)&&(u[r].sort(),u[r].length>0&&(c.min*=u[r][0],c.max*=u[r][u[r].length-1]));return c},getHandicapFromOrder:function(e){var t;for(t in e)if(e.hasOwnProperty(t))return e[t].bets[0].handicap},rebuildOrders:function(){var e,t,a,n,r,i,o=this,s=o.getOrders(),l={};for(e=0,t=s.length;t>e;e++)for(l[s[e].matchid]||(l[s[e].matchid]={}),a=0,n=s[e].bets.length;n>a;a++)r=s[e].bets[a].type,i=s[e].bets[a].value,l[s[e].matchid][r]||(l[s[e].matchid][r]={bets:[]}),l[s[e].matchid][r].bets.push({odds:s[e].bets[a].odds,value:i,type:r,spf:o.getOrderSpf(r,i),num:o.getOrderScore(r,i),handicap:s[e].bets[a].handicap});return l},getOrderScore:function(e,t){var a,n=this;return"totalGoals"==e?Number(n.getOrderSpf(e,t)):"correctScore"==e?(a=t.split(""),a[0]=Number(a[0]),a[1]=Number(a[1]),a[0]+a[1]):void 0},getOrderSpf:function(e,t){var a=this;return a["getOrderSpf_"+e]?a["getOrderSpf_"+e].call(a,t):void 0},getOrderSpf_win:function(e){var t=e.substr(e.length-1,1);return t},getOrderSpf_handicapWin:function(e){return this.getOrderSpf_win(e)},getOrderSpf_haFu:function(e){return this.getOrderSpf_win(e)},getOrderSpf_correctScore:function(e){var t,a=e.substr(e.length-2),n=a.split("");return n[0]=Number(n[0]),n[1]=Number(n[1]),t=n[0]>n[1]?"3":n[0]==n[1]?"1":"0"},getOrderSpf_totalGoals:function(e){var t=this.getOrderSpf_win(e);return Number(t)},getCount:function(){var e=this,t=(e.getTabType(),e.getCountGroupPass());return t>0?e.countMaxPrize():e.countMaxPrize(0),t},getCountFree:function(e){var t,a,n,r,i,o,s,l,u=this,c=u.getOrders(),d=[],e=e||u.getSelects(),m=u.splitSelects(e),h=u.getTabType(),g=(u.getTypeOption(u.getOrdersLen(),0==h?!1:!0),0),p=[],f=[],v=[];for(n=0;n<m.length;n++)d.push(u.splitOrders(c,m[n].a));for(r=0;r<d.length;r++)for(t=d[r],i=0;i<t.length;i++){for(a=t[i],p=[],o=0;o<a.length;o++)for(p[o]=[],s=0;s<a[o].bets.length;s++)p[o].push(a[o].bets[s]);f.push(u.combination(p))}for(n=0;n<f.length;n++)for(l=f[n],r=0;r<l.length;r++)v.push(l[r]);return g=v.length},getCountFreePass:function(){var e=this;return e.getCountFree(e.getSelects())},getCountFreeForGroup:function(e,t){var a,n,r,i,o,s,l,u,c,d,m,h=this,g=h.getOrders(),p=[],f=[],t=t||h.getSelects(),v=h.splitSelects(t),b=h.getTabType(),y=(h.getTypeOption(h.getOrdersLen(),0==b?!1:!0),0),C=[],T={},x=!1,D=!1,w=[],G=[];for(g=h.splitSameMathMethodOrder(g),r=0;r<v.length;r++)p.push(h.splitOrders(g,e));for(p=p.length>0?p[0]:p,i=0;i<p.length;i++)for(r=0;r<v.length;r++)f.push(h.splitOrders(p[i],v[r].a));for(i=0;i<f.length;i++)for(a=f[i],o=0;o<a.length;o++){for(n=a[o],C=[],s=0;s<n.length;s++)for(C[s]=[],l=0;l<n[s].bets.length;l++)C[s].push(n[s].bets[l]);w.push(h.combination(C))}for(r=0;r<w.length;r++)for(u=w[r],i=0;i<u.length;i++){d=[],x=!1,D=!1,m="";for(var o=0;o<u[i].length;o++)d.push(u[i][o].matchid+"-"+u[i][o].type),x=1==u[i][o].issplit?!0:x,0!=o&&m==u[i][o].matchid&&(D=!0),m=u[i][o].matchid;c=d.join("-"),x&&T[c]||D||G.push(u[i]),T[c]=!0}for(r=0;r<G.length;r++);return y=G.length},splitSameMathMethodOrder:function(e){var t,a,n,r,i=0,o=e.length,s=0,l=[];for(i=0;o>i;i++)for(a=e[i].bets,t=a.length-1,n={},s=t;s>=0;s--)n[a[s].type]||(s!=t?(a[s].issplit=1,r={matchid:e[i].matchid,dan:e[i].dan,bets:[a[s]]},l.push(r),a.splice(s,1)):n[a[s].type]=!0);return e.concat(l)},getCountDanguan:function(){var e=this,t=e.getOrders(),a=e.getSelects(),n=0,r=t.length,i=0;if(a["1_1"])for(n=0;r>n;n++)i+=t[n].bets.length;else i=0;return i},getCountGroupPass:function(){var e,t,a,n,r=this,i=0,o=r.getSelects(),s=r.splitSelects(o),l=r.getTabType(),u=r.getTypeOption(r.getOrdersLen(),0==l?!1:!0);if(r.getIsApplyDanguan())return r.getCountDanguan();for(var c=r.getOrders(),d={},m={},h=0,e=0;e<c.length;e++){var g=c[e];g.dan&&(m[g.matchid]||(m[g.matchid]=g.matchid,h++));for(var p=0;p<g.bets.length;p++){var f=g.bets[p];d[g.matchid]=d[g.matchid]||{},d[g.matchid][f.type]=d[g.matchid][f.type]||[],d[g.matchid][f.type].push(f)}}var v=[],b=[],y=[],C={};for(var T in d){v.push(T),m[T]?y.push(T):b.push(T),C[T]=C[T]||[];for(var x in d[T])C[T].push(T+"_"+x)}0===h&&(b=v);for(var D=[],e=0;e<s.length;e++){n=""+s[e].a+"_"+s[e].b;for(var t=0;t<u.length;t++)if(n==u[t].code){var w=u[t].numcfg,G=s[e].a-h;if(0>=G||G>b.length)return;for(var S=r.combine(b,G),p=0;p<S.length;p++){var N=S[p];N=N.concat(y);for(var _=[],k=0;k<N.length;k++){var T=N[k],M=C[T];_.push(M)}for(var I=r.combination(_),$=0;$<I.length;$++){var R=I[$];for(a in w)if(w.hasOwnProperty(a))for(var j=a.split("_"),O=r.combine(R,j[0]),P=0;P<O.length;P++){for(var B=O[P],E=[],L=0;L<B.length;L++){var A=B[L],H=A.split("_"),F=H[0],q=H[1];E.push(d[F][q])}var z=r.combination(E);D=D.concat(z)}}}}}return i=D.length},splitOrders:function(e,t){var a=this;return a.combine(e,t)},splitSelects:function(e){var t,a,n,r=[];for(t in e)e.hasOwnProperty(t)&&(a=Number(t.split("_")[0]),n=Number(t.split("_")[1]),r.push({a:a,b:n}));return r},getSubmitData:function(){var e,t,a,n,r=this,i=r.getOrders(),o=r.getSelects(),s={orders:[],selects:[]},l=[],u=0,c=i.length,d=0,m={};for(u=0;c>u;u++){for(t=[],l=[],e=i[u].bets.length,d=0;e>d;d++)l.push(i[u].bets[d].value);n=i[u].matchid,m[n]||(m[n]={matchid:n,selects:[],dan:0}),m[n].selects=m[n].selects.concat(l),m[n].dan=i[u].dan}for(a in m)m.hasOwnProperty(a)&&s.orders.push(m[a].matchid+":"+m[a].selects.join(".")+":"+m[a].dan);s.orders=s.orders.join("+");for(a in o)o.hasOwnProperty(a)&&s.selects.push(a);return s.selects=s.selects.join(","),s.multiple=r.getMultiple(),s.betnum=r.getCount(),s.money=2*s.betnum,s},combine:function(e,t,a){var n=[],r=0;if(a=a||[],0==t)return[a];for(;r<=e.length-t;r++)n=n.concat(arguments.callee(e.slice(r+1),t-1,a.slice(0).concat(e[r])));return n},combination:function(e){if(e.length<1)return[];var t,a,n,r=(e[0].length,e.length),i=[],o=[],s=[];for(i[t=r]=1;t--;)i[t]=i[t+1]*e[t].length;for(n=i[0],t=0;n>t;t++){for(s=[],a=0;r>a;a++)s[a]=e[a][~~(t%i[a]/i[a+1])];o[t]=s}return o}},o=e.Class(i,a);o.defConfig=r,e[t]=o}(bomao,"SportsGame",bomao.Event),function(e,t,a){var n={},r={init:function(e){var t=this;t._areas={},t._methods={}},getDeskTopDom:function(){return this._deskTop||(this._deskTop=$("#J-desktop"))},addArea:function(t){var a=this,n=new e.TableGame.Area(t),r=new e.TableGame.Chips;r.addEvent("delLastChip_after",function(e,t){n.fireEvent("cancelLastChip",t)}),n.chips=r,a._areas[t.name_en]=n},initDeskTop:function(e){var t,a=this,n=[];$.each(e,function(e){t=this,n.push('<div data-action="addchip" data-name="'+t.name_en+'" style="width:'+t.width+"px;height:"+t.height+"px;left:"+t.left+"px;top:"+t.top+"px;background-position:"+t.bgPosition[0]+"px "+t.bgPosition[1]+'px" class="area area-'+t.name_en+'"></div>'),a.addArea(t)}),$(n.join("")).appendTo(a.getDeskTopDom())},editSubmitData:function(e){var t=e.balls;return e.balls=encrypt(JSON.stringify(t)),e.is_encoded=1,e},getSubmitData:function(){var e=this,t=e.getAreas(),a=(t.length,0),n=1,r="",i="",i=0,o=1,s=0,l={},u=(e.getGameMethods(),{});e._methods=e.getGameMethods(),l.gameId=e.getConfig("gameId"),l.isTrace=0,l.traceWinStop=0,l.traceStopValue=0,l.balls=[],$.each(t,function(){var t=this,c=t.getChipsCase(),d=0,m=0;c.length>0&&($.each(c,function(){d+=this.getMoney()}),o=10*d*10/2,u=e.getWayIdAndBall(t),m=u.wayId,i=u.ball,l.balls.push({wayId:m,type:r,ball:i,num:n,onePrice:2,moneyunit:.01,multiple:o,prize_group:s}),a+=10*d*10)}),l.orders={},l.orders[e.getCurrNumber()]=1,l.amount=a,l._token=e.getConfig("_token");var c={balls:l.balls,isFinish:!0,issue:e.getCurrNumber()},d=$.extend({},c);return e.setLastBetInfo(d),l},submit:function(){var e=this,t=e.getSubmitData(),a=e.getConfig("submitUrl");$.ajax({url:a,dataType:"JSON",method:"POST",data:e.editSubmitData(t),beforeSend:function(){e.fireEvent("submit_before",t)},success:function(t){1==Number(t.isSuccess)?e.fireEvent("success_after",t):alert(t.Msg)}})},getGameMethods:function(){var e,t,a,n=this,r={},i={},o=n.getConfig("gameMethods");return $.each(o,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],r[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),r[""+t.id]=t,t.children&&$.each(t.children,function(){a=this,a.fullname_en=t.fullname_en.concat(a.name_en),a.fullname_cn=t.fullname_cn.concat(a.name_cn),i[""+a.id]=a})})}),i},getWayIdAndBall:function(e){var t=this,a=e.getName(),n=0,r=0;switch(a){case"da":methodName="paishuda",r=3;break;case"xiao":methodName="paishuxiao",r=4;break;case"zhuang":methodName="xianzhuangdaxiao",r=1;break;case"xian":methodName="xianzhuangdaxiao",r=0;break;case"he":methodName="xianzhuanghe",r=2;break;case"xiandui":methodName="duizi",r=5;break;case"zhuangdui":methodName="duizi",r=6;break;case"xianlongbao":methodName="xianzhuanglongbao",r=8;break;case"zhuanglongbao":methodName="xianzhuanglongbao",r=9;break;case"super":methodName="super6",r=7}return $.each(t._methods,function(){var e=this;e.name_en==methodName&&(n=e.id)}),{wayId:n,ball:r}}},i=e.Class(r,t);i.defConfig=n,t.Bjl=i}(bomao,bomao.TableGame),function(e,t,a,n){var r={},i={init:function(e){var t=this,n=e.containerName,r=parseInt(e.value);t.dom='<div class="poker-container" name="'+n+'"><div class="card"><div class="poker poker-'+r+'"></div><div class="poker back"></div></div></div>',a(t.dom).insertBefore(a(e.sibling))}},o=e.Class(i,t);o.defConfig=r,e.TableGame.BjlPoker=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={},i={init:function(){var e=this;e.pokers=[],e.values={twoXianSum:0,threeXianSum:0,twoZhuangSum:0,threeZhuangSum:0}},cachePokers:function(){},setValues:function(e){var t=this,a=e.split("|"),n=a[1],r=a[0],i=n.split(" "),o=r.split(" "),s=0,l=0,u=0,c=0,d=0,m=0;"undefined"!=typeof o[0]&&(c=t.getRealValue(o[0])),"undefined"!=typeof o[1]&&(d=t.getRealValue(o[1])),"undefined"!=typeof o[2]&&(m=t.getRealValue(o[2])),"undefined"!=typeof i[0]&&(s=t.getRealValue(i[0])),"undefined"!=typeof i[1]&&(l=t.getRealValue(i[1])),"undefined"!=typeof i[2]&&(u=t.getRealValue(i[2])),t.values.twoXianSum=t.getSum(c,d),t.values.threeXianSum=t.getSum(t.values.twoXianSum,m),t.values.twoZhuangSum=t.getSum(s,l),t.values.threeZhuangSum=t.getSum(t.values.twoZhuangSum,u)},getRealValue:function(e){var e=Number(e);return e%=13,e>9&&(e=0),e},getSum:function(e,t){var a=this,n=0,e=a.getRealValue(e),t=a.getRealValue(t);return n=e+t,n>=10&&(n-=10),n},initPokers:function(e){var t,a,n,r,i,o,s=this,l=bomao.TableGame.BjlPoker,u=e.split("|"),c=u[1],d=u[0],m=c.split(" "),h=d.split(" ");s.pokers=[],"undefined"!=typeof h[2]&&(o=new l({containerName:"poker-container-xian-3",value:h[2],sibling:".poker-sender-cover"}),s.pokers.push(o)),"undefined"!=typeof m[2]&&(n=new l({containerName:"poker-container-zhuang-3",value:m[2],sibling:".poker-sender-cover"}),s.pokers.push(n)),"undefined"!=typeof h[1]&&(i=new l({containerName:"poker-container-xian-2",value:h[1],sibling:".poker-sender-cover"}),s.pokers.push(i)),"undefined"!=typeof m[1]&&(a=new l({containerName:"poker-container-zhuang-2",value:m[1],sibling:".poker-sender-cover"}),s.pokers.push(a)),"undefined"!=typeof h[0]&&(r=new l({containerName:"poker-container-xian-1",value:h[0],sibling:".poker-sender-cover"}),s.pokers.push(r)),"undefined"!=typeof m[0]&&(t=new l({containerName:"poker-container-zhuang-1",value:m[0],sibling:".poker-sender-cover"}),s.pokers.push(t))},sendPokers:function(){var e=this;setTimeout(function(){a("[name=poker-container-xian-1]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-xian-1]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-xian-1]").toggleClass("poker-container-xian-1")},1e3)},0),setTimeout(function(){a("[name=poker-container-zhuang-1]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-zhuang-1]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-zhuang-1]").toggleClass("poker-container-zhuang-1")},1e3)},1500),setTimeout(function(){a("[name=poker-container-xian-2]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-xian-2]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-xian-2]").toggleClass("poker-container-xian-2")},1e3)},3e3),setTimeout(function(){a(".xian-value").html(e.values.twoXianSum),a(".xian-value").show()},4500),setTimeout(function(){a("[name=poker-container-zhuang-2]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-zhuang-2]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-zhuang-2]").toggleClass("poker-container-zhuang-2")},1e3)},4500),setTimeout(function(){a(".zhuang-value").html(e.values.twoZhuangSum),a(".zhuang-value").show()},6e3),setTimeout(function(){a("[name=poker-container-xian-3]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-xian-3]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-xian-3]").toggleClass("poker-container-xian-3")},1e3)},6e3),setTimeout(function(){a(".xian-value").html(e.values.threeXianSum)},7500),setTimeout(function(){a("[name=poker-container-zhuang-3]").toggleClass("poker-container").toggleClass("poker-station"),setTimeout(function(){a("[name=poker-container-zhuang-3]").find(".card").toggleClass("filpped")},500),setTimeout(function(){a("[name=poker-container-zhuang-3]").toggleClass("poker-container-zhuang-3")},1e3)},7500),setTimeout(function(){a(".zhuang-value").html(e.values.threeZhuangSum)},9e3)},collectPokers:function(){a.each(a(".poker-station"),function(){a(this).hasClass("poker-container-left")||a(this).addClass("poker-container-left").removeAttr("name").find(".card").removeClass("filpped")}),a(".poker-container-left").each(function(e){1!=e&&a(this).remove()}),a(".xian-value").hide(),a(".zhuang-value").hide()}},o=e.Class(i,t);o.defConfig=r,e.TableGame.BjlPokerManager=o}(bomao,bomao.Event,jQuery),function(e,t,a,n){var r={mainContainer:".betTrand"},i={init:function(e){var t=this;t.paneIndex=1,t.currentRow=0,t.currentColumn=0,t.rows=6,t.columns=30,t.cfg=e,t.initContainer(t.cfg.mainContainer,t.paneIndex,t.rows,t.columns)},initTrend:function(e){var t=this;a.each(e,function(){t.addItem(this)})},initContainer:function(e,t,n,r){for(var i="<div class='pane' index='"+t+"'>",o=0;r>o;o++){for(var s="<div class='column'>",l=0;n>l;l++)s+="<div class='item item-blank'></div>";s+="</div>",i+=s}i+="</div>",a(e).append(i)},addItem:function(e){var t=this,n=t.currentColumn+1,r=t.currentRow+1,i=e.zhuangxianhe,o=e.xiandui,s=e.zhuangdui,l=t.cfg.mainContainer,u="item";switch(i){case 0:u+="-xian";break;case 1:u+="-zhuang";break;case 2:u+="-he"}1==s?u+="-zhuangdui":"",1==o?u+="-xiandui":"",a(l).find(".pane").last().find(".column:nth-child("+n+")").find(".item:nth-child("+r+")").removeClass("item-blank").addClass(u),t.currentRow>=t.rows-1?(t.currentRow=0,t.currentColumn>=t.columns-1?(t.currentColumn=0,t.paneIndex++,a(".pane").hide(),t.initContainer(".betTrand",t.paneIndex,t.rows,t.columns)):t.currentColumn++):t.currentRow++}},o=e.Class(i,t);o.defConfig=r,e.TableGame.BjlHistory=o}(bomao,bomao.Event,jQuery);