!function(e,a,t){var n=[{id:1,name_en:"xianlongbao",name_cn:"闲龙宝",bet_max:1e4,prize_odds:1,width:177,height:91,left:294,top:270,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"da",name_cn:"大",bet_max:1e4,prize_odds:.5,width:196,height:102,left:254,top:346,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"zhuangdui",name_cn:"庄对",bet_max:1e4,prize_odds:11,width:263,height:93,left:866,top:210,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"zhuang",name_cn:"庄",bet_max:1e4,prize_odds:1,width:309,height:181,left:869,top:290,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"xiandui",name_cn:"闲对",bet_max:1e4,prize_odds:11,width:263,height:93,left:487,top:210,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"xian",name_cn:"闲",bet_max:1e4,prize_odds:1,width:309,height:181,left:436,top:290,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"zhuanglongbao",name_cn:"庄龙宝",bet_max:1e4,prize_odds:1,width:177,height:91,left:1143,top:270,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"xiao",name_cn:"小",bet_max:1e4,prize_odds:1.5,width:196,height:102,left:1166,top:346,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"super",name_cn:"超级6",bet_max:1e4,prize_odds:12,width:109,height:70,left:756,top:231,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"he",name_cn:"和",bet_max:1e4,prize_odds:8,width:125,height:162,left:747,top:310,bgPosition:[0,0],oddsPos:[68,83]}],i=[{name:"chipToPlayer",url:"/assets/images/game/table/dice/chipToPlayer.mp3"},{name:"chipToTable",url:"/assets/images/game/table/dice/chipToTable.mp3"},{name:"timeoutTips",url:"/assets/images/game/table/dice/timeoutTips.mp3"}],o=new bomao.TableGame.Bjl;o.initDeskTop(n),o.setConfig(global_game_config),o.getRealTimeGameInfo();var s=new bomao.TableGame.BjlPokerManager,r=new bomao.TableGame.BjlHistory,u=o.getConfig("trendGraphUrl");a.ajax({url:u,dataType:"JSON",cache:!1,method:"GET",success:function(e){r.initTrend(e)}});var l=new bomao.WebSocket({WEB_SOCKET_SWF_LOCATION:"WebSocketMain.swf",WEB_SOCKET_DEBUG:!0,WEB_SOCKET_SERVER:WEB_SOCKET_SERVER}),m=o.getConfig("gameId");l.addEvent("open_after",function(){this.status="connected",l.send('{"head":"login","cid":"'+userId+'"}'),l.send('{"head":"subscribe","type":"S","pid":"/bets/bet/'+m+'"}'),l.send('{"head":"subscribe","type":"B"}')}),l.addEvent("cantConnect_after",function(){this.status="disconnected"}),l.addEvent("getMessage_after",function(e,a){var t=a.type,n=a.status;if(a.lottery_id==m)switch(t){case"L":break;case"B":var n=parseInt(a.status),i=a.leftTime,c=(a.currNumber,parseInt(a.bet_count),a.currNumber,a.bet_prize,a.win_number),u=[],l=a.win_amount,p=a.currentTrend;if(c&&(u=c.split(" ")),4==n)return h.cancelAll(),h.showNotice("notice-bg.png","本奖期取消，系统已撤单<br/>"+i+"秒后，进入新奖期!"),void setTimeout(function(){o.getRealTimeGameInfo()},1e3);var d,b=a.bet_prize,g=[],f=[],T=[],v=[],y="";for(var _ in b)if(b.hasOwnProperty(_)){d=b[_];for(var w in d)if(d.hasOwnProperty(w)){switch(w){case"0":y="xian";break;case"1":y="zhuang";break;case"2":y="he";break;case"3":y="da";break;case"4":y="xiao";break;case"5":y="xiandui";break;case"6":y="zhuangdui";break;case"7":y="super";break;case"8":y="xianlongbao";break;case"9":y="zhuanglongbao"}var C=d[w].is_win,N=d[w].bet_amount,x=d[w].win_amount;g.push({name_en:y,is_win:C,bet_amount:N,win_amount:x})}}for(var S=0;S<g.length;S++)1==g[S].is_win&&(f.push(g[S]),g[S].bet_amount&&0!=g[S].bet_amount&&T.push(g[S])),!g[S].is_win&&g[S].bet_amount&&v.push(g[S]);if(0==window.betFlag){h.hideNotice(),s.initPokers(c),s.setValues(c),s.sendPokers();var I=s.pokers.length;switch(duration=0,I){case 4:duration=9e3;break;case 5:duration=12e3;break;case 6:duration=15e3}setTimeout(function(){h.areaShine(f)},duration),setTimeout(function(){h.areaStopShine(f),h.areaHight(f),r.addItem(p)},18e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(f),o.getRealTimeGameInfo()},21e3)}window.betFlag=0;break;case"S":var n=parseInt(a.status),i=a.leftTime,c=(a.currNumber,parseInt(a.bet_count),a.currNumber,a.bet_prize,a.win_number),u=[],A=Math.floor(a.balance),l=a.win_amount,p=a.currentTrend;k.initUserBalance(A),c&&(u=c.split(" "));var d,b=a.bet_prize,g=[],f=[],T=[],v=[],y="";for(var _ in b)if(b.hasOwnProperty(_)){d=b[_];for(var w in d)if(d.hasOwnProperty(w)){switch(w){case"0":y="xian";break;case"1":y="zhuang";break;case"2":y="he";break;case"3":y="da";break;case"4":y="xiao";break;case"5":y="xiandui";break;case"6":y="zhuangdui";break;case"7":y="super";break;case"8":y="xianlongbao";break;case"9":y="zhuanglongbao"}var C=d[w].is_win,N=d[w].bet_amount,x=d[w].win_amount;g.push({name_en:y,is_win:C,bet_amount:N,win_amount:x})}}for(var S=0;S<g.length;S++)1==g[S].is_win&&(f.push(g[S]),g[S].bet_amount&&0!=g[S].bet_amount&&T.push(g[S])),!g[S].is_win&&g[S].bet_amount&&v.push(g[S]);h.hideNotice(),s.initPokers(c),s.setValues(c),s.sendPokers();var I=s.pokers.length;switch(duration=0,I){case 4:duration=9e3;break;case 5:duration=12e3;break;case 6:duration=15e3}setTimeout(function(){h.areaShine(f)},duration),setTimeout(function(){h.areaStopShine(f),h.areaHight(f),r.addItem(p),h.bankerWin(v),setTimeout(function(){h.playerWin(T,u,a),l>0?h.bonusAnimate(l,A):k.initUserBalance(A),h.rebetOrDouble()},1e3)},18e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(f),o.getRealTimeGameInfo()},21e3)}}),l.connect();!function(){var t=function(e,a){{var t=this,n=h.deskTop.find('[data-name="'+t.getName()+'"]'),i=h.makeChipDom(a),s=0,r=0;t.getChipsNum()}s=-3*(t.getChipsNum()-1),o.update();var c=t.getResult().money;10>c?r=18:c>=10&&100>c?r=15:c>=100&&1e3>c?r=12:c>=1e3&&1e4>c?r=9:c>=1e4&&1e5>c?r=6:c>=1e6&&(r=3),i.appendTo(n),i.css({left:n.width()/2-i.width()/2,top:n.height()/2-i.height()/2+s}),a=t.getLastChip(),!a},n=function(e,a){};a.each(o.getAreas(),function(){var e=this;e.addEvent("addchip_after",t),e.addEvent("compensateChip_after",n)}),o.addEvent("update_after",function(){var t=this,n=t.getResult(),i=n.money;a("#J-money-bet").text(e.util.formatMoney(i))}),o.addEvent("cancelAll_after",function(e,a){k.setUserBalance(a)}),o.addEvent("getRealTimeGameInfo_after",function(e,t){var n,i=this,c=parseInt(t.status),u=t.leftTime,m=t.currNumber,p=parseInt(t.bet_count),d=t.currNumber,b=(t.bet_prize,2e3),g=t.win_number,f=[],T=Math.floor(t.balance),v=t.win_amount,y=d,_=t.currentTrend;if(k.initUserBalance(T),window.betFlag=p>0?1:0,g&&(f=g.split(" ")),i.setCurrNumber(m),y=y.substr(y.length-4),a("#J-current-number").text(y),1==c&&(h.clockTimeStart(u),h.unlockTable(),h.hideNotice(),0!=p)){var w=o.getResult().money;0==w&&(h.restoreChips(global_last_bet_history),h.lockTable()),h.showNotice("betted.png")}if(2==c){var w=o.getResult().money;0!=p&&0==w&&h.restoreChips(global_last_bet_history),h.lockTable(),h.showNotice("coming.png"),"disconnected"==l.status&&(n=setTimeout(function(){o.getRealTimeGameInfo()},b))}if(3==c)if(h.lockTable(),5>=u)0!=p?0==v?h.showNotice("lose.png"):h.showWinNotice("youwin.png","恭喜您中了"+h.formatMoneyCN(v)+"!"):h.showNotice("notice-bg.png",u+"秒后，进入新奖期"),setTimeout(function(){i.getRealTimeGameInfo()},1e3);else{var C,N=t.bet_prize,x=[],S=[],I=[],A=[],P="";for(var z in N)if(N.hasOwnProperty(z)){C=N[z];for(var G in C)if(C.hasOwnProperty(G)){switch(G){case"0":P="xian";break;case"1":P="zhuang";break;case"2":P="he";break;case"3":P="da";break;case"4":P="xiao";break;case"5":P="xiandui";break;case"6":P="zhuangdui";break;case"7":P="super";break;case"8":P="xianlongbao";break;case"9":P="zhuanglongbao"}var B=C[G].is_win,J=C[G].bet_amount,M=C[G].win_amount;x.push({name_en:P,is_win:B,bet_amount:J,win_amount:M})}}for(var R=0;R<x.length;R++)1==x[R].is_win&&(S.push(x[R]),x[R].bet_amount&&0!=x[R].bet_amount&&I.push(x[R])),!x[R].is_win&&x[R].bet_amount&&A.push(x[R]);if(0!=p){var w=o.getResult().money;if(0==w)switch(u){case 26:case 25:case 24:case 23:case 22:h.restoreChips(global_last_bet_history),s.initPokers(g),s.setValues(g),s.sendPokers();var E=s.pokers.length;switch(duration=0,E){case 4:duration=9e3;break;case 5:duration=12e3;break;case 6:duration=15e3}setTimeout(function(){h.areaShine(S)},duration),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),h.bankerWin(A),setTimeout(function(){h.playerWin(I,f,t),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble()},1e3)},18e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},21e3);break;case 21:case 20:case 19:case 18:case 17:h.restoreChips(global_last_bet_history),h.areaShine(S),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),h.bankerWin(A),setTimeout(function(){h.playerWin(I,f,t),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble()},1e3)},12e3),setTimeout(function(){h.areaClearShine(S),o.getRealTimeGameInfo()},16e3);break;case 16:case 15:case 14:case 13:case 12:h.restoreChips(global_last_bet_history),h.areaHight(S),setTimeout(function(){h.bankerWin(A),setTimeout(function(){h.playerWin(I,f,t),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble()},1e3)},8e3),setTimeout(function(){h.areaClearShine(S),o.getRealTimeGameInfo()},11e3);break;case 11:case 10:case 9:case 8:case 7:h.restoreChips(global_last_bet_history),h.areaHight(S),setTimeout(function(){h.bankerWin(A),setTimeout(function(){h.playerWin(I,f,t),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble()},1e3)},3e3),setTimeout(function(){h.areaClearShine(S),o.getRealTimeGameInfo()},6e3);break;case 6:h.areaHight(S),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble(),setTimeout(function(){h.areaClearShine(S),o.getRealTimeGameInfo()},2e3);break;case 5:case 4:case 3:case 2:case 1:o.getRealTimeGameInfo()}else{h.hideNotice(),s.initPokers(g),s.setValues(g),s.sendPokers();var E=s.pokers.length;switch(duration=0,E){case 4:duration=9e3;break;case 5:duration=12e3;break;case 6:duration=15e3}setTimeout(function(){h.areaShine(S)},duration),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),r.addItem(_),h.bankerWin(A),setTimeout(function(){h.playerWin(I,f,t),v>0?h.bonusAnimate(v,T):k.initUserBalance(T),h.rebetOrDouble()},1e3)},18e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},21e3)}}if(0==p)switch(u){case 26:case 25:case 24:case 23:case 22:h.hideNotice(),s.initPokers(g),s.setValues(g),s.sendPokers();var E=s.pokers.length;switch(duration=0,E){case 4:duration=9e3;break;case 5:duration=12e3;break;case 6:duration=15e3}setTimeout(function(){h.areaShine(S)},duration),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),r.addItem(_)},18e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},21e3);break;case 21:case 20:case 19:case 18:case 17:h.hideNotice(),h.areaShine(S),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),r.addItem(_)},13e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},16e3);break;case 16:case 15:case 14:case 13:case 12:h.hideNotice(),h.areaShine(S),setTimeout(function(){h.areaStopShine(S),h.areaHight(S),r.addItem(_)},8e3),setTimeout(function(){s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},11e3);break;case 11:case 10:case 9:case 8:case 7:h.areaHight(S),setTimeout(function(){r.addItem(_),h.areaClearShine(S),o.getRealTimeGameInfo()},6e3);break;case 6:h.areaHight(S),setTimeout(function(){r.addItem(_),s.collectPokers(),h.areaClearShine(S),o.getRealTimeGameInfo()},2e3);break;case 5:case 4:case 3:case 2:case 1:o.getRealTimeGameInfo()}}4==c&&(h.cancelAll(),h.showNotice("notice-bg.png","本奖期取消，系统已撤单<br/>"+u+"秒后，进入新奖期!"),setTimeout(function(){o.getRealTimeGameInfo()},1e3))}),o.addEvent("cancelAll_before",function(){var e=this,t=e.getAllChips();a.each(t,function(){h.cancelChipAnimate(this)})}),o.addEvent("playerGet_after",function(e,t){t.length>=120&&(t=t.slice(0,120)),a.each(t,function(){h.playerGetChipAnimate(this)})}),o.addEvent("submit_before",function(){}),o.addEvent("success_after",function(e,a){window.betFlag=1,h.showNotice("betted.png"),h.lockTable()})}();var h={doc:a(document),body:a(document.body),deskTop:a("#J-desktop"),chipsBar:a("#J-chip-group-cont"),mask:a("#J-table-mask-lock"),rightMenu:new e.TableGame.ContextMenu,tableMenu:new e.TableGame.ContextMenu,notice:a("#J-panel-notice"),noticeContent:a("#J-panel-notice .notice-content"),winNotice:a("#J-win-notice"),winNoticeContent:a("#J-win-notice .win-notice-content"),resultNotice:a("#J-panel-result"),playMethod:a("#J-panel-notice2"),clockNumbers:a("#J-clock-number .num"),sand:a(".table-game-sand"),init:function(){var e=this;e.timer_clock=null,e.initEvent()},initEvent:function(){var e=this,t=a("#J-desktop"),n=new bomao.Tip({cls:"j-ui-tip-t j-ui-tip-play-help"});moneyTip=new bomao.Tip({cls:"j-ui-tip-b j-ui-tip-money"}),hotColdTips=new bomao.Tip({cls:"j-ui-tip-l j-ui-tip-hot-cold"}),t.on("click",".area",function(t){var n=a(this),i=n.attr("data-action");i&&e.action(i,n)}),t.on("mouseover",".area",function(){var e,t,n,i,s=a(this),r=s.attr("data-name"),c=0;r&&(e=o.getArea(r),c=e.getChipsNum(),t=e.getResult().money,10>t?i=18:t>=10&&100>t?i=15:t>=100&&1e3>t?i=12:t>=1e3&&1e4>t?i=9:t>=1e4&&1e5>t?i=6:t>=1e6&&(i=3),chip=e.getLastChip(),chip&&(n=a('[data-id="'+chip.id+'"]'),moneyTip.setText(t),moneyTip.show(i,-30,n)))}).on("mouseout",".area",function(){moneyTip.hide()}),t.on("mouseenter",".help",function(e){var t=a(this),i=t.attr("helpText");n.setText(i),n.show(-210,25,t)}),t.on("mouseout",".help",function(e){n.hide()}),a("#J-button-clearall").click(function(){e.cancelAll()}),e.rightMenu.addItem({title:"撤销",action:"area-cancel"}),e.rightMenu.addItem({title:"清空",action:"area-clear"}),e.rightMenu.addItem({title:"翻倍x2",action:"area-x2"}),e.rightMenu.addItem({title:"ALL IN",action:"area-allin"}),e.deskTop.on("contextmenu",'[data-action="addchip"]',function(t){{var n=a(this),i=n.attr("data-name");o.getArea(i)}e.rightMenu.setData({areaname:i}),e.rightMenu.show(t.clientX,t.clientY),t.stopPropagation(),t.preventDefault()}),e.rightMenu.addEvent("click",function(e,a,t){var n=this;switch(a){case"area-cancel":h.action("areacancel",n.getData());break;case"area-clear":h.action("areaclear",n.getData());break;case"area-x2":h.action("areax2",n.getData());break;case"area-allin":h.action("areaallin",n.getData())}n.hide()}),e.deskTop.on("contextmenu",function(e){e.preventDefault()}),a("#J-button-submit").click(function(){0==!o.getResult().money?o.submit():(h.showNotice("unbet.png"),setTimeout(function(){h.hideNotice()},1e3))}),a("#J-button-rebet").click(function(){var e,a,t=o.getLastBetInfo()?o.getLastBetInfo():global_last_bet_history,n=t.balls,i=0,s=[],r=0;if(r=o.getResult().money,t.isFinish){for(;i<n.length;i++){switch(a=f.moneyToChips(2*n[i].multiple/100),parseInt(n[i].ball)){case 0:areaname="xian";break;case 1:areaname="zhuang";break;case 2:areaname="he";break;case 3:areaname="da";break;case 4:areaname="xiao";break;case 5:areaname="xiandui";break;case 6:areaname="zhuangdui";break;case 7:areaname="super";break;case 8:areaname="xianlongbao";break;case 9:areaname="zhuanglongbao"}e=o.getArea(areaname),s.push({area:e,chips:a})}h.rebet(s)}else h.showNotice("notice-bg.png","未获得往期押注数据，不可重押！"),setTimeout(function(){h.hideNotice()},1e3)}),a("#J-button-double").click(function(){var e=o.getResult().money;return 2*e>k.getUserBalance()?void h.balanceNotice():void a.each(o.getAreas(),function(){var e=this;if(0!=e.getResult().money){var a={areaname:e.name};h.action_areax2(a)}})}),a("#hot-cold-txt").hover(function(){hotColdTips.setText("冷热号的统计期数<br/>点击可设置(5至200期)"),hotColdTips.show(40,-11,a(this))}).mouseout(function(){hotColdTips.hide()}).focus(function(){a(this).attr("placeholder","")}).blur(function(){a(this).attr("placeholder","30")}),a("#hot-cold-txt").on("input",function(){var e=/^[0-9]*[1-9][0-9]*$/,t=a(this).val();t.match(e)||a(this).val(""),parseInt(t)>200&&a(this).val("")}).on("change",function(){var e=a(this).val();parseInt(e)<5&&a(this).val("")}).on("mouseout",function(){var e=a(this).val();parseInt(e)<5&&a(this).val("")})},action:function(e,t){var n=this;a.isFunction(n["action_"+e])&&n["action_"+e](t)},action_addchip:function(e){var a=this,t=e.attr("data-name"),n=o.getArea(t),i=f.getSelectedChip(),s=k.getUserBalance();return i.getMoney()>s?void a.balanceNotice():(a.addChipAnimate(i,n),void k.setUserBalance(parseInt(0-i.getMoney())))},action_areacancel:function(e){var a=this,t=e.areaname,n=o.getArea(t),i=n.cancelChip();i&&(a.cancelChipAnimate(i),o.update(),k.setUserBalance(i.getMoney()))},action_areaclear:function(e){var t=this,n=e.areaname,i=o.getArea(n),s=i.getResult().money;chips=i.clearAll(),a.each(chips,function(){t.cancelChipAnimate(this)}),o.update(),k.setUserBalance(s)},action_areax2:function(e){var t=this,n=e.areaname,i=o.getArea(n),s=i.getChipsCase(),r=k.getUserBalance(),c=i.getResult().money;return 2*Number(c)>r?void t.balanceNotice():(k.setUserBalance(0-Number(c)),void a.each(s,function(){t.addChipAnimate(this,i)}))},action_areaallin:function(e){var t=this,n=e.areaname,i=o.getArea(n),s=f.getMinChip(),r=k.getUserBalance(),c=f.moneyToChips(r),u=0;return r<s.getMoney()?void t.balanceNotice():(k.setUserBalance(0-r),void a.each(c,function(){for(u=0;u<this.num;u++)t.addChipAnimate(f.getChip(this.money),i)}))},rebet:function(e){for(var t,t,n,i=this,o=(k.getUserBalance(),0),s=0;s<e.length;s++){t=e[s].area,n=e[s].chips;for(var r=0;r<n.length;r++)o+=n[r].money*n[r].num}if(o>global_balance)return void i.balanceNotice();for(var s=0;s<e.length;s++)t=e[s].area,n=e[s].chips,a.each(n,function(){var e=this;c=f.getChip(e.money);for(var a=0;a<e.num;a++)i.addChipAnimate(c,t)});k.setUserBalance(0-o)},resetChips:function(e){for(var t,t,n,i=this,o=(k.getUserBalance(),0);o<e.length;o++)t=e[o].area,n=e[o].chips,a.each(n,function(){var e=this;c=f.getChip(e.money);for(var a=0;a<e.num;a++)i.addChipAnimate(c,t)})},restoreChips:function(e){for(var a=this,t=e.balls||[],n=[],i=0;i<t.length;i++){switch(chips=f.moneyToChips(2*t[i].multiple/100),parseInt(t[i].ball)){case 0:areaname="xian";break;case 1:areaname="zhuang";break;case 2:areaname="he";break;case 3:areaname="da";break;case 4:areaname="xiao";break;case 5:areaname="xiandui";break;case 6:areaname="zhuangdui";break;case 7:areaname="super";break;case 8:areaname="xianlongbao";break;case 9:areaname="zhuanglongbao"}area=o.getArea(areaname),n.push({area:area,chips:chips})}a.resetChips(n)},copyChip:function(e){var t=this,n=a('<i data-money="'+e+'" class="chip move-chip chip-'+t.getMoneyForClass(e)+'" ></i>');return n},makeChipDom:function(e,t){var n=this,i='<i style="top:'+e.marginTop+'px" id="J-chip-'+e.getId()+'" data-id="'+e.getId()+'" data-money="'+e.getMoney()+'" class="chip move-chip chip-'+n.getMoneyForClass(e.getMoney())+'" ></i>';return t?i:a(i)},getMoneyForClass:function(e){return(""+e).replace(".","-")},cancelAll:function(){o.cancelAll()},playerGet:function(){o.playerGet()},bankerAddChipAnimate:function(t,n,i){var o=this,s=a(".banker"),r=s.offset(),c=a("#J-desktop").find('[data-name="'+i.getName()+'"]'),u=c.offset(),l=new e.TableGame.Chip({money:n.getMoney()}),m=o.makeChipDom(l),h=i.getChipsNum(),p=0,d=0;i.compensateChip(l),120>h&&(p=-3*(t-1),d=-3*(h-1),m.appendTo(o.body),m.css({left:r.left+s.width()/2,top:r.top+s.height()/2}),m.animate({left:u.left+c.width()/2-m.width()/2+2,top:u.top+c.height()/2-m.height()/2+1+d},1e3,function(){}))},bankerAddChipAnimateToPlayer:function(t,n){var i=this,o=a(".banker"),s=o.offset(),r=a(".money-bet"),c=r.offset(),u=new e.TableGame.Chip({money:n}),l=i.makeChipDom(u),m=0,h=0;m=0,h=40*t,l.appendTo(i.body),l.css({left:s.left+o.width()/2,top:s.top+o.height()/2}),l.animate({left:c.left+r.width()/2-l.width()/2+2,top:c.top+r.height()/2-l.height()/2+1-h},1500,function(){l.remove()})},bankerGetChipAnimate:function(e,t){var n=this,i=e.getId(),o=(e.getMoney(),a("#J-chip-"+i)),s=a(".banker"),r=o.offset(),c=s.offset(),u=n.makeChipDom(e);o.remove(),u.css({left:r.left,top:r.top}),u.appendTo(n.body),u.animate({left:c.left+u.width()/2,top:c.top+u.height()/2},1e3,function(){u.remove(),t&&t.call(n)})},playerGetChipAnimate:function(e,t){var n=this,i=e.getId(),o=e.getMoney(),s=a("#J-chip-"+i),r=h.chipsBar.find('[data-money="'+o+'"]'),c=s.offset(),u=r.offset(),l=n.makeChipDom(e);s.remove(),l.css({left:c.left,top:c.top}),l.appendTo(n.body),l.animate({left:u.left,top:u.top},1e3,function(){n.playAudio("chipToPlayer"),n.rebetOrDouble(),l.remove(),t&&t.call(n)})},addChipAnimate:function(t,n){var i=this,o=a("#J-chip-group-cont").find('[data-money="'+t.getMoney()+'"]'),s=o.offset(),r=a("#J-desktop").find('[data-name="'+n.getName()+'"]'),c=r.offset(),u=i.copyChip(t.getMoney()),l=new e.TableGame.Chip({money:t.getMoney()});u.appendTo(i.body),u.css({left:s.left,top:s.top}),u.animate({left:c.left+r.width()/2-u.width()/2+2,top:c.top+r.height()/2-u.height()/2+1},function(){i.playAudio("chipToTable"),n.addChip(l),i.rebetOrDouble(),u.remove()})},cancelChipAnimate:function(e,t){var n=this,i=e.getId(),o=e.getMoney(),s=a("#J-chip-"+i),r=h.chipsBar.find('[data-money="'+o+'"]'),c=s.offset(),u=r.offset(),l=n.makeChipDom(e);s.remove(),l.css({left:c.left,top:c.top}),l.appendTo(n.body),l.animate({left:u.left,top:u.top},function(){n.playAudio("chipToPlayer"),n.rebetOrDouble(),l.remove(),t&&t.call(n)})},lockTable:function(){var e=this;e.mask.show()},unlockTable:function(){var e=this;e.mask.hide()},showNotice:function(e,a){var t=this;t.notice.css("background","url(/assets/images/game/table/bjl/"+e+")").css("backgroundSize","contain"),t.noticeContent.html(a),t.notice.show()},hideNotice:function(){var e=this;e.noticeContent.html(""),e.notice.hide(),e.winNotice.hide()},showWinNotice:function(e,a){var t=this;t.winNotice.css("background","url(/assets/images/game/table/bjl/"+e+")").css("backgroundSize","contain"),t.winNoticeContent.html(a),t.winNotice.show()},hideWinNotice:function(){},showResultNotice:function(e){var a=this;a.resultNotice.html(e),a.resultNotice.show()},hideResultNotice:function(){var e=this;e.resultNotice.hide()},hideResult:function(){},clock:function(e){var a=this,t=(e-e%60)/60,n=e%60;t=10>t?"0"+t:t,n=10>n?"0"+n:n,10==e&&(a.playAudio("timeoutTips"),a.clockNumbers.addClass("num-red")),e>10&&a.clockNumbers.removeClass("num-red"),a.clockNumbers.text(e)},clockTimeStart:function(e){var a,t,n=this,i=new Date;clearInterval(n.timer_clock),n.timer_clock=setInterval(function(){t=new Date,a=e-Math.floor((t-i)/1e3),0>a?(clearInterval(n.timer_clock),o.getRealTimeGameInfo(),h.showNotice("coming.png"),h.lockTable()):n.clock(a)},1e3)},balanceNotice:function(){a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100),a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100),a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100)},areaShine:function(e){var t=this;t.lightTimer=setInterval(function(){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/bjl/"+this.name_en+"-hover.png)")}),t.darkTimer=setTimeout(function(){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/bjl/"+this.name_en+".png)")})},500)},1e3)},areaClearShine:function(e){a.each(e,function(){var e=this.name_en;a("[data-name="+e+"]").css("background-image","url(/assets/images/game/table/bjl/"+e+".png)").hover(function(t){a(this).css("background-image","mouseenter"===t.type?"url(/assets/images/game/table/bjl/"+e+"-hover.png)":"url(/assets/images/game/table/bjl/"+e+".png)")})})},areaHight:function(e){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/bjl/"+this.name_en+"-hover.png)")})},areaStopShine:function(e){var a=this;clearTimeout(a.lightTimer),clearTimeout(a.darkTimer)},bankerWin:function(e){for(var t,n=this,i=0;i<e.length;i++)t=o.getArea(e[i].name_en),a.each(t.getChipsCase(),function(){n.bankerGetChipAnimate(this,function(){})}),t.clearAll()},playerWin:function(e,t,n){for(var i,s=this,r=0;r<e.length;r++){var c=0;i=o.getArea(e[r].name_en),prize_odds=i.getOdds(),a.each(i.getChipsCase(),function(e){for(var a=1;a<prize_odds+1;a++)c=e*a,s.bankerAddChipAnimate(c,this,i)})}setTimeout(function(){s.playerGet()},1e3)},formatMoneyCN:function(e){var e=Number(e),a=/(-?\d+)(\d{3})/;for(e=""+e;a.test(e);)e=e.replace(a,"$1,$2");return e+"元"},rebetOrDouble:function(){var e=o.getResult().money;0==e?(a("#J-button-rebet").css("display","inline-block"),a("#J-button-double").css("display","none")):(a("#J-button-rebet").css("display","none"),a("#J-button-double").css("display","inline-block"))},bonusAnimate:function(e,t){a(".table-bar > .win-bonus-container > .win-bonus-txt").text(e),a(".table-bar > .win-bonus-container").css({display:"block"},{top:"-75px"}).animate({top:"-25px"},2e3,function(){a(this).css("display","none"),k.initUserBalance(t)}),h.hideNotice()},getClass:function(e){var a;switch(e){case 0:a="cold";break;case 1:a="warm";break;case 2:a="hot"}return a},playAudio:function(e){for(var t=0;t<i.length;t++)i[t].name==e&&(a("#dice-tips-audio").attr("src",i[t].url),document.getElementById("dice-tips-audio").play())},stopAudio:function(e){for(var t=0;t<i.length;t++)i[t].name==e&&a("#dice-tips-audio").attr("src")==i[t].url&&document.getElementById("dice-tips-audio").pause()}},p=o.getConfig("max_prize"),d=o.getConfig("cycle"),b=1,g="娱乐场";switch(parseInt(d)){case 45:b=1;break;case 60:b=2;break;case 75:b=3}switch(parseInt(p)){case 5:g="娱乐场";break;case 10:g="普通场";break;case 20:g="高级场"}a("#max-prize").text(p),a("#table-num").text(b),a("#table-name").text(g);var f=new e.TableGame.ChipsGroup;!function(){var t=[{money:1,marginTop:46},{money:2,marginTop:42},{money:5,marginTop:36},{money:10,marginTop:27},{money:50,marginTop:16},{money:100,marginTop:1},{money:1e3,marginTop:-14}];switch(p){case 5:t=[{money:1,marginTop:46},{money:2,marginTop:42},{money:5,marginTop:36},{money:10,marginTop:27},{money:50,marginTop:16},{money:100,marginTop:1},{money:1e3,marginTop:-14}];break;case 10:t=[{money:100,marginTop:46},{money:200,marginTop:42},{money:300,marginTop:36},{money:500,marginTop:27},{money:600,marginTop:16},{money:800,marginTop:1},{money:1e3,marginTop:-14}];break;case 20:t=[{money:1e3,marginTop:46},{money:2e3,marginTop:42},{money:3e3,marginTop:36},{money:5e3,marginTop:27},{money:6e3,marginTop:16},{money:8e3,marginTop:1},{money:1e4,marginTop:-14}]}var n=[],i=a("#J-chip-group-cont"),o=[],s="active";a.each(t,function(){var t=this;value=Number(t.money),o=Number(t.marginTop),chip=new e.TableGame.Chip({money:value,marginTop:o}),chipDom=h.makeChipDom(chip,!0),n.push(chipDom),chip.addEvent("setStatus_after",function(e,t){var n=a("#J-chip-"+this.getId()),i=this.getMoney();t?(n.unbind(),n.bind("mousedown",function(){f.select(i)})):(n.unbind(),n.bind("mousedown",function(){h.balanceNotice()}))}),f.addChip(chip)}),i.html(n.join("")),f.addEvent("change_after",function(e,t){a("#J-chip-group-cont .chip").removeClass("active").css({marginTop:0}),i.find('[data-money="'+t.getMoney()+'"]').addClass(s).animate({marginTop:-20},150)}),f.select(t[0].money)}();var k=new e.TableGame.UserBalance;!function(){k.addEvent("setUserBalance_after",function(t,n){a(".J-text-money-value").text(e.util.formatMoney(n)),f.setChipsStatus(n)})}(),k.setUserBalance(parseFloat(global_balance)),h.init();var T=function(e){return"loginTimeout"==e.type?!1:!0};!function(){var e=a("#J-balls-statistics-balance, #J-user-amount-num, #J-top-user-balance"),t=0,n=function(a){a!=t&&(e.text(bomao.util.formatMoney(a)),t=a)},i=new bomao.Alive({url:o.getConfig("pollUserAccountUrl"),cache:!1,dataType:"json",method:"get",looptime:1e4});i.getParams=function(){return{params:[{type:"account"}]}},i.addEvent("afterSuccess",function(e,t){{var i=this;i.defConfig}if(T(t)&&1==Number(t.isSuccess)){var o,s,r=t.data;a.each(r,function(){switch(this.type){case"account":o=this.data,a.each(o,function(){switch(s=this,s.type){case"balance":n(Number(s.data));break;case"recharge":break;case"withdrawals":}})}})}}),i.start()}()}(bomao,jQuery);