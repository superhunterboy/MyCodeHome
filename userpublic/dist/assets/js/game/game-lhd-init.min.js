!function(e,a,n){var t=[{id:1,name_en:"long-dan",name_cn:"龙单",bet_max:1e4,prize_odds:.75,width:157,height:120,left:0,top:0,bgPosition:[0,0],oddsPos:[68,83]},{id:1,name_en:"long-shuang",name_cn:"龙双",bet_max:1e4,prize_odds:1.05,width:157,height:168,left:0,top:135,bgPosition:[0,-132],oddsPos:[68,83]},{id:1,name_en:"long",name_cn:"龙",bet_max:1e4,prize_odds:1,width:202,height:218,left:173,top:0,bgPosition:[-170,0],oddsPos:[75,163]},{id:1,name_en:"long-hong",name_cn:"龙红",bet_max:1e4,prize_odds:.9,width:94,height:104,left:173,top:232,bgPosition:[-170,-230],oddsPos:[28,62]},{id:1,name_en:"long-hei",name_cn:"龙黑",bet_max:1e4,prize_odds:.9,width:94,height:120,left:280,top:234,bgPosition:[-277,-232],oddsPos:[28,62]},{id:1,name_en:"he",name_cn:"和",bet_max:1e4,prize_odds:8,width:405,height:112,left:397,top:260,bgPosition:[-391,-257],oddsPos:[268,43]},{id:1,name_en:"hu-dan",name_cn:"虎单",bet_max:1e4,prize_odds:.75,width:157,height:120,right:0,top:0,bgPosition:[-1026,0],oddsPos:[51,83]},{id:1,name_en:"hu-shuang",name_cn:"虎双",bet_max:1e4,prize_odds:1.05,width:157,height:168,right:0,top:135,bgPosition:[-1026,-132],oddsPos:[51,83]},{id:1,name_en:"hu",name_cn:"虎",bet_max:1e4,prize_odds:1,width:202,height:218,right:173,top:0,bgPosition:[-810,0],oddsPos:[84,163]},{id:1,name_en:"hu-hong",name_cn:"虎红",bet_max:1e4,prize_odds:.9,width:94,height:104,right:173,top:235,bgPosition:[-918,-231],oddsPos:[27,62]},{id:1,name_en:"hu-hei",name_cn:"虎黑",bet_max:1e4,prize_odds:.9,width:94,height:120,right:279,top:235,bgPosition:[-812,-231],oddsPos:[27,62]}],o=[{name:"chipToPlayer",url:"/assets/images/game/table/dice/chipToPlayer.mp3"},{name:"chipToTable",url:"/assets/images/game/table/dice/chipToTable.mp3"},{name:"timeoutTips",url:"/assets/images/game/table/dice/timeoutTips.mp3"},{name:"diceRolling",url:"/assets/images/game/table/dice/diceRolling.mp3"}],i={"01":{honghei:"hong",danshuang:"dan",data:1},"02":{honghei:"hong",danshuang:"shuang",data:2},"03":{honghei:"hong",danshuang:"dan",data:3},"04":{honghei:"hong",danshuang:"shuang",data:4},"05":{honghei:"hong",danshuang:"dan",data:5},"06":{honghei:"hong",danshuang:"shuang",data:6},"07":{honghei:"hong",danshuang:"dan",data:7},"08":{honghei:"hong",danshuang:"shuang",data:8},"09":{honghei:"hong",danshuang:"dan",data:9},10:{honghei:"hong",danshuang:"shuang",data:10},11:{honghei:"hong",danshuang:"dan",data:11},12:{honghei:"hong",danshuang:"shuang",data:12},13:{honghei:"hong",danshuang:"dan",data:13},14:{honghei:"hong",danshuang:"dan",data:1},15:{honghei:"hong",danshuang:"shuang",data:2},16:{honghei:"hong",danshuang:"dan",data:3},17:{honghei:"hong",danshuang:"shuang",data:4},18:{honghei:"hong",danshuang:"dan",data:5},19:{honghei:"hong",danshuang:"shuang",data:6},20:{honghei:"hong",danshuang:"dan",data:7},21:{honghei:"hong",danshuang:"shuang",data:8},22:{honghei:"hong",danshuang:"dan",data:9},23:{honghei:"hong",danshuang:"shuang",data:10},24:{honghei:"hong",danshuang:"dan",data:11},25:{honghei:"hong",danshuang:"shuang",data:12},26:{honghei:"hong",danshuang:"dan",data:13},27:{honghei:"hei",danshuang:"dan",data:1},28:{honghei:"hei",danshuang:"shuang",data:2},29:{honghei:"hei",danshuang:"dan",data:3},30:{honghei:"hei",danshuang:"shuang",data:4},31:{honghei:"hei",danshuang:"dan",data:5},32:{honghei:"hei",danshuang:"shuang",data:6},33:{honghei:"hei",danshuang:"dan",data:7},34:{honghei:"hei",danshuang:"shuang",data:8},35:{honghei:"hei",danshuang:"dan",data:9},36:{honghei:"hei",danshuang:"shuang",data:10},37:{honghei:"hei",danshuang:"dan",data:11},38:{honghei:"hei",danshuang:"shuang",data:12},39:{honghei:"hei",danshuang:"dan",data:13},40:{honghei:"hei",danshuang:"dan",data:1},41:{honghei:"hei",danshuang:"shuang",data:2},42:{honghei:"hei",danshuang:"dan",data:3},43:{honghei:"hei",danshuang:"shuang",data:4},44:{honghei:"hei",danshuang:"dan",data:5},45:{honghei:"hei",danshuang:"shuang",data:6},46:{honghei:"hei",danshuang:"dan",data:7},47:{honghei:"hei",danshuang:"shuang",data:8},48:{honghei:"hei",danshuang:"dan",data:9},49:{honghei:"hei",danshuang:"shuang",data:10},50:{honghei:"hei",danshuang:"dan",data:11},51:{honghei:"hei",danshuang:"shuang",data:12},52:{honghei:"hei",danshuang:"dan",data:13}},s=new bomao.TableGame.Lhd;s.initDeskTop(t),s.setConfig(global_game_config),s.getRealTimeGameInfo();var r=s.getConfig("historyNumbers").reverse(),h=(new bomao.TableGame.LhdHistory({records:r,puker:i}),function(e){var a=Number(e),a=10>a?"0"+a:""+a;return i[a].data}),u=function(e,a){var e=""+Number(e),n={};for(var t in a.bet_prize)if(a.bet_prize.hasOwnProperty(t))for(var o in a.bet_prize[t])n[o]=a.bet_prize[t][o];return n[e]},l=function(e){if(!e.bet_prize)return e;if(!e.win_number)return e;var a=e.win_number.split(" ");if(h(a[0])!=h(a[1]))return e;for(var n in e.bet_prize)if(e.bet_prize.hasOwnProperty(n))for(var t in e.bet_prize[n])!e.bet_prize[n].hasOwnProperty(t)||"0"!=t&&"1"!=t||(e.bet_prize[n][t].is_win=0);return e};!function(){var e=function(e,a){{var n=this,t=m.deskTop.find('[data-name="'+n.getName()+'"]'),o=m.makeChipDom(a),i=0,r=0;n.getChipsNum()}i=-3*(n.getChipsNum()-1),s.update();var h=n.getResult().money;10>h?r=15:h>=10&&100>h?r=12:h>=100&&1e3>h?r=9:h>=1e3&&1e4>h?r=6:h>=1e4&&1e5>h?r=3:h>=1e6&&(r=0),o.appendTo(t),o.css({left:t.width()/2-o.width()/2,top:t.height()/2-o.height()/2+i}),a=n.getLastChip(),!a},n=function(e,a){};a.each(s.getAreas(),function(){var a=this;a.addEvent("addchip_after",e),a.addEvent("compensateChip_after",n)}),s.addEvent("update_after",function(){var e=this,n=e.getResult(),t=n.money;a("#J-money-bet").text(m.formatMoneyCN(t))}),s.addEvent("cancelAll_after",function(e,a){v.setUserBalance(a)}),s.addEvent("getRealTimeGameInfo_after",function(e,n){var t,o=this,n=l(n),r=parseInt(n.status),h=n.leftTime,c=n.currNumber,u=parseInt(n.bet_count),d=n.currNumber,g=(n.bet_prize,1e3),p=n.win_number,f=[],b=Math.floor(n.balance),y=n.win_amount,k=d;if(v.initUserBalance(b),p&&(f=p.split(" ")),o.setCurrNumber(c),k=k.substr(k.length-4),a("#J-current-number").text(k),1==r&&(m.clockTimeStart(h),m.unlockTable(),m.hideNotice(),T.coverPokers(),0!=u)){var _=s.getResult().money;0==_&&(m.restoreChips(global_last_bet_history),m.lockTable()),m.showNotice("买定离手，等待开奖...")}if(2==r){var _=s.getResult().money;0!=u&&0==_&&m.restoreChips(global_last_bet_history),m.lockTable(),m.showNotice("即将开奖，祝您好运!"),t=setTimeout(function(){s.getRealTimeGameInfo()},g)}if(3==r)if(m.lockTable(),5>=h)m.showNotice(0!=u?0==y?"加油，祝您下次好运!</br>"+h+"秒后，进入新奖期":"<font style='font-size:14px'>恭喜您中了<br/><font class='win-prize-in-tips' style='color:#F7CD1F;font-size:32px'>"+m.formatMoneyCN(y)+"!</font></br>"+h+"秒后，进入新奖期":h+"秒后，进入新奖期"),setTimeout(function(){o.getRealTimeGameInfo()},1e3);else{var C,w=n.bet_prize,N=[],A=[],P=[],x=[],I="";for(var M in w)if(w.hasOwnProperty(M)){C=w[M];for(var J in C)if(C.hasOwnProperty(J)){switch(J){case"0":I="long";break;case"1":I="hu";break;case"2":I="he";break;case"3":I="long-dan";break;case"4":I="hu-dan";break;case"5":I="long-shuang";break;case"6":I="hu-shuang";break;case"7":I="long-hong";break;case"8":I="hu-hong";break;case"9":I="long-hei";break;case"10":I="hu-hei"}var G=C[J].is_win,R=C[J].bet_amount,z=C[J].win_amount;N.push({name_en:I,is_win:G,bet_amount:R,win_amount:z})}}for(var S=0;S<N.length;S++)1==N[S].is_win&&(A.push(N[S]),N[S].bet_amount&&0!=N[S].bet_amount&&P.push(N[S])),!N[S].is_win&&N[S].bet_amount&&x.push(N[S]);if(0!=u){var _=s.getResult().money;if(0==_)switch(h){case 13:case 12:case 11:case 10:m.restoreChips(global_last_bet_history),setTimeout(function(){m.areaShine(A)},1e3),setTimeout(function(){m.areaStopShine(A),m.bankerWin(x),setTimeout(function(){m.playerWin(P,f,n),y>0?m.bonusAnimate(y,b):v.initUserBalance(b),m.rebetOrDouble()},1e3)},4500),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},7500);break;case 9:case 8:case 7:m.restoreChips(global_last_bet_history),m.areaHight(A),setTimeout(function(){m.bankerWin(x),setTimeout(function(){m.playerWin(P,f,n),y>0?m.bonusAnimate(y,b):v.initUserBalance(b),m.rebetOrDouble()},1e3)},3500),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},4e3);break;case 6:m.areaHight(A),y>0?m.bonusAnimate(y,b):v.initUserBalance(b),m.rebetOrDouble(),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},2e3);break;case 5:case 4:case 3:case 2:case 1:s.getRealTimeGameInfo()}else T.showResult(f),setTimeout(function(){a(".sequential-trands-container").empty();var e=s.getConfig("historyNumbers");e.push({code:p});new bomao.TableGame.LhdHistory({records:e,puker:i})},1e3),setTimeout(function(){m.hideNotice(),m.areaShine(A)},1e3),setTimeout(function(){m.areaStopShine(A),m.bankerWin(x),setTimeout(function(){m.playerWin(P,f,n),y>0?m.bonusAnimate(y,b):v.initUserBalance(b),m.rebetOrDouble()},1e3)},4500),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},7500)}if(0==u)switch(h){case 13:case 12:case 11:case 10:T.showResult(f),setTimeout(function(){a(".sequential-trands-container").empty();var e=s.getConfig("historyNumbers");e.push({code:p});new bomao.TableGame.LhdHistory({records:e,puker:i})},1e3),setTimeout(function(){m.hideNotice(),m.areaShine(A)},2e3),setTimeout(function(){m.areaStopShine(A)},5500),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},8e3);break;case 9:case 8:case 7:m.areaHight(A),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},4e3);break;case 6:m.areaHight(A),setTimeout(function(){m.areaClearShine(A),s.getRealTimeGameInfo()},2e3);break;case 4:case 5:case 3:case 2:case 1:s.getRealTimeGameInfo()}}4==r&&(m.cancelAll(),m.showNotice("本奖期取消，系统已撤单<br/>"+h+"秒后，进入新奖期!"),setTimeout(function(){s.getRealTimeGameInfo()},1e3))}),s.addEvent("cancelAll_before",function(){var e=this,n=e.getAllChips();a.each(n,function(){m.cancelChipAnimate(this)})}),s.addEvent("playerGet_after",function(e,n){n.length>=120&&(n=n.slice(0,120)),a.each(n,function(){m.playerGetChipAnimate(this)})}),s.addEvent("submit_before",function(){}),s.addEvent("success_after",function(e,a){m.showNotice("买定离手，等待开奖..."),m.lockTable()})}();var m={doc:a(document),body:a(document.body),deskTop:a("#J-desktop"),chipsBar:a("#J-chip-group-cont"),mask:a("#J-table-mask-lock"),rightMenu:new e.TableGame.ContextMenu,tableMenu:new e.TableGame.ContextMenu,notice:a("#J-panel-notice"),resultNotice:a("#J-panel-result"),playMethod:a("#J-panel-notice2"),clockNumbers:a("#J-clock-number .num"),sand:a(".table-game-sand"),init:function(){var e=this;e.timer_clock=null,e.initEvent()},initEvent:function(){var e=this,n=a("#J-desktop"),t=new bomao.Tip({cls:"j-ui-tip-t j-ui-tip-play-help"});moneyTip=new bomao.Tip({cls:"j-ui-tip-b j-ui-tip-money"}),hotColdTips=new bomao.Tip({cls:"j-ui-tip-l j-ui-tip-hot-cold"}),n.on("click",".area",function(n){var t=a(this),o=t.attr("data-action");o&&e.action(o,t)}),n.on("mouseover",".area",function(){var e,n,t,o,i=a(this),r=i.attr("data-name"),h=0;r&&(e=s.getArea(r),h=e.getChipsNum(),n=e.getResult().money,10>n?o=15:n>=10&&100>n?o=12:n>=100&&1e3>n?o=9:n>=1e3&&1e4>n?o=6:n>=1e4&&1e5>n?o=3:n>=1e6&&(o=0),chip=e.getLastChip(),chip&&(t=a('[data-id="'+chip.id+'"]'),moneyTip.setText(n),moneyTip.show(o,-30,t)))}).on("mouseout",".area",function(){moneyTip.hide()}),n.on("mouseenter",".help",function(e){var n=a(this),o=n.attr("helpText");t.setText(o),t.show(-210,25,n)}),n.on("mouseout",".help",function(e){t.hide()}),a("#J-button-clearall").click(function(){e.cancelAll()}),e.rightMenu.addItem({title:"撤销",action:"area-cancel"}),e.rightMenu.addItem({title:"清空",action:"area-clear"}),e.rightMenu.addItem({title:"翻倍x2",action:"area-x2"}),e.rightMenu.addItem({title:"ALL IN",action:"area-allin"}),e.deskTop.on("contextmenu",'[data-action="addchip"]',function(n){{var t=a(this),o=t.attr("data-name");s.getArea(o)}e.rightMenu.setData({areaname:o}),e.rightMenu.show(n.clientX,n.clientY),n.stopPropagation(),n.preventDefault()}),e.rightMenu.addEvent("click",function(e,a,n){var t=this;switch(a){case"area-cancel":m.action("areacancel",t.getData());break;case"area-clear":m.action("areaclear",t.getData());break;case"area-x2":m.action("areax2",t.getData());break;case"area-allin":m.action("areaallin",t.getData())}t.hide()}),e.tableMenu.addItem({title:"撤销操作",action:"desk-cancel"}),e.tableMenu.addItem({title:"恢复操作",action:"desk-recovery"}),e.tableMenu.addItem({title:"确认投注",action:"desk-submit"}),e.deskTop.on("contextmenu",function(e){e.preventDefault()}),a("#J-button-submit").click(function(){0==!s.getResult().money?s.submit():(m.showNotice("尚未下注！"),setTimeout(function(){m.hideNotice()},1e3))}),a("#J-button-rebet").click(function(){var e,a,n=s.getLastBetInfo()?s.getLastBetInfo():global_last_bet_history,t=n.balls,o=0,i=[],r=0;if(r=s.getResult().money,n.isFinish){for(;o<t.length;o++){switch(a=y.moneyToChips(2*t[o].multiple/100),parseInt(t[o].ball)){case 0:areaname="long";break;case 1:areaname="hu";break;case 2:areaname="he";break;case 3:areaname="long-dan";break;case 4:areaname="hu-dan";break;case 5:areaname="long-shuang";break;case 6:areaname="hu-shuang";break;case 7:areaname="long-hong";break;case 8:areaname="hu-hong";break;case 9:areaname="long-hei";break;case 10:areaname="hu-hei"}e=s.getArea(areaname),i.push({area:e,chips:a})}m.rebet(i)}else m.showNotice("未获得往期押注数据，不可重押！"),setTimeout(function(){m.hideNotice()},1e3)}),a("#J-button-double").click(function(){var e=s.getResult().money;return 2*e>v.getUserBalance()?void m.balanceNotice():void a.each(s.getAreas(),function(){var e=this;if(0!=e.getResult().money){var a={areaname:e.name};m.action_areax2(a)}})}),a("#hot-cold-txt").hover(function(){hotColdTips.setText("冷热号的统计期数<br/>点击可设置(5至200期)"),hotColdTips.show(40,-11,a(this))}).mouseout(function(){hotColdTips.hide()}).focus(function(){a(this).attr("placeholder","")}).blur(function(){a(this).attr("placeholder","30")}),a("#hot-cold-txt").on("input",function(){var e=/^[0-9]*[1-9][0-9]*$/,n=a(this).val();n.match(e)||a(this).val(""),parseInt(n)>200&&a(this).val("")}).on("change",function(){var e=a(this).val();parseInt(e)<5&&a(this).val("")}).on("mouseout",function(){var e=a(this).val();parseInt(e)<5&&a(this).val("")})},action:function(e,n){var t=this;a.isFunction(t["action_"+e])&&t["action_"+e](n)},action_addchip:function(e){var a=this,n=e.attr("data-name"),t=s.getArea(n),o=y.getSelectedChip(),i=v.getUserBalance();return o.getMoney()>i?void a.balanceNotice():(a.addChipAnimate(o,t),void v.setUserBalance(parseInt(0-o.getMoney())))},action_areacancel:function(e){var a=this,n=e.areaname,t=s.getArea(n),o=t.cancelChip();o&&(a.cancelChipAnimate(o),s.update(),v.setUserBalance(o.getMoney()))},action_areaclear:function(e){var n=this,t=e.areaname,o=s.getArea(t),i=o.getResult().money;chips=o.clearAll(),a.each(chips,function(){n.cancelChipAnimate(this)}),s.update(),v.setUserBalance(i)},action_areax2:function(e){var n=this,t=e.areaname,o=s.getArea(t),i=o.getChipsCase(),r=v.getUserBalance(),h=o.getResult().money;return 2*Number(h)>r?void n.balanceNotice():(v.setUserBalance(0-Number(h)),void a.each(i,function(){n.addChipAnimate(this,o)}))},action_areaallin:function(e){var n=this,t=e.areaname,o=s.getArea(t),i=y.getMinChip(),r=v.getUserBalance(),h=y.moneyToChips(r),c=0;return r<i.getMoney()?void n.balanceNotice():(v.setUserBalance(0-r),void a.each(h,function(){for(c=0;c<this.num;c++)n.addChipAnimate(y.getChip(this.money),o)}))},rebet:function(e){for(var n,n,t,o=this,i=(v.getUserBalance(),0),s=0;s<e.length;s++){n=e[s].area,t=e[s].chips;for(var r=0;r<t.length;r++)i+=t[r].money*t[r].num}if(i>global_balance)return void o.balanceNotice();for(var s=0;s<e.length;s++)n=e[s].area,t=e[s].chips,a.each(t,function(){var e=this;c=y.getChip(e.money);for(var a=0;a<e.num;a++)o.addChipAnimate(c,n)});v.setUserBalance(0-i)},resetChips:function(e){for(var n,n,t,o=this,i=(v.getUserBalance(),0);i<e.length;i++)n=e[i].area,t=e[i].chips,a.each(t,function(){var e=this;c=y.getChip(e.money);for(var a=0;a<e.num;a++)o.addChipAnimate(c,n)})},restoreChips:function(e){for(var a=this,n=e.balls,t=[],o=0;o<n.length;o++){switch(chips=y.moneyToChips(2*n[o].multiple/100),parseInt(n[o].ball)){case 0:areaname="long";break;case 1:areaname="hu";break;case 2:areaname="he";break;case 3:areaname="long-dan";break;case 4:areaname="hu-dan";break;case 5:areaname="long-shuang";break;case 6:areaname="hu-shuang";break;case 7:areaname="long-hong";break;case 8:areaname="hu-hong";break;case 9:areaname="long-hei";break;case 10:areaname="hu-hei"}area=s.getArea(areaname),t.push({area:area,chips:chips})}a.resetChips(t)},copyChip:function(e){var n=this,t=a('<i data-money="'+e+'" class="chip move-chip chip-'+n.getMoneyForClass(e)+'" ></i>');return t},makeChipDom:function(e,n){var t=this,o='<i id="J-chip-'+e.getId()+'" data-id="'+e.getId()+'" data-money="'+e.getMoney()+'" class="chip move-chip chip-'+t.getMoneyForClass(e.getMoney())+'" ></i>';return n?o:a(o)},getMoneyForClass:function(e){return(""+e).replace(".","-")},cancelAll:function(){s.cancelAll()},playerGet:function(){s.playerGet()},bankerAddChipAnimate:function(n,t,o){var i=this,s=a(".banker"),r=s.offset(),h=a("#J-desktop").find('[data-name="'+o.getName()+'"]'),c=h.offset(),u=new e.TableGame.Chip({money:t.getMoney()}),l=i.makeChipDom(u),m=o.getChipsNum(),d=0,g=0;o.compensateChip(u),120>m&&(d=-3*(n-1),g=-3*(m-1),l.appendTo(i.body),l.css({left:r.left+s.width()/2,top:r.top+s.height()/2}),l.animate({left:c.left+h.width()/2-l.width()/2+2,top:c.top+h.height()/2-l.height()/2+1+g},1e3,function(){}))},bankerAddChipAnimateToPlayer:function(n,t){var o=this,i=a(".banker"),s=i.offset(),r=a(".money-bet"),h=r.offset(),c=new e.TableGame.Chip({money:t}),u=o.makeChipDom(c),l=0,m=0;l=0,m=40*n,u.appendTo(o.body),u.css({left:s.left+i.width()/2,top:s.top+i.height()/2}),u.animate({left:h.left+r.width()/2-u.width()/2+2,top:h.top+r.height()/2-u.height()/2+1-m},1500,function(){u.remove()})},bankerGetChipAnimate:function(e,n){var t=this,o=e.getId(),i=(e.getMoney(),a("#J-chip-"+o)),s=a(".banker"),r=i.offset(),h=s.offset(),c=t.makeChipDom(e);i.remove(),c.css({left:r.left,top:r.top}),c.appendTo(t.body),c.animate({left:h.left+c.width()/2,top:h.top+c.height()/2},1e3,function(){c.remove(),n&&n.call(t)})},playerGetChipAnimate:function(e,n){var t=this,o=e.getId(),i=e.getMoney(),s=a("#J-chip-"+o),r=m.chipsBar.find('[data-money="'+i+'"]'),h=s.offset(),c=r.offset(),u=t.makeChipDom(e);s.remove(),u.css({left:h.left,top:h.top}),u.appendTo(t.body),u.animate({left:c.left,top:c.top},1e3,function(){t.playAudio("chipToPlayer"),t.rebetOrDouble(),u.remove(),n&&n.call(t)})},addChipAnimate:function(n,t){var o=this,i=a("#J-chip-group-cont").find('[data-money="'+n.getMoney()+'"]'),s=i.offset(),r=a("#J-desktop").find('[data-name="'+t.getName()+'"]'),h=r.offset(),c=o.copyChip(n.getMoney()),u=new e.TableGame.Chip({money:n.getMoney()});c.appendTo(o.body),c.css({left:s.left,top:s.top}),c.animate({left:h.left+r.width()/2-c.width()/2+2,top:h.top+r.height()/2-c.height()/2+1},function(){o.playAudio("chipToTable"),t.addChip(u),o.rebetOrDouble(),c.remove()})},cancelChipAnimate:function(e,n){var t=this,o=e.getId(),i=e.getMoney(),s=a("#J-chip-"+o),r=m.chipsBar.find('[data-money="'+i+'"]'),h=s.offset(),c=r.offset(),u=t.makeChipDom(e);s.remove(),u.css({left:h.left,top:h.top}),u.appendTo(t.body),u.animate({left:c.left,top:c.top},function(){t.playAudio("chipToPlayer"),t.rebetOrDouble(),u.remove(),n&&n.call(t)})},lockTable:function(){var e=this;e.mask.show()},unlockTable:function(){var e=this;e.mask.hide()},showNotice:function(e){var a=this;a.resultNotice.html(e).removeClass("table-notice2").addClass("table-notice1"),a.resultNotice.show()},hideNotice:function(){var e=this;e.resultNotice.hide()},showResultNotice:function(e){var a=this;a.resultNotice.html(e),a.resultNotice.show()},hideResultNotice:function(){var e=this;e.resultNotice.hide()},hideResult:function(){},clock:function(e){var a=this,n=(e-e%60)/60,t=e%60;n=10>n?"0"+n:n,t=10>t?"0"+t:t,10==e&&(a.playAudio("timeoutTips"),a.clockNumbers.addClass("num-red")),e>10&&a.clockNumbers.removeClass("num-red"),a.clockNumbers.text(e)},sandClock:function(e,a){var n=this,a=45,t=a-e,o=t/a*100;n.sand.css("height",o+"%")},clockTimeStart:function(e){var a,n,t=this,o=new Date;clearInterval(t.timer_clock),t.timer_clock=setInterval(function(){n=new Date,a=e-Math.floor((n-o)/1e3),0>a?(clearInterval(t.timer_clock),s.getRealTimeGameInfo(),t.sand.css("height",0),m.showNotice("即将开奖，祝您好运!"),m.lockTable()):(t.clock(a),t.sandClock(a))},1e3)},balanceNotice:function(){a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100),a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100),a("#J-money-user-balance").animate({fontSize:"20px"},100),a("#J-money-user-balance").animate({fontSize:"14px"},100)},areaShine:function(e){var n=this;n.lightTimer=setInterval(function(){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/lhd/areas-hover.png)")}),n.darkTimer=setTimeout(function(){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/lhd/areas.png)")})},500)},1e3)},areaClearShine:function(e){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/lhd/areas.png)").hover(function(e){a(this).css("background-image","mouseenter"===e.type?"url(/assets/images/game/table/lhd/areas-hover.png)":"url(/assets/images/game/table/lhd/areas.png)")})})},areaHight:function(e){a.each(e,function(){a("[data-name="+this.name_en+"]").css("background-image","url(/assets/images/game/table/lhd/areas-hover.png)")})},areaStopShine:function(e){var a=this;clearTimeout(a.lightTimer),clearTimeout(a.darkTimer)},bankerWin:function(e){for(var n,t=this,o=0;o<e.length;o++)n=s.getArea(e[o].name_en),a.each(n.getChipsCase(),function(){t.bankerGetChipAnimate(this,function(){})}),n.clearAll()},playerWin:function(e,n,t){for(var o,i=this,r=0;r<e.length;r++){var c=0;o=s.getArea(e[r].name_en),prize_odds=o.getOdds(),a.each(o.getChipsCase(),function(e){for(var a=1;a<prize_odds+1;a++)c=e*a,i.bankerAddChipAnimate(c,this,o)})}n&&n.length>1&&h(n[0])==h(n[1])&&!function(){var e,a,n=u(0,t),o=u(1,t),s=0,r=0,h=0,c=[],l=0,m=0;for(n.win_amount&&Number(n.win_amount)>0&&(s=Number(n.win_amount)),o.win_amount&&Number(o.win_amount)>0&&(r=Number(o.win_amount)),h=s+r,c=0==Math.floor(h)?[]:y.moneyToChips(Math.floor(h)),h-Math.floor(h)>0&&c.push({money:.5,num:1}),l=0,e=c.length;e>l;l++)for(m=0,a=c[l].num;a>m;m++)i.bankerAddChipAnimateToPlayer(l,c[l].money)}(),setTimeout(function(){i.playerGet()},1e3)},formatMoneyCN:function(e){var e=Number(e),a=/(-?\d+)(\d{3})/;for(e=""+e;a.test(e);)e=e.replace(a,"$1,$2");return e+"元"},rebetOrDouble:function(){var e=s.getResult().money;0==e?(a("#J-button-rebet").css("display","inline-block"),a("#J-button-double").css("display","none")):(a("#J-button-rebet").css("display","none"),a("#J-button-double").css("display","inline-block"))},bonusAnimate:function(e,n){a(".table-bar > .win-bonus-container > .win-bonus-txt").text(e),a(".table-bar > .win-bonus-container").css({display:"block"},{top:"-75px"}).animate({top:"-25px"},2e3,function(){a(this).css("display","none"),v.initUserBalance(n)}),m.hideNotice()},getClass:function(e){var a;switch(e){case 0:a="cold";break;case 1:a="warm";break;case 2:a="hot"}return a},playAudio:function(e){for(var n=0;n<o.length;n++)o[n].name==e&&(a("#dice-tips-audio").attr("src",o[n].url),document.getElementById("dice-tips-audio").play())},stopAudio:function(e){for(var n=0;n<o.length;n++)o[n].name==e&&a("#dice-tips-audio").attr("src")==o[n].url&&document.getElementById("dice-tips-audio").pause()}},d=s.getConfig("max_prize"),g=s.getConfig("cycle"),p=1,f="娱乐场",b="dice/low-bg.png";switch(g){case 45:p=1;break;case 60:p=2;break;case 75:p=3}switch(d){case 5:b="/assets/images/game/table/dice/low-bg.jpg",f="娱乐场";break;case 10:b="/assets/images/game/table/dice/normal-bg.jpg",f="普通场";break;case 20:f="高级场",b="/assets/images/game/table/dice/high-bg.jpg"}a("#max-prize").text(d),a("#table-num").text(p),a("#table-name").text(f);var y=new e.TableGame.ChipsGroup;!function(){var n=[{money:1,marginTop:0},{money:2,marginTop:0},{money:5,marginTop:0},{money:10,marginTop:0},{money:50,marginTop:0},{money:100,marginTop:0},{money:1e3,marginTop:0}];switch(d){case 5:n=[{money:1,marginTop:0},{money:2,marginTop:0},{money:5,marginTop:0},{money:10,marginTop:0},{money:50,marginTop:0},{money:100,marginTop:0},{money:1e3,marginTop:0}];break;case 10:n=[{money:100,marginTop:0},{money:200,marginTop:0},{money:300,marginTop:0},{money:500,marginTop:0},{money:600,marginTop:0},{money:800,marginTop:0},{money:1e3,marginTop:0}];break;case 20:n=[{money:1e3,marginTop:0},{money:2e3,marginTop:0},{money:3e3,marginTop:0},{money:5e3,marginTop:0},{money:6e3,marginTop:0},{money:8e3,marginTop:0},{money:1e4,marginTop:0}]}var t=[],o=a("#J-chip-group-cont"),i=[],s="active";a.each(n,function(){var n=this;value=Number(n.money),i=Number(n.marginTop),chip=new e.TableGame.Chip({money:value,marginTop:i}),chipDom=m.makeChipDom(chip,!0),t.push(chipDom),chip.addEvent("setStatus_after",function(e,t){var o=a("#J-chip-"+this.getId()),i=this.getMoney();t?(o.unbind(),o.bind("mousedown",function(){y.select(i)})):(o.unbind(),o.bind("mousedown",function(){m.balanceNotice()}),o.removeClass(s).animate({marginTop:n.marginTop},150))}),y.addChip(chip)}),o.html(t.join("")),y.addEvent("change_after",function(e,n){a("#J-chip-group-cont .chip").removeClass("active").css({marginTop:0}),o.find('[data-money="'+n.getMoney()+'"]').addClass(s).animate({marginTop:-20},150)}),y.select(n[0].money)}();var v=new e.TableGame.UserBalance;!function(){v.addEvent("setUserBalance_after",function(n,t){a(".J-text-money-value").text(e.util.formatMoney(t)),y.setChipsStatus(t)})}(),v.setUserBalance(parseFloat(global_balance)),m.init();var T=new e.TableGame.PokerManager;T.setAttrConfig(i),T.tableDom=a("#J-desktop"),T.pokerPosLong=T.tableDom.find(".poker-long"),T.pokerPosHu=T.tableDom.find(".poker-hu"),T.objPokerLong=null,T.objPokerHu=null,T.loadPokerCache=function(){for(var e=this,a=1,n=53;n>a;a++)e.getPoker(a," ")},T.showResult=function(e,a){var n=this,t=13,o=10,i=n.getPoker(e[0]),s=n.getPoker(e[1]),r=n.pokerPosLong.offset(),h=n.pokerPosHu.offset();n.objPokerLong=i,n.objPokerHu=s,s.addClass("poker-blue"),i.setPos(r.left+t,r.top+o),s.setPos(h.left+t,h.top+o),a||setTimeout(function(){i.showCard(),setTimeout(function(){s.showCard()},600)},1500)},T.coverPokers=function(){var e=this;e.objPokerLong&&(e.objPokerLong.coverCard("poker-red"),e.objPokerHu.coverCard("poker-blue"))},T.showResult([1,1],!0),T.loadPokerCache();var k=function(e){return"loginTimeout"==e.type?!1:!0};!function(){var e=a("#J-balls-statistics-balance, #J-user-amount-num, #J-top-user-balance"),n=0,t=function(a){a!=n&&(e.text(bomao.util.formatMoney(a)),n=a)},o=new bomao.Alive({url:s.getConfig("pollUserAccountUrl"),cache:!1,dataType:"json",method:"get",looptime:1e4});o.getParams=function(){return{params:[{type:"account"}]}},o.addEvent("afterSuccess",function(e,n){{var o=this;o.defConfig}if(k(n)&&1==Number(n.isSuccess)){var i,s,r=n.data;a.each(r,function(){switch(this.type){case"account":i=this.data,a.each(i,function(){switch(s=this,s.type){case"balance":t(Number(s.data));break;case"recharge":break;case"withdrawals":}})}})}}),o.start()}()}(bomao,jQuery);