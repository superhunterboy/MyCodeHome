!function(e,t,a,n){var r,s=global_game_config_k3,o={},i={},l={};!function(){var e,t,a,n=s.gameMethods;$.each(n,function(){e=this,e.fullname_en=[e.name_en],e.fullname_cn=[e.name_cn],i[""+e.id]=e,e.children&&$.each(e.children,function(){t=this,t.fullname_en=e.fullname_en.concat(t.name_en),t.fullname_cn=e.fullname_cn.concat(t.name_cn),i[""+t.id]=t,t.children&&$.each(t.children,function(){a=this,a.fullname_en=t.fullname_en.concat(a.name_en),a.fullname_cn=t.fullname_cn.concat(a.name_cn),l[""+a.id]=a})})})}();var u={init:function(){},getConfig:function(e){return e?s[e]:s},getGameId:function(){return s.gameId},getGameNameEn:function(){return s.gameName_en},getGameNameCn:function(){return s.gameName_cn},getTraceMaxTimes:function(){return Number(s.traceMaxTimes)},getCurrentLastTime:function(){return s.currentNumberTime},getCurrentTime:function(){return s.currentTime},getCurrentGameNumber:function(){return s.currentNumber},getLastGameNumber:function(){return s.lastNumber},getLotteryBalls:function(){return s.lotteryBalls||"00000"},getGameNumbers:function(){return s.gameNumbers},getLimitByMethodId:function(e,t){var t=t||1,a=Number(this.getMethodById(e).max_multiple);return a/t},getSubmitUrl:function(){return s.submitUrl},getUpdateUrl:function(){return s.loaddataUrl},getUploadPath:function(){return s.uploadPath},getPollBetInfoUrl:function(){return s.pollBetInfoUrl},getPollUserAccountUrl:function(){return s.pollUserAccountUrl},getProjectViewBaseUrl:function(){return s.projectViewBaseUrl},getTraceViewBaseUrl:function(){return s.traceViewBaseUrl},getJsPath:function(){return s.jsPath},getJsSuffix:function(){return s.jsSuffix},getDefaultMethodId:function(){return s.defaultMethodId},getUserName:function(){return s.username},getDelayTime:function(){return 5},getLastGameBallsUrl:function(){return"/"},getMethods:function(){return s.gameMethods},getMethodById:function(e){return l[""+e]},getMethodNodeById:function(e){return i[""+e]},getMethodNameById:function(e){var t=this.getMethodById(e);return t?t.name_en:""},getMethodCnNameById:function(e){var t=this.getMethodById(e);return t?t.name_cn:""},getMethodFullNameById:function(e){var t=this.getMethodById(e);return t?t.fullname_en:""},getMethodCnFullNameById:function(e){var t=this.getMethodById(e);return t?t.fullname_cn:""},getOnePriceById:function(e){return Number(this.getMethodById(e).price)},getUserBehavior:function(e){if(s.coefficient)return e?s.coefficient[e]:s.coefficient},getToken:function(){return s._token},getUserRole:function(){return 1==s.is_agent?"agent":"user"},updateConfig:function(e){$.extend(!0,s,e)},getHistoryBallsList:function(){var e,t,a,n=$.trim($("#J-textarea-historys-balls-data").text()).split(","),r=0,s=n.length,o=0,i=[];for(r=0;r<s;r++){for(t=n[r].split("="),a=[],o=0,e=t[1].length;o<e;o++)a[o]=Number(t[1][o]);i[r]={number:$.trim(t[0]),balls:a}}return i}},c=e.Class(u,a);c.defConfig=o,c.getInstance=function(e){return r||(r=new c(e))},e.Games.K3[t]=c}(bomao,"Config",bomao.Event),function(){var e=function(e){var t=bomao.Games;bomao.Games.K3.getInstance({jsNameSpace:"bomao.Games.K3."}),bomao.GameTypes.getInstance(),bomao.GameStatistics.getInstance(),bomao.GameOrder.getInstance(),bomao.GameTrace.getInstance(),bomao.GameSubmit.getInstance(),bomao.Games.K3.Message.getInstance();var a=function(e,t){var a=e.getElementsByTagName("span"),n="min-left-anim";a[1].innerHTML=t,a[3].innerHTML=t,e.className=e.className.replace(n,"")+" "+n,setTimeout(function(){a[5].innerHTML=t,a[7].innerHTML=t,e.className=e.className.replace(n,"").replace("  ","")},800)},n=function(e){var t=$("#J-lottery-balls-lasttime").find("em"),a=document.all?50:100,n=document.all?250:1e3;t.each(function(t){var r=$(this);r.text(e[t]),setTimeout(function(){r.addClass("flip").text(e[t]).removeClass().addClass("dice dice-"+e[t]),setTimeout(function(){r.removeClass("flip")},n)},t*a)})},r=function(e){if("loginTimeout"==e.type){var a=t.getCurrentGameMessage();return a.hide(),a.show({mask:!0,confirmIsShow:!0,confirmText:"关 闭",confirmFun:function(){location.href="/"},closeFun:function(){location.href="/"},content:'<div class="pop-waring"><i class="ico-waring"></i><h4 class="pop-text">登录超时，请重新登录平台！</h4></div>'}),!1}return!0},s=function(e,a){var n=t.getCurrentGame().getGameConfig().getInstance(),r=t.getCurrentGame().getCurrentGameMethod(),s=n.getHistoryBallsList(),o=[],i=0,l=s.length;for(i=0;i<l;i++)if(e==s[i].number)return;s.pop(),o.push(e+"="+a),$.each(s,function(){o.push(this.number+"="+this.balls.join(""))}),o=o.join(","),$("#J-textarea-historys-balls-data").text(o),r.miniTrend_updateTrend()},o=[],i=function(){var e,r=t.getCurrentGame().getGameConfig().getInstance(),i=r.getCurrentLastTime(),l=r.getCurrentTime(),u=i-l,c=u,m=null,d=""+r.getCurrentGameNumber(),g=""+r.getLastGameNumber(),f=(""+r.getLotteryBalls()).split(""),p=$("#J-deadline-panel").children("em"),h=0,b=0,v=0,C=[],G=[],y="",w=$("#J-button-btn-time"),T=t.getCurrentGameMessage(),I=(new Date).getTime();e=function(){var e,n=0;if(c<0)return m&&m.stop&&m.stop(),void t.getCurrentGame().getServerDynamicConfig(function(){var e,a=""+r.getCurrentGameNumber(),n=""+r.getLastGameNumber(),o=""+r.getLotteryBalls(),i=2;d!=a&&(T.showTip('<div class="tipdom-cont">当前已进入第<div class="row" style="color:#F60;font-size:18px;">'+a+' 期</div><div class="row">请留意期号变化 (<span id="J-gamenumber-change-s-num">3</span>)</div></div>'),e=setInterval(function(){$("#J-gamenumber-change-s-num").text(i),i-=1,i<0&&(clearInterval(e),T.hideTip())},1e3),T&&T.tipdom&&T.tipdom.find(".tipdom-cont").mouseover(function(){clearInterval(e),T.hideTip()}),t.getCurrentGameTrace().autoDeleteTrace()),g!=n&&s(n,o)});for(G=[],h=Math.floor(c/3600),b=Math.floor(c%3600/60),v=c%60,h=h<10?"0"+h:""+h,b=b<10?"0"+b:""+b,v=v<10?"0"+v:""+v,y=""+h+b+v,C=y.split(""),n=0,e=C.length;n<e;n++)C[n]!=o[n]&&G.push(n);for(o=y.split(""),n=0,e=G.length;n<e;n++)document.all?p[G[n]].innerHTML=o[G[n]]:a(p[G[n]],o[G[n]]);w.text(o[0]+o[1]+":"+o[2]+o[3]+":"+o[4]+o[5]),c=u-Math.ceil(((new Date).getTime()-I)/1e3)},m=new bomao.Timer({time:1e3,fn:e}),$("#J-header-currentNumber").html(d),$("#J-header-newnum").text(r.getLastGameNumber());var M=[];$.each(f,function(){M.push('<em class="dice dice-'+this+'"></em>')}),$("#J-lottery-balls-lasttime").html(M.join("")),pageHiddenInput=document.getElementById("J-input-hidden-lastballs"),pageLastBalls=pageHiddenInput.value,pageLastBalls!=f.join(",")&&(n(f),pageHiddenInput.value=f.join(","))};t.getCurrentGame().addEvent("changeDynamicConfig",function(e,t){$("#J-global-token-value").val(t._token),i()}),i(),t.getCurrentGameTypes().addEvent("beforeChange",function(e,a){var n,r=$("#J-panel-gameTypes"),s=r.find('[data-id="'+a+'"]'),o=t.getCurrentGame().getGameConfig().getInstance().getMethodCnNameById(a),i="current";s.size()>0&&(r.find("dd").removeClass(i),s.addClass(i),n=s.parents("li"),n.parent().children().removeClass(i).find(".title span").text(""),s.parents("li").addClass(i),n.find(".title span").text("["+o.substr(0,4)+"]").attr("title",o))}),t.getCurrentGame().addEvent("afterSwitchGameMethod",function(e,a){var n,r=t.getCurrentGame().getGameConfig().getInstance(),s=r.getMethodCnFullNameById(a),o=t.getCurrentGame().getCurrentGameMethod(),i=o.container.find(".number-select-link"),l='<span class="method-play-title-name"></span>',u=i.find(".method-play-title-name"),c=t.getCurrentGame().getGameConfig().getInstance().getMethodById(a),m=Number(r.getConfig("user_prize_group")),d=[],g=Number(t.getCurrentGameStatistics().getMoneyUnitDom().getValue());u.size()<1&&(u=$(l),u.prependTo(i)),u.text(s[0]+" [ "+s[2]+" ]"),t.getCurrentGameStatistics().getMultipleDom().setValue(1),0==o.getName().indexOf("longhu.")?(d.push((2/.45*m/2e3).toFixed(2)),d.push((20*m/2e3).toFixed(2)),$("#J-method-prize").html(d.join(" - "))):(n=Number(c.prize)*g,n=bomao.util.formatMoney(n),n=n.split("."),n[1]="<i>"+n[1]+"</i>",n=n.join("."),$("#J-method-prize").html(n)),$("#J-panel-method-tip-text").html(c.bonus_note+'<span class="money-text">单注奖金：<i>'+bomao.util.formatMoney(Number(c.prize))+"</i></span>"),o.miniTrend_updateTrend()}),t.getCurrentGameTypes().addEvent("afterSwitchMenuStatus",function(e,t){});var l;t.getCurrentGame().addEvent("beforeSetup",function(e){l=setTimeout(function(){$("#J-mask-page-inner").show()},1e3)}),t.getCurrentGame().addEvent("afterSetup",function(e){clearTimeout(l),$("#J-mask-page-inner").hide()});var u=new bomao.Behavior;!function(){var e,a=t.getCurrentGame().getGameConfig().getInstance(),n=a.getGameId(),r=a.getUserBehavior(),s={};s.gameid=n,u.getToken=function(){return a.getToken()},u.setKey($.param(s)),u.autoSave(1e4),e=r&&r.methodid?Number(r.methodid):t.getCurrentGame().getGameConfig().getInstance().getDefaultMethodId(),t.getCurrentGameTypes().addEvent("endShow",function(){this.changeMode(e),u.setData({methodid:e})}),r&&r.voice?bomao.voice.voiceOff=r.voice:bomao.voice.voiceOff=0,r&&r.moneyunit?(t.getCurrentGameStatistics().moneyUnitDom.setValue(Number(r.moneyunit)),u.setData({moneyunit:Number(r.moneyunit)})):u.setData({moneyunit:1}),r&&"undefined"!=typeof r.tracetab?(t.getCurrentGameTrace().TraceTab.controlTo(Number(r.tracetab)),u.setData({tracetab:Number(r.tracetab)})):u.setData({tracetab:0})}(),t.getCurrentGame().addEvent("afterSwitchGameMethod",function(e,t){u.setData({methodid:t})}),t.getCurrentGameStatistics().moneyUnitDom.addEvent("afterSwitch",function(e,t){var a=Number(this.triggers.eq(t).attr("data-value"));u.setData({moneyunit:a})}),t.getCurrentGameTrace().TraceTab.addEvent("afterSwitch",function(e,t){u.setData({tracetab:t})}),$("#J-add-order").click(function(){var e=t.getCurrentGameStatistics().getResultData();e.mid&&t.getCurrentGameOrder().add(e)}),$("#J-add-fastorder").click(function(){var e=t.getCurrentGameStatistics().getResultData();e.type&&t.getCurrentGameOrder().fastOrder(e)}),t.getCurrentGameStatistics().addEvent("afterUpdate",function(e,t,a){var n=$("#J-add-order"),r=$("#J-add-fastorder"),s=$("#J-button-bet-allin"),o=Number($.trim($("#J-balls-statistics-balance").text().replace(/,/g,"")));t>0?(n.removeClass("disable"),r.removeClass("disable"),o>0&&s.removeClass("btn-bet-allin-disable")):(n.addClass("disable"),r.addClass("disable"),s.addClass("btn-bet-allin-disable"))}),$("#J-button-bet-allin").click(function(e){var a,n=$(this),r=.01,s=Number($.trim($("#J-balls-statistics-balance").text().replace(/,/g,""))),o=t.getCurrentGameStatistics(),i=o.getResultData(),l=i.onePrice*i.num*r;e.preventDefault(),n.hasClass("btn-bet-allin-disable")||(a=Math.floor(s/l),a>0&&(o.getMoneyUnitDom().setValue(r),o.getMultipleDom().setValue(a)))});var c=new bomao.Tip({cls:"j-ui-tip-l"});$("#J-button-bet-allin").mouseover(function(){var e=$(this);e.hasClass("btn-bet-allin-disable")&&(c.setText("根据可用余额自动计算您所选号码的最大可投倍数(不超过最高奖金限额）"),c.show(e.width()+10,-5,e))}),$("#J-button-bet-allin").mouseleave(function(){c.hide()}),t.getCurrentGameOrder().addEvent("afterChangeLotterysNum",function(e,t){var a=this,n=$("#J-submit-order");t>0?n.removeClass("btn-bet-disable"):n.addClass("btn-bet-disable"),a.totalLotterysNumDom.addClass("blink"),a.totalAmountDom.addClass("blink"),setTimeout(function(){a.totalLotterysNumDom.removeClass("blink"),a.totalAmountDom.removeClass("blink")},600)}),$("#J-button-clearall").click(function(e){e.preventDefault(),t.getCurrentGameOrder().reSet().cancelSelectOrder(),t.getCurrentGame().getCurrentGameMethod().reSet()}),$("body").on("click",".remove-error",function(){t.getCurrentGame().getCurrentGameMethod().removeOrderError()}).on("click",".remove-same",function(){t.getCurrentGame().getCurrentGameMethod().removeOrderSame()}).on("click",".remove-all",function(){t.getCurrentGame().getCurrentGameMethod().removeOrderAll()}),$("body").on("click","#J-submit-order",function(e){return!$(this).hasClass("btn-bet-disable")&&void t.getCurrentGameSubmit().submitData()}),$("#J-trace-switch").click(function(){t.getCurrentGameTrace().show()}),t.getCurrentGameSubmit().addEvent("beforeSend",function(e,t){var a=t.win.dom.find(".pop-control"),n=a.find("a.confirm");a.find("a.cancel");n.addClass("btn-disabled"),n.text("提交中..."),t.win.hideCancelButton()}),t.getCurrentGameSubmit().addEvent("afterSubmit",function(e,t){var a=t.win.dom.find(".pop-control"),n=a.find("a.confirm");a.find("a.cancel");n.removeClass("btn-disabled"),n.text("确 认")}),$(".global-footer-cont").hide(),$("#J-global-gototop").remove();var m=new bomao.Tab({par:"#J-list-history-panel",triggers:".title li",panels:".content",eventType:"click"}),d=bomao.SideTip.getInstance();!function(){var e=(t.getCurrentGame().getGameConfig().getInstance().getUserRole(),{}),a=t.getCurrentGame().getGameConfig().getInstance().getProjectViewBaseUrl(),n={},s=t.getCurrentGame().getGameConfig().getInstance().getTraceViewBaseUrl(),o=$("#J-tbody-historys-bets"),i=$("#J-tbody-historys-traces"),l='<tr class="<#=rowclass#>"><td><#=gamename#></td><td><#=method#></td><td><#=number#></td><td><#=prizeballs#></td><td><#=balls#></td><td><#=money#></td><td><#=prize#></td><td><#=commission#></td><td><#=status#></td><td><a target="_blank" href="'+a+'/<#=id#>">详情</a></td></tr>',u='<tr class="<#=rowclass#>"><td><#=gamename#></td><td><#=method#></td><td><#=startnumber#></td><td><#=progress#></td><td><#=amount#></td><td><#=prize#></td><td><#=iswinstop#></td><td><#=status#></td><td><a target="_blank" href="'+s+'/<#=id#>">详情</a></td></tr>',c=function(t){var a,n=[],r=0,s=t.length;for(r=s-1;r>=0;r--)a=t[r],e[a.id]?e[a.id].statuscode!=a.statuscode&&($(g(a)).replaceAll(o.find(".row-data-"+a.id)),3==a.statuscode&&(n.push('<div class="row">'),n.push("恭喜您的"),n.push(" "+a.gamename+" "),n.push("("+a.method+")"),n.push("已中奖"),n.push('<span class="num">'),n.push(bomao.util.formatMoney(Number(a.prize))),n.push("</span>"),n.push("元"),n.push("</div>"),"1"===bomao.voice.voiceOff&&0===r&&bomao.voice.zhongjiang())):$(g(a)).prependTo(o),e[a.id]=a;n.length>0&&(d.setTitle("中奖通知"),d.setContent(n.join("")),d.show())},g=function(e){var t=l,a=[];return e.balls.length>10&&(e.balls=e.balls.substr(0,10)+"..."),e.prizeballs=e.prizeballs?e.prizeballs:"",a.push("row-data-"+e.id),a.push("row-status-"+e.statuscode),t=t.replace(/<#=prizeballs#>/g,'<span class="cls-prizeballs">'+e.prizeballs+"</span>"),t=t.replace(/<#=gamename#>/g,'<span class="cls-gamename">'+e.gamename+"</span>"),t=t.replace(/<#=number#>/g,'<span class="cls-number">'+e.number+"</span>"),t=t.replace(/<#=method#>/g,'<span class="cls-method">'+e.method+"</span>"),t=t.replace(/<#=money#>/g,'<span class="cls-money">'+e.money+"</span>"),t=t.replace(/<#=prize#>/g,'<span class="cls-prize">'+bomao.util.formatMoney(e.prize)+"</span>"),t=t.replace(/<#=balls#>/g,'<span class="cls-balls">'+e.balls+"</span>"),t=t.replace(/<#=commission#>/g,'<span class="cls-commission">'+e.commission+"</span>"),t=t.replace(/<#=status#>/g,'<span class="cls-status">'+e.status+"</span>"),t=t.replace(/<#=id#>/g,e.id),t=t.replace(/<#=rowclass#>/g,a.join(" "))},f=function(e){var t,a,r=n,s=0,o=e.length;for(s=o-1;s>=0;s--)t=e[s],a=r[t.id],a?a.statuscode==t.statuscode&&a.progress==a.progress||$(p(t)).replaceAll(i.find(".row-data-"+t.id)):($(p(t)).prependTo(i),r[t.id]=t)},p=function(e){var a=(t.getCurrentGame().getGameConfig().getInstance().getTraceViewBaseUrl(),u),n=[];return n.push("row-data-"+e.id),a=a.replace(/<#=gamename#>/g,'<span class="cls-gamename">'+e.gamename+"</span>"),a=a.replace(/<#=method#>/g,'<span class="cls-method">'+e.method+"</span>"),a=a.replace(/<#=startnumber#>/g,'<span class="cls-startnumber">'+e.startnumber+"</span>"),a=a.replace(/<#=progress#>/g,'<span class="cls-progress">'+e.progress+"</span>"),a=a.replace(/<#=amount#>/g,'<span class="cls-amount">'+bomao.util.formatMoney(e.amount)+"</span>"),a=a.replace(/<#=prize#>/g,'<span class="cls-balls">'+e.prize+"</span>"),a=a.replace(/<#=iswinstop#>/g,'<span class="cls-iswinstop">'+e.iswinstop+"</span>"),a=a.replace(/<#=status#>/g,'<span class="cls-status">'+e.status+"</span>"),a=a.replace(/<#=rowclass#>/g,n.join(" ")),a=a.replace(/<#=id#>/g,e.id)},h=new bomao.Alive({url:t.getCurrentGame().getGameConfig().getInstance().getPollBetInfoUrl(),cache:!1,dataType:"json",method:"get",looptime:5e3});h.addEvent("afterSuccess",function(e,t){var a=this;a.defConfig;if(r(t)&&1==Number(t.isSuccess)){var n=t.data;$.each(n,function(){switch(this.type){case"bets":c(this.data);break;case"traces":f(this.data)}})}}),h.addEvent("afterError",function(e,t,a){}),m.addEvent("afterSwitch",function(e,t){var a=[];0==t&&a.push({type:"bets"}),1==t&&a.push({type:"traces"}),h.getParams=function(){return{params:a}}}),h.getParams=function(){var e=[{type:"bets"},{type:"traces"}];return{params:e}},h.start()}();var g={recharge:{},withdrawals:{}};!function(){var e=(t.getCurrentGame().getGameConfig().getInstance().getUserRole(),$("#J-balls-statistics-balance, #J-user-amount-num, #J-top-user-balance")),a=0,n=function(t){t!=a&&(e.text(bomao.util.formatMoney(t)),a=t)},s=function(e){var t=g.recharge,a=""+$.cookie("user-recharge-id"),n=""+e.id,r=Number(e.amount);t[n]||a&&a==n||($.cookie("user-recharge-id",n),d.setTitle("充值到账提醒"),d.setContent('<div class="row">您有一笔金额为 <span class="num">'+bomao.util.formatMoney(r)+"</span> 元的充值已到账。</div>"),d.show(),t[n]=e)},o=function(e){var t=g.withdrawals,a=""+$.cookie("user-withdrawals-id"),n=""+e.id,r=Number(e.amount);t[n]||a&&a==n||($.cookie("user-withdrawals-id",n),d.setTitle("提现转账提醒"),d.setContent('<div class="row">您有一笔金额为 <span class="num">'+bomao.util.formatMoney(r)+"</span> 元的提现已处理完毕，请注意查收。</div>"),d.show(),t[n]=e)},i=new bomao.Alive({url:t.getCurrentGame().getGameConfig().getInstance().getPollUserAccountUrl(),cache:!1,dataType:"json",method:"get",looptime:1e4});i.getParams=function(){return{params:[{type:"account"}]}},i.addEvent("afterSuccess",function(e,t){var a=this;a.defConfig;if(r(t)&&1==Number(t.isSuccess)){var i,l,u=t.data;$.each(u,function(){switch(this.type){case"account":i=this.data,$.each(i,function(){switch(l=this,l.type){case"balance":n(Number(l.data));break;case"recharge":s(l.data);break;case"withdrawals":o(l.data)}})}})}}),i.start()}(),function(){var e=new bomao.Alive({url:t.getCurrentGame().getGameConfig().getInstance().getUpdateUrl(),cache:!1,dataType:"json",method:"get",looptime:1e4});e.addEvent("afterSuccess",function(e,a){var r=t.getCurrentGame().getGameConfig().getInstance(),o=""+r.getLastGameNumber(),i=((""+r.getLotteryBalls()).split(""),a.data.lastNumber),l=a.data.lotteryBalls.split("");if($("#J-global-token-value").val(a.data._token),o!=i){s(i,l.join(""));var u=[];$.each(l,function(e){u[e]='<em class="dice dice-'+this+'">'+this+"</em>"}),$("#J-header-newnum").text(i),n(l),document.getElementById("J-input-hidden-lastballs").value=l.join(","),r.updateConfig(a.data),"1"===bomao.voice.voiceOff&&bomao.voice.kaijiang();var c=t.getCurrentGame().getCurrentGameMethod().getId(),m=$("#J-minitrend-trendtable-"+c).find(".first");m.addClass("first-blink"),setTimeout(function(){m.removeClass("first-blink")},1e3)}}),e.getParams=function(){return{}},e.start()}()};$(function(){e()})}();